<!DOCTYPE html><html lang="en-us" dir="ltr"> <head><script async src="https://ot.www.cloudflare.com/public/vendor/onetrust/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" data-domain-script="b1e05d49-f072-4bae-9116-bdb78af15448"></script><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="KeThzeyMOr"><meta name="baidu-site-verification" content="code-NIlrS7gNhx"><meta charset="UTF-8"><meta name="description" content="Get the latest news on how products at Cloudflare are built, technologies used, and open positions to join the teams helping to build a better Internet."><title>Developer Platform</title><meta name="title" content="Developer Platform"><meta name="msvalidate.01" content="CF295E1604697F9CAD18B5A232E871F6"><meta class="swiftype" name="language" data-type="string" content="en"><script src="/static/z/i.js" type="text/javascript" referrerpolicy="origin"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-32x32.png"><link rel="mask-icon" href="/images/favicon-32x32.png" color="#f78100"><link rel="stylesheet" href="/themes/ashes.min.css"><link rel="sitemap" href="/sitemap.xml"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><link rel="canonical" href="https://blog.cloudflare.com/tag/developer-platform/"><link rel="alternate" type="application/rss+xml" title="Cloudflare Developer Platform RSS Feed" href="/tag/developer-platform/rss"><link rel="alternate" hreflang="en-us" href="https://blog.cloudflare.com/tag/developer-platform/"><link rel="alternate" hreflang="de-de" href="https://blog.cloudflare.com/de-de/tag/developer-platform/"><link rel="alternate" hreflang="es-es" href="https://blog.cloudflare.com/es-es/tag/developer-platform/"><link rel="alternate" hreflang="fr-fr" href="https://blog.cloudflare.com/fr-fr/tag/developer-platform/"><link rel="alternate" hreflang="ja-jp" href="https://blog.cloudflare.com/ja-jp/tag/developer-platform/"><link rel="alternate" hreflang="ko-kr" href="https://blog.cloudflare.com/ko-kr/tag/developer-platform/"><link rel="alternate" hreflang="zh-tw" href="https://blog.cloudflare.com/zh-tw/tag/developer-platform/"><link rel="alternate" hreflang="zh-cn" href="https://blog.cloudflare.com/zh-cn/tag/developer-platform/"><link rel="alternate" hreflang="pt-br" href="https://blog.cloudflare.com/pt-br/tag/developer-platform/"><link rel="alternate" hreflang="ru-ru" href="https://blog.cloudflare.com/ru-ru/tag/developer-platform/"><link rel="alternate" hreflang="id-id" href="https://blog.cloudflare.com/id-id/tag/developer-platform/"><link rel="alternate" hreflang="th-th" href="https://blog.cloudflare.com/th-th/tag/developer-platform/"><link rel="alternate" hreflang="pl-pl" href="https://blog.cloudflare.com/pl-pl/tag/developer-platform/"><link rel="alternate" hreflang="nl-nl" href="https://blog.cloudflare.com/nl-nl/tag/developer-platform/"><!-- General Meta Tags --><meta property="article:publisher" content="https://www.facebook.com/cloudflare"><!-- Facebook Meta Tags --><meta property="og:site_name" content="The Cloudflare Blog"><meta property="og:type" content="website"><meta property="og:title" content="The Cloudflare Blog: Developer Platform"><meta property="og:description" content="Collection of Cloudflare blog posts tagged 'Developer Platform'"><meta property="og:url" content="https://blog.cloudflare.com/tag/developer-platform/"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="628"><!-- Twitter/X Meta Tags --><meta name="twitter:title" content="The Cloudflare Blog: Developer Platform"><meta name="twitter:description" content="Collection of Cloudflare blog posts tagged 'Developer Platform'"><meta name="twitter:url" content="https://blog.cloudflare.com/tag/developer-platform/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@cloudflare"><meta property="og:image"><meta name="twitter:image"><link rel="stylesheet" href="/_astro/index.DAblDsYO.css"></head><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZgiU0C" component-url="/_astro/GoogleAnalytics.o7SaAFZX.js" component-export="GoogleAnalytics" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;title&quot;:[0,&quot;Developer Platform&quot;],&quot;canonical&quot;:[0,&quot;https://blog.cloudflare.com/tag/developer-platform&quot;],&quot;info&quot;:[0],&quot;tagInfo&quot;:[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/developer-platform&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;feature_image&quot;:[0,&quot;&quot;],&quot;publicly_index&quot;:[0,true]}],&quot;authorInfo&quot;:[0],&quot;translatedPosts&quot;:[1,[]]}" ssr client="only" opts="{&quot;name&quot;:&quot;GoogleAnalytics&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island><script>(()=>{var l=(n,t)=>{let i=async()=>{await(await n())()},e=typeof t.value=="object"?t.value:void 0,s={timeout:e==null?void 0:e.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event("astro:idle"));})();</script><astro-island uid="Z2toyVN" prefix="r8" component-url="/_astro/Navigation.JWiNRNo9.js" component-export="Navigation" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;logo&quot;:[0,&quot;//images.ctfassets.net/zkvhlag99gkb/69RwBidpiEHCDZ9rFVVk7T/092507edbed698420b89658e5a6d5105/CF_logo_stacked_blktype.png&quot;],&quot;pagesStore&quot;:[0,{&quot;page&quot;:[0,&quot;Tag&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;],&quot;translationsAvailable&quot;:[1,[[0,&quot;de-de&quot;],[0,&quot;es-es&quot;],[0,&quot;fr-fr&quot;],[0,&quot;ja-jp&quot;],[0,&quot;ko-kr&quot;],[0,&quot;zh-tw&quot;],[0,&quot;zh-cn&quot;],[0,&quot;pt-br&quot;],[0,&quot;ru-ru&quot;],[0,&quot;id-id&quot;],[0,&quot;th-th&quot;],[0,&quot;pl-pl&quot;],[0,&quot;nl-nl&quot;]]],&quot;navData&quot;:[1,[[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;6Foe3R8of95cWVnQwe5Toi&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T22:44:28.803Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-06-17T05:04:39.288Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,153],&quot;revision&quot;:[0,44],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;AI&quot;],&quot;name&quot;:[0,&quot;AI&quot;],&quot;slug&quot;:[0,&quot;ai&quot;],&quot;featured&quot;:[0,true],&quot;publiclyIndex&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:43:21.536Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-05-19T05:03:04.375Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,135],&quot;revision&quot;:[0,46],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Developers&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;5kZtWqjqa7aOUoZr8NFGwI&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:43:26.040Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-04-30T14:03:57.409Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,142],&quot;revision&quot;:[0,43],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;name&quot;:[0,&quot;Radar&quot;],&quot;slug&quot;:[0,&quot;cloudflare-radar&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;6QktrXeEFcl4e2dZUTZVGl&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:43:20.198Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-04-09T11:02:56.665Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,68],&quot;revision&quot;:[0,28],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Product News&quot;],&quot;name&quot;:[0,&quot;Product News&quot;],&quot;slug&quot;:[0,&quot;product-news&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;6Mp7ouACN2rT3YjL1xaXJx&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:42:46.231Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-04-09T11:02:54.136Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,134],&quot;revision&quot;:[0,41],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Security&quot;],&quot;name&quot;:[0,&quot;Security&quot;],&quot;slug&quot;:[0,&quot;security&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;16yk8DVbNNifxov5cWvAov&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:56:23.848Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-04-07T23:03:54.104Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,65],&quot;revision&quot;:[0,29],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Policy &amp; Legal&quot;],&quot;name&quot;:[0,&quot;Policy &amp; Legal&quot;],&quot;slug&quot;:[0,&quot;policy&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;J61Eszqn98amrYHq4IhTx&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:43:46.068Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-04-07T23:03:53.720Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,136],&quot;revision&quot;:[0,44],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Zero Trust&quot;],&quot;name&quot;:[0,&quot;Zero Trust&quot;],&quot;slug&quot;:[0,&quot;zero-trust&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;48r7QV00gLMWOIcM1CSDRy&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:54:22.790Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-04-07T23:03:52.422Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,66],&quot;revision&quot;:[0,28],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Speed &amp; Reliability&quot;],&quot;name&quot;:[0,&quot;Speed &amp; Reliability&quot;],&quot;slug&quot;:[0,&quot;speed-and-reliability&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;4g8tPriKOAUwdUT4jNPebe&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:46:40.927Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-04-07T23:03:51.235Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,77],&quot;revision&quot;:[0,29],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Life at Cloudflare&quot;],&quot;name&quot;:[0,&quot;Life at Cloudflare&quot;],&quot;slug&quot;:[0,&quot;life-at-cloudflare&quot;],&quot;featured&quot;:[0,true]}]}],[0,{&quot;metadata&quot;:[0,{&quot;tags&quot;:[1,[]],&quot;concepts&quot;:[1,[]]}],&quot;sys&quot;:[0,{&quot;space&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Space&quot;],&quot;id&quot;:[0,&quot;zkvhlag99gkb&quot;]}]}],&quot;id&quot;:[0,&quot;V86khSc459Yi1AhTlvtY7&quot;],&quot;type&quot;:[0,&quot;Entry&quot;],&quot;createdAt&quot;:[0,&quot;2024-10-09T19:46:53.657Z&quot;],&quot;updatedAt&quot;:[0,&quot;2025-02-04T17:12:59.473Z&quot;],&quot;environment&quot;:[0,{&quot;sys&quot;:[0,{&quot;id&quot;:[0,&quot;master&quot;],&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;Environment&quot;]}]}],&quot;publishedVersion&quot;:[0,57],&quot;revision&quot;:[0,21],&quot;contentType&quot;:[0,{&quot;sys&quot;:[0,{&quot;type&quot;:[0,&quot;Link&quot;],&quot;linkType&quot;:[0,&quot;ContentType&quot;],&quot;id&quot;:[0,&quot;blogTag&quot;]}]}],&quot;locale&quot;:[0,&quot;en-US&quot;]}],&quot;fields&quot;:[0,{&quot;entryTitle&quot;:[0,&quot;Partners&quot;],&quot;name&quot;:[0,&quot;Partners&quot;],&quot;slug&quot;:[0,&quot;partners&quot;],&quot;featured&quot;:[0,true]}]}]]]}],&quot;locale&quot;:[0,&quot;en-us&quot;],&quot;translations&quot;:[0,{&quot;posts.by&quot;:[0,&quot;By&quot;],&quot;footer.gdpr&quot;:[0,&quot;GDPR&quot;],&quot;lang_blurb1&quot;:[0,&quot;This post is also available in {lang1}.&quot;],&quot;lang_blurb2&quot;:[0,&quot;This post is also available in {lang1} and {lang2}.&quot;],&quot;lang_blurb3&quot;:[0,&quot;This post is also available in {lang1}, {lang2} and {lang3}.&quot;],&quot;footer.press&quot;:[0,&quot;Press&quot;],&quot;header.title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;search.clear&quot;:[0,&quot;Clear&quot;],&quot;search.filter&quot;:[0,&quot;Filter&quot;],&quot;search.source&quot;:[0,&quot;Source&quot;],&quot;footer.careers&quot;:[0,&quot;Careers&quot;],&quot;footer.company&quot;:[0,&quot;Company&quot;],&quot;footer.support&quot;:[0,&quot;Support&quot;],&quot;footer.the_net&quot;:[0,&quot;theNet&quot;],&quot;search.filters&quot;:[0,&quot;Filters&quot;],&quot;footer.our_team&quot;:[0,&quot;Our team&quot;],&quot;footer.webinars&quot;:[0,&quot;Webinars&quot;],&quot;page.more_posts&quot;:[0,&quot;More posts&quot;],&quot;posts.time_read&quot;:[0,&quot;{time} min read&quot;],&quot;search.language&quot;:[0,&quot;Language&quot;],&quot;footer.community&quot;:[0,&quot;Community&quot;],&quot;footer.resources&quot;:[0,&quot;Resources&quot;],&quot;footer.solutions&quot;:[0,&quot;Solutions&quot;],&quot;footer.trademark&quot;:[0,&quot;Trademark&quot;],&quot;header.subscribe&quot;:[0,&quot;Subscribe&quot;],&quot;footer.compliance&quot;:[0,&quot;Compliance&quot;],&quot;footer.free_plans&quot;:[0,&quot;Free plans&quot;],&quot;footer.impact_ESG&quot;:[0,&quot;Impact/ESG&quot;],&quot;posts.follow_on_X&quot;:[0,&quot;Follow on X&quot;],&quot;footer.help_center&quot;:[0,&quot;Help center&quot;],&quot;footer.network_map&quot;:[0,&quot;Network Map&quot;],&quot;header.please_wait&quot;:[0,&quot;Please Wait&quot;],&quot;page.related_posts&quot;:[0,&quot;Related posts&quot;],&quot;search.result_stat&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt; for &lt;strong&gt;{search_keyword}&lt;/strong&gt;&quot;],&quot;footer.case_studies&quot;:[0,&quot;Case Studies&quot;],&quot;footer.connect_2024&quot;:[0,&quot;Connect 2024&quot;],&quot;footer.terms_of_use&quot;:[0,&quot;Terms of Use&quot;],&quot;footer.white_papers&quot;:[0,&quot;White Papers&quot;],&quot;footer.cloudflare_tv&quot;:[0,&quot;Cloudflare TV&quot;],&quot;footer.community_hub&quot;:[0,&quot;Community Hub&quot;],&quot;footer.compare_plans&quot;:[0,&quot;Compare plans&quot;],&quot;footer.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.email_address&quot;:[0,&quot;Email Address&quot;],&quot;page.error.not_found&quot;:[0,&quot;Page not found&quot;],&quot;footer.developer_docs&quot;:[0,&quot;Developer docs&quot;],&quot;footer.privacy_policy&quot;:[0,&quot;Privacy Policy&quot;],&quot;footer.request_a_demo&quot;:[0,&quot;Request a demo&quot;],&quot;page.continue_reading&quot;:[0,&quot;Continue reading&quot;],&quot;footer.analysts_report&quot;:[0,&quot;Analyst reports&quot;],&quot;footer.for_enterprises&quot;:[0,&quot;For enterprises&quot;],&quot;footer.getting_started&quot;:[0,&quot;Getting Started&quot;],&quot;footer.learning_center&quot;:[0,&quot;Learning Center&quot;],&quot;footer.project_galileo&quot;:[0,&quot;Project Galileo&quot;],&quot;pagination.newer_posts&quot;:[0,&quot;Newer Posts&quot;],&quot;pagination.older_posts&quot;:[0,&quot;Older Posts&quot;],&quot;posts.social_buttons.x&quot;:[0,&quot;Discuss on X&quot;],&quot;search.icon_aria_label&quot;:[0,&quot;Search&quot;],&quot;search.source_location&quot;:[0,&quot;Source/Location&quot;],&quot;footer.about_cloudflare&quot;:[0,&quot;About Cloudflare&quot;],&quot;footer.athenian_project&quot;:[0,&quot;Athenian Project&quot;],&quot;footer.become_a_partner&quot;:[0,&quot;Become a partner&quot;],&quot;footer.cloudflare_radar&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;footer.network_services&quot;:[0,&quot;Network services&quot;],&quot;footer.trust_and_safety&quot;:[0,&quot;Trust &amp; Safety&quot;],&quot;header.get_started_free&quot;:[0,&quot;Get Started Free&quot;],&quot;page.search.placeholder&quot;:[0,&quot;Search Cloudflare&quot;],&quot;footer.cloudflare_status&quot;:[0,&quot;Cloudflare Status&quot;],&quot;footer.cookie_preference&quot;:[0,&quot;Cookie Preferences&quot;],&quot;header.valid_email_error&quot;:[0,&quot;Must be valid email.&quot;],&quot;search.result_stat_empty&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt;&quot;],&quot;footer.connectivity_cloud&quot;:[0,&quot;Connectivity cloud&quot;],&quot;footer.developer_services&quot;:[0,&quot;Developer services&quot;],&quot;footer.investor_relations&quot;:[0,&quot;Investor relations&quot;],&quot;page.not_found.error_code&quot;:[0,&quot;Error Code: 404&quot;],&quot;search.autocomplete_title&quot;:[0,&quot;Insert a query. Press enter to send&quot;],&quot;footer.logos_and_press_kit&quot;:[0,&quot;Logos &amp; press kit&quot;],&quot;footer.application_services&quot;:[0,&quot;Application services&quot;],&quot;footer.get_a_recommendation&quot;:[0,&quot;Get a recommendation&quot;],&quot;posts.social_buttons.reddit&quot;:[0,&quot;Discuss on Reddit&quot;],&quot;footer.sse_and_sase_services&quot;:[0,&quot;SSE and SASE services&quot;],&quot;page.not_found.outdated_link&quot;:[0,&quot;You may have used an outdated link, or you may have typed the address incorrectly.&quot;],&quot;footer.report_security_issues&quot;:[0,&quot;Report Security Issues&quot;],&quot;page.error.error_message_page&quot;:[0,&quot;Sorry, we can&#39;t find the page you are looking for.&quot;],&quot;header.subscribe_notifications&quot;:[0,&quot;Subscribe to receive notifications of new posts:&quot;],&quot;footer.cloudflare_for_campaigns&quot;:[0,&quot;Cloudflare for Campaigns&quot;],&quot;header.subscription_confimation&quot;:[0,&quot;Subscription confirmed. Thank you for subscribing!&quot;],&quot;posts.social_buttons.hackernews&quot;:[0,&quot;Discuss on Hacker News&quot;],&quot;footer.diversity_equity_inclusion&quot;:[0,&quot;Diversity, equity &amp; inclusion&quot;],&quot;footer.critical_infrastructure_defense_project&quot;:[0,&quot;Critical Infrastructure Defense Project&quot;]}]}" ssr client="idle" opts="{&quot;name&quot;:&quot;NavigationComponent&quot;,&quot;value&quot;:true}" await-children><header class="flex flex-row flex-wrap justify-between items-flex-end mw8 center mv3 pl3 pr1"><div class="w-100 flex items-flex-end justify-between justify-start-l"><div class="w-100 tr flex justify-end"><div class="flex justify-between items-center"><span class="dn di-l pr1"><a href="https://dash.cloudflare.com/sign-up" class="f1 blue1 dn di-l b no-underline underline-hover" target="_blank" rel="noreferrer">Get Started Free</a></span><span class="f1 gray4 dn di-l pr1">|</span><span class="dn di-l"><a target="_blank" href="https://www.cloudflare.com/plans/enterprise/contact/" class="f1 gray4 no-underline underline-hover pr1" rel="noreferrer">Contact Sales</a></span><span class="f1 gray4 dn di-l pr1">|</span><div class="relative flex cf-dropdown"><div class="flex items-center" dir="ltr"><button type="button" class="f1 gray4 no-underline language-picker js-language-picker" style="background:transparent;border:none;padding:0"><span class="language-picker__globe-icon"></span><span class="language-picker__caret-icon ph1">▼</span></button></div></div></div></div></div><div class="w-100 w-50-l flex items-end nb5 nb1-l"><a href="/" class="header-logo mr4 dn db-l"><img class="header-logo" src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/69RwBidpiEHCDZ9rFVVk7T/092507edbed698420b89658e5a6d5105/CF_logo_stacked_blktype.png" alt="The Cloudflare Blog" width="170" height="57"/></a><h2 class="mt0 mb1 dn di-l"><a href="/" class="fw5 f5 gray3 no-underline"><span class="dn di-l">The Cloudflare Blog</span></a></h2></div><div class="w-100 w-50-l dn db-l"><div class="w-100 tr mkto-sub-message"><p class="f2">Subscribe to receive notifications of new posts:</p></div><div class="w-100 tr"><div class="marketo-form-container"><form id="mktoForm_1653"><div class="top-subscribe-form-container"><div class="top-subscribe-form-field"><input placeholder="Email Address" class="top-subscribe-form-input" name="email" type="email" title="Must be valid email."/></div><button class="top-subscribe-form-button" type="button">Subscribe</button></div></form></div></div></div></header><nav dir="ltr" class="bb b--black-10 db dn-l w-100 ph3 "><div class=" flex justify-between items-center" style="height:44px"><a href="/search/"><img class="h-6 w-6" src="/images/magnifier.svg" alt="magnifier icon"/></a><button type="button" style="background:transparent;border:none"><img src="/images/hamburger.svg" alt="hamburger menu"/></button></div><div class="js-mobile-nav-container dn"><div class="flex flex-column flex-wrap bg-gray9 o-95 absolute ph3 z-1 left-0 right-0 mx-4"><div class="pv3 ph2 tl"><a href="/tag/ai/" class="no-underline gray1 f4 fw7">AI</a></div><div class="pv3 ph2 tl"><a href="/tag/developers/" class="no-underline gray1 f4 fw7">Developers</a></div><div class="pv3 ph2 tl"><a href="/tag/cloudflare-radar/" class="no-underline gray1 f4 fw7">Radar</a></div><div class="pv3 ph2 tl"><a href="/tag/product-news/" class="no-underline gray1 f4 fw7">Product News</a></div><div class="pv3 ph2 tl"><a href="/tag/security/" class="no-underline gray1 f4 fw7">Security</a></div><div class="pv3 ph2 tl"><a href="/tag/policy/" class="no-underline gray1 f4 fw7">Policy &amp; Legal</a></div><div class="pv3 ph2 tl"><a href="/tag/zero-trust/" class="no-underline gray1 f4 fw7">Zero Trust</a></div><div class="pv3 ph2 tl"><a href="/tag/speed-and-reliability/" class="no-underline gray1 f4 fw7">Speed &amp; Reliability</a></div><div class="pv3 ph2 tl"><a href="/tag/life-at-cloudflare/" class="no-underline gray1 f4 fw7">Life at Cloudflare</a></div><div class="pv3 ph2 tl"><a href="/tag/partners/" class="no-underline gray1 f4 fw7">Partners</a></div></div></div></nav><nav id="nav" class="w-100 bb-0 bb-l b--black-10 z-1"><div id="desktop-nav-items-container" class="flex flex-wrap justify-between items-center mw8 center mv3 mv0-l"><div data-tag="ai" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/ai/" class="no-underline gray1 f2 fw5 pv3">AI</a></div><div data-tag="developers" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/developers/" class="no-underline gray1 f2 fw5 pv3">Developers</a></div><div data-tag="cloudflare-radar" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/cloudflare-radar/" class="no-underline gray1 f2 fw5 pv3">Radar</a></div><div data-tag="product-news" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/product-news/" class="no-underline gray1 f2 fw5 pv3">Product News</a></div><div data-tag="security" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/security/" class="no-underline gray1 f2 fw5 pv3">Security</a></div><div data-tag="policy" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/policy/" class="no-underline gray1 f2 fw5 pv3">Policy &amp; Legal</a></div><div data-tag="zero-trust" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/zero-trust/" class="no-underline gray1 f2 fw5 pv3">Zero Trust</a></div><div data-tag="speed-and-reliability" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/speed-and-reliability/" class="no-underline gray1 f2 fw5 pv3">Speed &amp; Reliability</a></div><div data-tag="life-at-cloudflare" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/life-at-cloudflare/" class="no-underline gray1 f2 fw5 pv3">Life at Cloudflare</a></div><div data-tag="partners" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/partners/" class="no-underline gray1 f2 fw5 pv3">Partners</a></div><div class="nav-item ml2 mr3 dn db-l pv3" data-tag="search icon"><a href="/search/"><img id="search-icon" class="h-6 w-6" src="/images/magnifier.svg" alt="magnifier icon"/></a></div></div></nav><!--astro:end--></astro-island> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script> <div class="flex flex-row flex-wrap mw8 center bb b--gray8 ph3"> <h1 class="site-title f7 fw4 mt4 mb3 mv4-l">Developer Platform</h1> </div> <main id="site-main" class="flex flex-row flex-wrap mw8 center pt0 pt3-l mt4-l"> <astro-island uid="ZxD1EL" prefix="r0" component-url="/_astro/PostCard.DalyEN7z.js" component-export="PostCard" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;currentPage&quot;:[0,1],&quot;isFeaturedImageFirstPost&quot;:[0,true],&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;kg7dxMzYcRnJdVFrxQmCw&quot;],&quot;title&quot;:[0,&quot;Cloudflare Log Explorer is now GA, providing native observability and forensics&quot;],&quot;slug&quot;:[0,&quot;logexplorer-ga&quot;],&quot;excerpt&quot;:[0,&quot;We are happy to announce the General Availability of Cloudflare Log Explorer, a powerful product designed to bring observability and forensics capabilities directly into your Cloudflare dashboard.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;We are thrilled to announce the General Availability of &lt;a href=\&quot;http://cloudflare.com/application-services/products/log-explorer/\&quot;&gt;&lt;u&gt;Cloudflare Log Explorer&lt;/u&gt;&lt;/a&gt;, a powerful new product designed to bring observability and forensics capabilities directly into your Cloudflare dashboard. Built on the foundation of Cloudflare&amp;#39;s vast &lt;a href=\&quot;https://www.cloudflare.com/network/\&quot;&gt;&lt;u&gt;global network&lt;/u&gt;&lt;/a&gt;, Log Explorer leverages the unique position of our platform to provide a comprehensive and contextualized view of your environment.&lt;/p&gt;&lt;p&gt;Security teams and developers use Cloudflare to detect and mitigate threats in real-time and to optimize application performance. Over the years, users have asked for additional telemetry with full context to investigate security incidents or troubleshoot application performance issues without having to forward data to third party log analytics and Security Information and Event Management (SIEM) tools. Besides avoidable costs, forwarding data externally comes with other drawbacks such as: complex setups, delayed access to crucial data, and a frustrating lack of context that complicates quick mitigation. &lt;/p&gt;&lt;p&gt;Log Explorer has been previewed by several hundred customers over the last year, and they attest to its benefits: &lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;i&gt;“Having WAF logs (firewall events) instantly available in Log Explorer with full context — no waiting, no external tools — has completely changed how we manage our firewall rules. I can spot an issue, adjust the rule with a single click, and immediately see the effect. It’s made tuning for false positives faster, cheaper, and far more effective.” &lt;/i&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;i&gt;“While we use Logpush to ingest Cloudflare logs into our SIEM, when our development team needs to analyze logs, it can be more effective to utilize &lt;/i&gt;&lt;b&gt;&lt;i&gt;Log Explorer&lt;/i&gt;&lt;/b&gt;&lt;i&gt;. SIEMs make it difficult for development teams to write their own queries and manipulate the console to see the logs they need. Cloudflare&amp;#39;s Log Explorer, on the other hand, makes it much &lt;/i&gt;&lt;b&gt;&lt;i&gt;easier&lt;/i&gt;&lt;/b&gt;&lt;i&gt; for dev teams to look at logs and directly search for the information they need.”&lt;/i&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;With Log Explorer, customers have access to Cloudflare logs with all the context available within the Cloudflare platform. Compared to external tools, customers benefit from: &lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Reduced cost and complexity:&lt;/b&gt; Drastically reduce the expense and operational overhead associated with forwarding, storing, and analyzing terabytes of log data in external tools.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Faster detection and triage:&lt;/b&gt; Access Cloudflare-native logs directly, eliminating cumbersome data pipelines and the ingest lags that delay critical security insights.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Accelerated investigations with full context:&lt;/b&gt; Investigate incidents with Cloudflare&amp;#39;s unparalleled contextual data, accelerating your analysis and understanding of &amp;quot;What exactly happened?&amp;quot; and &amp;quot;How did it happen?&amp;quot;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Minimal recovery time:&lt;/b&gt; Seamlessly transition from investigation to action with direct mitigation capabilities via the Cloudflare platform.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Log Explorer is available as an add-on product for customers on our self serve or Enterprise plans. Read on to learn how each of the capabilities of Log Explorer can help you detect and diagnose issues more quickly.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;monitor-security-and-performance-issues-with-custom-dashboards\&quot;&gt;Monitor security and performance issues with custom dashboards&lt;/h3&gt;\n            &lt;a href=\&quot;#monitor-security-and-performance-issues-with-custom-dashboards\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Custom dashboards allow you to define the specific metrics you need in order to monitor unusual or unexpected activity in your environment.&lt;/p&gt;&lt;p&gt;Getting started is easy, with the ability to create a chart using natural language. A natural language interface is integrated into the chart create/edit experience, enabling you to describe in your own words the chart you want to create. Similar to the &lt;a href=\&quot;https://blog.cloudflare.com/security-analytics-ai-assistant/\&quot;&gt;&lt;u&gt;AI Assistant we announced during Security Week 2024&lt;/u&gt;&lt;/a&gt;, the prompt translates your language to the appropriate chart configuration, which can then be added to a new or existing custom dashboard.&lt;/p&gt;&lt;p&gt;As an example, you can create a dashboard for monitoring for the presence of Remote Code Execution (RCE) attacks happening in your environment. An RCE attack is where an attacker is able to compromise a machine in your environment and execute commands. The good news is that RCE is a detection available in Cloudflare WAF.  In the dashboard example below, you can not only watch for RCE attacks, but also correlate them with other security events such as malicious content uploads, source IP addresses, and JA3/JA4 fingerprints. Such a scenario could mean one or more machines in your environment are compromised and being used to spread malware — surely, a very high risk incident!&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1UWOHhIaIFiBTtnohdvbAx/40eeac0b52bc278d0687f7d48cd875fd/BLOG-2838_2.png\&quot; alt=\&quot;A custom dashboard for correlating Remote Code Execution (RCE) activity with source IP, ASN and infected scan results.\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1153\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;A reliability engineer might want to create a dashboard for monitoring errors. They could use the natural language prompt to enter a query like “Compare HTTP status code ranges over time.” The AI model then decides the most appropriate visualization and constructs their chart configuration.&lt;/p&gt;&lt;p&gt;While you can create custom dashboards from scratch, you could also use an expert-curated dashboard template to jumpstart your security and performance monitoring. &lt;/p&gt;&lt;p&gt;Available templates include: &lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Bot monitoring:&lt;/b&gt; Identify automated traffic accessing your website&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;API Security:&lt;/b&gt; Monitor the data transfer and exceptions of API endpoints within your application&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;API Performance:&lt;/b&gt; See timing data for API endpoints in your application, along with error rates&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Account Takeover: &lt;/b&gt;View login attempts, usage of leaked credentials, and identify account takeover attacks&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Performance Monitoring:&lt;/b&gt; Identify slow hosts and paths on your origin server, and view &lt;a href=\&quot;https://blog.cloudflare.com/ttfb-is-not-what-it-used-to-be/\&quot;&gt;time to first byte (TTFB)&lt;/a&gt; metrics over time&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Security Monitoring:&lt;/b&gt; monitor attack distribution across top hosts and paths, correlate DDoS traffic with origin Response time to understand the impact of DDoS attacks.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3PO726Rhjol9khGOdMMnQJ/55462052782974b0fc5b0c885e42e41b/BLOG-2838_3.png\&quot; alt=\&quot;The security monitoring template captures attack distribution and a breakdown of top statistics.\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1373\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;investigate-and-troubleshoot-issues-with-log-search\&quot;&gt;Investigate and troubleshoot issues with Log Search &lt;/h3&gt;\n            &lt;a href=\&quot;#investigate-and-troubleshoot-issues-with-log-search\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Continuing with the example from the prior section, after successfully diagnosing that some machines were compromised through the RCE issue, analysts can pivot over to Log Search in order to investigate whether the attacker was able to access and compromise other internal systems. To do that, the analyst could search logs from Zero Trust services, using context, such as compromised IP addresses from the custom dashboard, shown in the screenshot below: &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4iPrTc1ZtLU4ZxQWojvmje/d09bb0bf25bd17cea1d2f955371d991e/BLOG-2838_4.png\&quot; alt=\&quot;Log search in Zero Trust access logs.\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;812\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;Log Search is a streamlined experience including data type-aware search filters, or the ability to switch to a custom SQL interface for more powerful queries. Log searches are also available via a &lt;a href=\&quot;https://developers.cloudflare.com/logs/log-explorer/\&quot;&gt;&lt;u&gt;public API&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4AytV9wASU5kUuThnhl0CQ/de8c9f4b829e1ccfebdb33bd9522ae5b/BLOG-2838_5.png\&quot; alt=\&quot;Log search with filters generates a SQL query executed by the system.\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;812\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;save-time-and-collaborate-with-saved-queries\&quot;&gt;Save time and collaborate with saved queries&lt;/h3&gt;\n            &lt;a href=\&quot;#save-time-and-collaborate-with-saved-queries\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Queries built in Log Search can now be saved for repeated use and are accessible to other Log Explorer users in your account. This makes it easier than ever to investigate issues together. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4ouInu3nk7iZnAcJAs39F8/cc7ca6a61d19d3d9c1371ad2ca87e913/BLOG-2838_6.png\&quot; alt=\&quot;Log Search Saved Queries side panel showing saved and recent queries.\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1586\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;monitor-proactively-with-custom-alerting-coming-soon\&quot;&gt;Monitor proactively with Custom Alerting (coming soon)&lt;/h3&gt;\n            &lt;a href=\&quot;#monitor-proactively-with-custom-alerting-coming-soon\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;With custom alerting, you can configure custom alert policies in order to proactively monitor the indicators that are important to your business. &lt;/p&gt;&lt;p&gt;Starting from Log Search, define and test your query. From here you can opt to save and configure a schedule interval and alerting policy. The query will run automatically on the schedule you define.&lt;/p&gt;&lt;h4&gt;Tracking error rate for a custom hostname&lt;/h4&gt;&lt;p&gt;If you want to monitor the error rate for a particular host, you can use this Log Search query to calculate the error rate per time interval:&lt;/p&gt;\n            &lt;pre class=\&quot;language-SQL\&quot;&gt;&lt;code class=\&quot;language-SQL\&quot;&gt;SELECT SUBSTRING(EdgeStartTimeStamp, 1, 14) || &amp;#039;00:00&amp;#039; AS time_interval,\n       COUNT() AS total_requests,\n       COUNT(CASE WHEN EdgeResponseStatus &amp;gt;= 500 THEN 1 ELSE NULL END) AS error_requests,\n       COUNT(CASE WHEN EdgeResponseStatus &amp;gt;= 500 THEN 1 ELSE NULL END) * 100.0 / COUNT() AS error_rate_percentage\n FROM http_requests\nWHERE EdgeStartTimestamp &amp;gt;= &amp;#039;2025-06-09T20:56:58Z&amp;#039;\n  AND EdgeStartTimestamp &amp;lt;= &amp;#039;2025-06-10T21:26:58Z&amp;#039;\n  AND ClientRequestHost = &amp;#039;customhostname.com&amp;#039;\nGROUP BY time_interval\nORDER BY time_interval ASC;\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Running the above query returns the following results. You can see the overall error rate percentage in the far right column of the query results.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5v8SNmHt4OJrLSkiM2EKtJ/182c7f5709eef1fbb9e93c5423fc1bae/BLOG-2838_7.png\&quot; alt=\&quot;Log search results for a SQL query authored by a user.\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;693\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;Proactively detect malware&lt;/h4&gt;&lt;p&gt;We can identify malware in the environment by monitoring logs from &lt;a href=\&quot;https://developers.cloudflare.com/cloudflare-one/policies/gateway/\&quot;&gt;Cloudflare Secure Web Gateway&lt;/a&gt;. As an example, &lt;a href=\&quot;https://www.broadcom.com/support/security-center/protection-bulletin/new-katz-stealer-malware-as-a-service-compromises-web-browsers\&quot;&gt;&lt;u&gt;Katz Stealer&lt;/u&gt;&lt;/a&gt; is malware-as-a-service designed for stealing credentials. We can monitor DNS queries and HTTP requests from users within the company in order to identify any machines that may be infected with Katz Stealer malware. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7jgBTCWYpnWoNrFh8xe6ki/306e644ec3753976315c16c9d1560eec/BLOG-2838_8.png\&quot; alt=\&quot;Log Search query of Gateway HTTP logs filtered on url field containing katz\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;585\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7jFwBxsk8rfD3VLAYkG2iA/ebd2ebcd95d12b40978f22bf1bc7be39/BLOG-2838_9.png\&quot; alt=\&quot;Log Search query of Gateway DNS logs filtered on the queryname field containing katz\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;585\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;And with custom alerts, you can configure an alert policy so that you can be notified via webhook or PagerDuty.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;maintain-audit-compliance-with-flexible-retention-coming-soon\&quot;&gt;Maintain audit &amp;amp; compliance with flexible retention (coming soon)&lt;/h3&gt;\n            &lt;a href=\&quot;#maintain-audit-compliance-with-flexible-retention-coming-soon\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;With flexible retention, you can set the precise length of time you want to store your logs, allowing you to meet specific compliance and audit requirements with ease. Other providers require archiving or hot and cold storage, making it difficult to query older logs. Log Explorer is built on top of our R2 storage tier, so historical logs can be queried as easily as current logs. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;how-we-built-log-explorer-to-run-at-cloudflare-scale\&quot;&gt;How we built Log Explorer to run at Cloudflare scale&lt;/h3&gt;\n            &lt;a href=\&quot;#how-we-built-log-explorer-to-run-at-cloudflare-scale\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;With Log Explorer, we have built a scalable log storage platform on top of &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/r2/\&quot;&gt;&lt;u&gt;Cloudflare R2&lt;/u&gt;&lt;/a&gt; that lets you efficiently search your Cloudflare logs using familiar SQL queries. In this section, we’ll look into how we did this and how we solved some technical challenges along the way.\n\nLog Explorer consists of three components: ingestors, compactors, and queriers. Ingestors are responsible for writing logs from Cloudflare’s data pipeline to R2. Compactors optimize storage files, so they can be queried more efficiently. Queriers execute SQL queries from users by fetching, transforming, and aggregating matching logs from R2.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1qEH0futV2are5GnT6vjta/e50c0ec4bbb1cacada117d31b71502e2/BLOG-2838_10.png\&quot; alt=\&quot;Diagram of Log Explorer showing data flowing through Cloudflare network and Log Explorer services to R2.\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;945\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;During ingestion, Log Explorer writes each batch of log records to a Parquet file in R2. &lt;a href=\&quot;https://parquet.apache.org/\&quot;&gt;&lt;u&gt;Apache Parquet&lt;/u&gt;&lt;/a&gt; is an open-source columnar storage file format, and it was an obvious choice for us: it’s optimized for efficient data storage and retrieval, such as by embedding metadata like the minimum and maximum values of each column across the file which enables the queriers to quickly locate the data needed to serve the query.&lt;/p&gt;&lt;p&gt;Log Explorer stores logs on a per-customer level, just like Cloudflare D1, so that your data isn&amp;#39;t mixed with that of other customers. In Q3 2025, per-customer logs will allow you the flexibility to create your own retention policies and decide in which regions you want to store your data.\n\nBut how does Log Explorer find those Parquet files when you query your logs? Log Explorer leverages the &lt;a href=\&quot;https://databricks.com/wp-content/uploads/2020/08/p975-armbrust.pdf\&quot;&gt;&lt;u&gt;Delta Lake&lt;/u&gt;&lt;/a&gt; open table format to provide a database table abstraction atop R2 object storage. A table in Delta Lake pairs data files in Parquet format with a transaction log. The transaction log registers every addition, removal, or modification of a data file for the table – it’s stored right next to the data files in R2.&lt;/p&gt;&lt;p&gt;Given a SQL query for a particular log dataset such as &lt;a href=\&quot;https://developers.cloudflare.com/logs/reference/log-fields/zone/http_requests/\&quot;&gt;&lt;u&gt;HTTP Requests&lt;/u&gt;&lt;/a&gt; or &lt;a href=\&quot;https://developers.cloudflare.com/logs/reference/log-fields/account/gateway_dns/\&quot;&gt;&lt;u&gt;Gateway DNS&lt;/u&gt;&lt;/a&gt;, Log Explorer first has to load the transaction log of the corresponding Delta table from R2. Transaction logs are checkpointed periodically to avoid having to read the entire table history every time a user queries their logs.&lt;/p&gt;&lt;p&gt;Besides listing Parquet files for a table, the transaction log also includes per-column min/max statistics for each Parquet file. This has the benefit that Log Explorer only needs to fetch files from R2 that can possibly satisfy a user query. Finally, queriers use the min/max statistics embedded in each Parquet file to decide which row groups to fetch from the file.&lt;/p&gt;&lt;p&gt;Log Explorer processes SQL queries using &lt;a href=\&quot;https://arrow.apache.org/datafusion/\&quot;&gt;&lt;u&gt;Apache DataFusion&lt;/u&gt;&lt;/a&gt;, a fast, extensible query engine written in Rust, and &lt;a href=\&quot;https://github.com/delta-io/delta-rs\&quot;&gt;&lt;u&gt;delta-rs&lt;/u&gt;&lt;/a&gt;, a community-driven Rust implementation of the Delta Lake protocol. While standing on the shoulders of giants, our team had to solve some unique problems to provide log search at Cloudflare scale.&lt;/p&gt;&lt;p&gt;Log Explorer ingests logs from across Cloudflare’s vast global network, &lt;a href=\&quot;https://www.cloudflare.com/network\&quot;&gt;&lt;u&gt;spanning more than 330 cities in over 125 countries&lt;/u&gt;&lt;/a&gt;. If Log Explorer were to write logs from our servers straight to R2, its storage would quickly fragment into a myriad of small files, rendering log queries prohibitively expensive.&lt;/p&gt;&lt;p&gt;Log Explorer’s strategy to avoid this fragmentation is threefold. First, it leverages Cloudflare’s data pipeline, which collects and batches logs from the edge, ultimately buffering each stream of logs in an internal system named &lt;a href=\&quot;https://blog.cloudflare.com/cloudflare-incident-on-november-14-2024-resulting-in-lost-logs/\&quot;&gt;&lt;u&gt;Buftee&lt;/u&gt;&lt;/a&gt;. Second, log batches ingested from Buftee aren’t immediately committed to the transaction log; rather, Log Explorer stages commits for multiple batches in an intermediate area and “squashes” these commits before they’re written to the transaction log. Third, once log batches have been committed, a process called compaction merges them into larger files in the background.&lt;/p&gt;&lt;p&gt;While the open-source implementation of Delta Lake provides compaction out of the box, we soon encountered an issue when using it for our workloads. Stock compaction merges data files to a desired target size S by sorting the files in reverse order of their size and greedily filling bins of size S with them. By merging logs irrespective of their timestamps, this process distributed ingested batches randomly across merged files, destroying data locality. Despite compaction, a user querying for a specific time frame would still end up fetching hundreds or thousands of files from R2.&lt;/p&gt;&lt;p&gt;For this reason, we wrote a custom compaction algorithm that merges ingested batches in order of their minimum log timestamp, leveraging the min/max statistics mentioned previously. This algorithm reduced the number of overlaps between merged files by two orders of magnitude. As a result, we saw a significant improvement in query performance, with some large queries that had previously taken over a minute completing in just a few seconds.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;follow-along-for-more-updates\&quot;&gt;Follow along for more updates&lt;/h3&gt;\n            &lt;a href=\&quot;#follow-along-for-more-updates\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;We&amp;#39;re just getting started! We&amp;#39;re actively working on even more powerful features to further enhance your experience with Log Explorer. &lt;a href=\&quot;https://blog.cloudflare.com/\&quot;&gt;&lt;u&gt;Subscribe to the blog&lt;/u&gt;&lt;/a&gt; and keep an eye out for more updates in our &lt;a href=\&quot;https://developers.cloudflare.com/changelog/\&quot;&gt;&lt;u&gt;Change Log&lt;/u&gt;&lt;/a&gt; to our observability and forensics offering soon.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;get-access-to-log-explorer\&quot;&gt;Get access to Log Explorer&lt;/h3&gt;\n            &lt;a href=\&quot;#get-access-to-log-explorer\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;To get access to Log Explorer, reach out for a &lt;a href=\&quot;https://www.cloudflare.com/application-services/products/log-explorer/\&quot;&gt;&lt;u&gt;consultation&lt;/u&gt;&lt;/a&gt; or contact your account manager. Additionally, you can read more in our &lt;a href=\&quot;https://developers.cloudflare.com/logs/log-explorer/\&quot;&gt;&lt;u&gt;Developer Documentation&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-06-18T14:00+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-18T14:39:07.479Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6h2B011ckwl7D8iGBIi1eg/cac1584b7d961e984f8cee6bbf26d104/BLOG-2838_1.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;7JpaihvGGjNhG2v4nTxeFV&quot;],&quot;name&quot;:[0,&quot;R2 Storage&quot;],&quot;slug&quot;:[0,&quot;cloudflare-r2&quot;]}],[0,{&quot;id&quot;:[0,&quot;4lvuWnOXVvUOUeWhonoBGO&quot;],&quot;name&quot;:[0,&quot;SIEM&quot;],&quot;slug&quot;:[0,&quot;siem&quot;]}],[0,{&quot;id&quot;:[0,&quot;6QktrXeEFcl4e2dZUTZVGl&quot;],&quot;name&quot;:[0,&quot;Product News&quot;],&quot;slug&quot;:[0,&quot;product-news&quot;]}],[0,{&quot;id&quot;:[0,&quot;5OywGP63AdM9Umyvaku8OP&quot;],&quot;name&quot;:[0,&quot;Connectivity Cloud&quot;],&quot;slug&quot;:[0,&quot;connectivity-cloud&quot;]}],[0,{&quot;id&quot;:[0,&quot;2OotqBxtRdi5MuC90AlyxE&quot;],&quot;name&quot;:[0,&quot;Analytics&quot;],&quot;slug&quot;:[0,&quot;analytics&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;6Mp7ouACN2rT3YjL1xaXJx&quot;],&quot;name&quot;:[0,&quot;Security&quot;],&quot;slug&quot;:[0,&quot;security&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Jen Sells&quot;],&quot;slug&quot;:[0,&quot;jen-sells&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/pRGGBW4TY7QlqKC52En4J/f4c0208797faba8a8b3d9a37c9a5b3f8/jen-sells.JPG&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Claudio Jolowicz&quot;],&quot;slug&quot;:[0,&quot;claudio&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2JTlxgSArsfOEnRmkijlCS/f8c144aebaf2a95a0bda32d84e9b72f1/claudio.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@cjolowicz&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;We are happy to announce the General Availability of Cloudflare Log Explorer, a powerful product designed to bring observability and forensics capabilities directly into your Cloudflare dashboard.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/logexplorer-ga&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0],&quot;description&quot;:[0,&quot;We are happy to announce the General Availability of Cloudflare Log Explorer, a powerful product designed to bring observability and forensics capabilities directly into your Cloudflare dashboard.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1xtHmKmGEdyNbfUxug9fQB/f4d79edca3f0359f818309196d5dcdef/BLOG-2838_OG.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],&quot;translations&quot;:[0,{&quot;posts.by&quot;:[0,&quot;By&quot;],&quot;footer.gdpr&quot;:[0,&quot;GDPR&quot;],&quot;lang_blurb1&quot;:[0,&quot;This post is also available in {lang1}.&quot;],&quot;lang_blurb2&quot;:[0,&quot;This post is also available in {lang1} and {lang2}.&quot;],&quot;lang_blurb3&quot;:[0,&quot;This post is also available in {lang1}, {lang2} and {lang3}.&quot;],&quot;footer.press&quot;:[0,&quot;Press&quot;],&quot;header.title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;search.clear&quot;:[0,&quot;Clear&quot;],&quot;search.filter&quot;:[0,&quot;Filter&quot;],&quot;search.source&quot;:[0,&quot;Source&quot;],&quot;footer.careers&quot;:[0,&quot;Careers&quot;],&quot;footer.company&quot;:[0,&quot;Company&quot;],&quot;footer.support&quot;:[0,&quot;Support&quot;],&quot;footer.the_net&quot;:[0,&quot;theNet&quot;],&quot;search.filters&quot;:[0,&quot;Filters&quot;],&quot;footer.our_team&quot;:[0,&quot;Our team&quot;],&quot;footer.webinars&quot;:[0,&quot;Webinars&quot;],&quot;page.more_posts&quot;:[0,&quot;More posts&quot;],&quot;posts.time_read&quot;:[0,&quot;{time} min read&quot;],&quot;search.language&quot;:[0,&quot;Language&quot;],&quot;footer.community&quot;:[0,&quot;Community&quot;],&quot;footer.resources&quot;:[0,&quot;Resources&quot;],&quot;footer.solutions&quot;:[0,&quot;Solutions&quot;],&quot;footer.trademark&quot;:[0,&quot;Trademark&quot;],&quot;header.subscribe&quot;:[0,&quot;Subscribe&quot;],&quot;footer.compliance&quot;:[0,&quot;Compliance&quot;],&quot;footer.free_plans&quot;:[0,&quot;Free plans&quot;],&quot;footer.impact_ESG&quot;:[0,&quot;Impact/ESG&quot;],&quot;posts.follow_on_X&quot;:[0,&quot;Follow on X&quot;],&quot;footer.help_center&quot;:[0,&quot;Help center&quot;],&quot;footer.network_map&quot;:[0,&quot;Network Map&quot;],&quot;header.please_wait&quot;:[0,&quot;Please Wait&quot;],&quot;page.related_posts&quot;:[0,&quot;Related posts&quot;],&quot;search.result_stat&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt; for &lt;strong&gt;{search_keyword}&lt;/strong&gt;&quot;],&quot;footer.case_studies&quot;:[0,&quot;Case Studies&quot;],&quot;footer.connect_2024&quot;:[0,&quot;Connect 2024&quot;],&quot;footer.terms_of_use&quot;:[0,&quot;Terms of Use&quot;],&quot;footer.white_papers&quot;:[0,&quot;White Papers&quot;],&quot;footer.cloudflare_tv&quot;:[0,&quot;Cloudflare TV&quot;],&quot;footer.community_hub&quot;:[0,&quot;Community Hub&quot;],&quot;footer.compare_plans&quot;:[0,&quot;Compare plans&quot;],&quot;footer.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.email_address&quot;:[0,&quot;Email Address&quot;],&quot;page.error.not_found&quot;:[0,&quot;Page not found&quot;],&quot;footer.developer_docs&quot;:[0,&quot;Developer docs&quot;],&quot;footer.privacy_policy&quot;:[0,&quot;Privacy Policy&quot;],&quot;footer.request_a_demo&quot;:[0,&quot;Request a demo&quot;],&quot;page.continue_reading&quot;:[0,&quot;Continue reading&quot;],&quot;footer.analysts_report&quot;:[0,&quot;Analyst reports&quot;],&quot;footer.for_enterprises&quot;:[0,&quot;For enterprises&quot;],&quot;footer.getting_started&quot;:[0,&quot;Getting Started&quot;],&quot;footer.learning_center&quot;:[0,&quot;Learning Center&quot;],&quot;footer.project_galileo&quot;:[0,&quot;Project Galileo&quot;],&quot;pagination.newer_posts&quot;:[0,&quot;Newer Posts&quot;],&quot;pagination.older_posts&quot;:[0,&quot;Older Posts&quot;],&quot;posts.social_buttons.x&quot;:[0,&quot;Discuss on X&quot;],&quot;search.icon_aria_label&quot;:[0,&quot;Search&quot;],&quot;search.source_location&quot;:[0,&quot;Source/Location&quot;],&quot;footer.about_cloudflare&quot;:[0,&quot;About Cloudflare&quot;],&quot;footer.athenian_project&quot;:[0,&quot;Athenian Project&quot;],&quot;footer.become_a_partner&quot;:[0,&quot;Become a partner&quot;],&quot;footer.cloudflare_radar&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;footer.network_services&quot;:[0,&quot;Network services&quot;],&quot;footer.trust_and_safety&quot;:[0,&quot;Trust &amp; Safety&quot;],&quot;header.get_started_free&quot;:[0,&quot;Get Started Free&quot;],&quot;page.search.placeholder&quot;:[0,&quot;Search Cloudflare&quot;],&quot;footer.cloudflare_status&quot;:[0,&quot;Cloudflare Status&quot;],&quot;footer.cookie_preference&quot;:[0,&quot;Cookie Preferences&quot;],&quot;header.valid_email_error&quot;:[0,&quot;Must be valid email.&quot;],&quot;search.result_stat_empty&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt;&quot;],&quot;footer.connectivity_cloud&quot;:[0,&quot;Connectivity cloud&quot;],&quot;footer.developer_services&quot;:[0,&quot;Developer services&quot;],&quot;footer.investor_relations&quot;:[0,&quot;Investor relations&quot;],&quot;page.not_found.error_code&quot;:[0,&quot;Error Code: 404&quot;],&quot;search.autocomplete_title&quot;:[0,&quot;Insert a query. Press enter to send&quot;],&quot;footer.logos_and_press_kit&quot;:[0,&quot;Logos &amp; press kit&quot;],&quot;footer.application_services&quot;:[0,&quot;Application services&quot;],&quot;footer.get_a_recommendation&quot;:[0,&quot;Get a recommendation&quot;],&quot;posts.social_buttons.reddit&quot;:[0,&quot;Discuss on Reddit&quot;],&quot;footer.sse_and_sase_services&quot;:[0,&quot;SSE and SASE services&quot;],&quot;page.not_found.outdated_link&quot;:[0,&quot;You may have used an outdated link, or you may have typed the address incorrectly.&quot;],&quot;footer.report_security_issues&quot;:[0,&quot;Report Security Issues&quot;],&quot;page.error.error_message_page&quot;:[0,&quot;Sorry, we can&#39;t find the page you are looking for.&quot;],&quot;header.subscribe_notifications&quot;:[0,&quot;Subscribe to receive notifications of new posts:&quot;],&quot;footer.cloudflare_for_campaigns&quot;:[0,&quot;Cloudflare for Campaigns&quot;],&quot;header.subscription_confimation&quot;:[0,&quot;Subscription confirmed. Thank you for subscribing!&quot;],&quot;posts.social_buttons.hackernews&quot;:[0,&quot;Discuss on Hacker News&quot;],&quot;footer.diversity_equity_inclusion&quot;:[0,&quot;Diversity, equity &amp; inclusion&quot;],&quot;footer.critical_infrastructure_defense_project&quot;:[0,&quot;Critical Infrastructure Defense Project&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;PostCard&quot;,&quot;value&quot;:true}" await-children><article class="w-100 featured-post  flex flex-row flex-wrap mb4 items-center bb b--gray8 bn-l  mt4 mt2-l mb4 ph3 bb b--gray8 bn-l"><div class="w-50-l"><a href="/logexplorer-ga/" class="fw5 no-underline gray1" data-testid="post-title"><h2 class="fw5 mt2">Cloudflare Log Explorer is now GA, providing native observability and forensics</h2></a><p class="f3 fw5 gray5 my" data-testid="post-date">2025-06-18</p><p class="f4 fw3 lh-copy " data-testid="post-content">We are happy to announce the General Availability of Cloudflare Log Explorer, a powerful product designed to bring observability and forensics capabilities directly into your Cloudflare dashboard.<!-- -->...</p><a href="/logexplorer-ga/" class="no-underline gray1 f4 lh-copy fw3 underline-hover" data-testid="post-continue-reading">Continue reading »</a><ul class="author-lists flex pl0"><li class="list flex items-center pr2 mb3"><a href="/author/jen-sells/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/pRGGBW4TY7QlqKC52En4J/f4c0208797faba8a8b3d9a37c9a5b3f8/jen-sells.JPG" alt="Jen Sells" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/jen-sells/" class="fw5 f4 no-underline black">Jen Sells</a></div></li><li class="list flex items-center pr2 mb3"><a href="/author/claudio/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2JTlxgSArsfOEnRmkijlCS/f8c144aebaf2a95a0bda32d84e9b72f1/claudio.jpg" alt="Claudio Jolowicz" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/claudio/" class="fw5 f4 no-underline black">Claudio Jolowicz</a></div></li></ul></div><div class="w-50-l"><img class="dn di-l " src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6h2B011ckwl7D8iGBIi1eg/cac1584b7d961e984f8cee6bbf26d104/BLOG-2838_1.png" alt="Cloudflare Log Explorer is now GA, providing native observability and forensics"/></div></article><!--astro:end--></astro-island><astro-island uid="ZHeGpS" prefix="r1" component-url="/_astro/PostCard.DalyEN7z.js" component-export="PostCard" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;currentPage&quot;:[0,1],&quot;isFeaturedImageFirstPost&quot;:[0,false],&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;3YwK1RRHXn4kGrNazu4AKd&quot;],&quot;title&quot;:[0,&quot;Building an AI Agent that puts humans in the loop with Knock and Cloudflare’s Agents SDK&quot;],&quot;slug&quot;:[0,&quot;building-agents-at-knock-agents-sdk&quot;],&quot;excerpt&quot;:[0,&quot;How Knock shipped an AI Agent with human-in-the-loop capabilities with Cloudflare’s Agents SDK and Cloudflare Workers.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;&lt;sub&gt;&lt;i&gt;This is a guest post by Chris Bell, CTO of &lt;/i&gt;&lt;/sub&gt;&lt;a href=\&quot;https://knock.app/\&quot;&gt;&lt;sub&gt;&lt;i&gt;&lt;u&gt;Knock&lt;/u&gt;&lt;/i&gt;&lt;/sub&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;There’s a lot of talk right now about building AI agents, but not a lot out there about what it takes to make those agents truly &lt;i&gt;useful&lt;/i&gt;.&lt;/p&gt;&lt;p&gt;An Agent is an autonomous system designed to make decisions and perform actions to achieve a specific goal or set of goals, without human input.&lt;/p&gt;&lt;p&gt;No matter how good your agent is at making decisions, you will need a person to provide guidance or input on the agent’s path towards its goal. After all, an agent that cannot interact or respond to the outside world and the systems that govern it will be limited in the problems it can solve.&lt;/p&gt;&lt;p&gt;That’s where the “human-in-the-loop” interaction pattern comes in. You&amp;#39;re bringing a human &lt;i&gt;into&lt;/i&gt; the agent&amp;#39;s loop and requiring an input from that human before the agent can continue on its task.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6dhEhrOtwdaWOjJqhrzmMw/cc8576e7ccce43e2df1bacfd91b125ff/image3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;625\&quot; height=\&quot;565\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;In this blog post, we&amp;#39;ll use&lt;a href=\&quot;https://knock.app/\&quot;&gt; &lt;u&gt;Knock&lt;/u&gt;&lt;/a&gt; and the Cloudflare&lt;a href=\&quot;https://developers.cloudflare.com/agents/\&quot;&gt; &lt;u&gt;Agents SDK&lt;/u&gt;&lt;/a&gt; to build an AI Agent for a virtual card issuing workflow that requires human approval when a new card is requested.&lt;/p&gt;&lt;p&gt;You can find the complete code for this example&lt;a href=\&quot;https://github.com/knocklabs/ai-agent-examples/tree/main/card-issue-agent\&quot;&gt; &lt;u&gt;in the repository&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;what-is-knock\&quot;&gt;What is Knock?&lt;/h2&gt;\n            &lt;a href=\&quot;#what-is-knock\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;&lt;a href=\&quot;https://knock.app/\&quot;&gt;&lt;u&gt;Knock&lt;/u&gt;&lt;/a&gt; is messaging infrastructure you can use to send multi-channel messages across in-app, email, SMS, push, and Slack, without writing any integration code.&lt;/p&gt;&lt;p&gt;With Knock, you gain complete visibility into the messages being sent to your users while also handling reliable delivery, user notification preferences, and more.&lt;/p&gt;&lt;p&gt;You can use Knock to power human-in-the-loop flows for your agents using Knock’s&lt;a href=\&quot;https://docs.knock.app/developer-tools/agent-toolkit/overview\&quot;&gt; &lt;u&gt;Agent Toolkit&lt;/u&gt;&lt;/a&gt;, which is a set of tools that expose Knock’s APIs and messaging capabilities to your AI agents.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;using-the-agent-sdk-as-the-foundation-of-our-ai-agent\&quot;&gt;Using the Agent SDK as the foundation of our AI Agent&lt;/h2&gt;\n            &lt;a href=\&quot;#using-the-agent-sdk-as-the-foundation-of-our-ai-agent\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;The Agents SDK provides an abstraction for building stateful, real-time agents on top of &lt;a href=\&quot;https://developers.cloudflare.com/durable-objects/\&quot;&gt;&lt;u&gt;Durable Objects&lt;/u&gt;&lt;/a&gt; that are globally addressable and persist state using an embedded, &lt;a href=\&quot;https://blog.cloudflare.com/sqlite-in-durable-objects/\&quot;&gt;&lt;u&gt;zero-latency&lt;/u&gt;&lt;/a&gt; SQLite database.&lt;/p&gt;&lt;p&gt;Building an AI agent outside of using the Agents SDK and the Cloudflare platform means we need to consider WebSocket servers, state persistence, and how to scale our service horizontally. Because a Durable Object backs the Agents SDK, we receive these benefits for free, while having a globally addressable piece of compute with built-in storage, that’s completely serverless and scales to zero.&lt;/p&gt;&lt;p&gt;In the example, we’ll use these features to build an agent that users interact with in real-time via chat, and that can be paused and resumed as needed. The Agents SDK is the ideal platform for powering asynchronous agentic workflows, such as those required in human-in-the-loop interactions.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;setting-up-our-knock-messaging-workflow\&quot;&gt;Setting up our Knock messaging workflow&lt;/h2&gt;\n            &lt;a href=\&quot;#setting-up-our-knock-messaging-workflow\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Within Knock, we design our approval workflow using the visual workflow builder to create the cross-channel messaging logic. We then make the notification templates associated with each channel to which we want to send messages.&lt;/p&gt;&lt;p&gt;Knock will automatically apply the&lt;a href=\&quot;https://docs.knock.app/concepts/preferences\&quot;&gt; &lt;u&gt;user’s preferences&lt;/u&gt;&lt;/a&gt; as part of the workflow execution, ensuring that your user’s notification settings are respected.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5f1hOpKg3xTxZwYuJYmUAl/83088b52e8cb26aaed561d00733fd2e1/image1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1299\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;You can find an example workflow that we’ve already created for this demo in the repository. You can use this workflow template via the&lt;a href=\&quot;https://docs.knock.app/cli\&quot;&gt; &lt;u&gt;Knock CLI&lt;/u&gt;&lt;/a&gt; to import it into your account.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;building-our-chat-ui\&quot;&gt;Building our chat UI&lt;/h2&gt;\n            &lt;a href=\&quot;#building-our-chat-ui\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We’ve built the AI Agent as a chat interface on top of the &lt;code&gt;AIChatAgent&lt;/code&gt; abstraction from Cloudflare’s Agents SDK (&lt;a href=\&quot;https://developers.cloudflare.com/agents/api-reference/agents-api/#chat-agent\&quot;&gt;&lt;u&gt;docs&lt;/u&gt;&lt;/a&gt;). The Agents SDK here takes care of the bulk of the complexity, and we’re left to implement our LLM calling code with our system prompt.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;// src/index.ts\n\nimport { AIChatAgent } from &amp;quot;agents/ai-chat-agent&amp;quot;;\nimport { openai } from &amp;quot;@ai-sdk/openai&amp;quot;;\nimport { createDataStreamResponse, streamText } from &amp;quot;ai&amp;quot;;\n\nexport class AIAgent extends AIChatAgent {\n  async onChatMessage(onFinish) {\n    return createDataStreamResponse({\n      execute: async (dataStream) =&amp;gt; {\n        try {\n          const stream = streamText({\n            model: openai(&amp;quot;gpt-4o-mini&amp;quot;),\n            system: `You are a helpful assistant for a financial services company. You help customers with credit card issuing.`,\n            messages: this.messages,\n            onFinish,\n            maxSteps: 5,\n          });\n\n          stream.mergeIntoDataStream(dataStream);\n        } catch (error) {\n          console.error(error);\n        }\n      },\n    });\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;On the client side, we’re using the &lt;code&gt;useAgentChat&lt;/code&gt; hook from the &lt;code&gt;agents/ai-react&lt;/code&gt; package to power the real-time user-to-agent chat.&lt;/p&gt;&lt;p&gt;We’ve modeled our agent as a chat per user, which we set up using the &lt;code&gt;useAgent&lt;/code&gt; hook by specifying the name of the process as the &lt;code&gt;userId&lt;/code&gt;.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;// src/index.ts\n\nimport { useAgent } from &amp;quot;agents/react&amp;quot;;\nimport { useAgentChat } from &amp;quot;agents/ai-react&amp;quot;;\n\nfunction Chat({ userId }: { userId: string }) {\n  const agent = useAgent({ agent: &amp;quot;AIAgent&amp;quot;, name: userId });\n  const { messages, input, handleInputChange, handleSubmit, isLoading } = useAgentChat({ agent });\n  // ... \n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;This means we have an agent process, and therefore a durable object, per-user. For our human-in-the-loop use case, this becomes important later on as we talk about resuming our deferred tool call.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;deferring-the-tool-call-to-knock\&quot;&gt;Deferring the tool call to Knock&lt;/h2&gt;\n            &lt;a href=\&quot;#deferring-the-tool-call-to-knock\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We give the agent our card issuing capability through exposing an &lt;code&gt;issueCard&lt;/code&gt; tool. However, instead of writing the approval flow and cross-channel logic ourselves, we delegate it entirely to Knock by wrapping the issue card tool in our &lt;code&gt;requireHumanInput&lt;/code&gt; method.&lt;/p&gt;&lt;p&gt;Now when the user asks to request a new card, we make a call out to Knock to initiate our card request, which will notify the appropriate admins in the organization to request an approval.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3siyPnpYiEmoNIQ7eNCRP/13bd33905cfb5c7ad6812a4359d35627/image2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;664\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;To set this up, we need to use Knock’s Agent Toolkit, which exposes methods to work with Knock in our AI agent and power cross-channel messaging.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;import { createKnockToolkit } from &amp;quot;@knocklabs/agent-toolkit/ai-sdk&amp;quot;;\nimport { tool } from &amp;quot;ai&amp;quot;;\nimport { z } from &amp;quot;zod&amp;quot;;\n\nimport { AIAgent } from &amp;quot;./index&amp;quot;;\nimport { issueCard } from &amp;quot;./api&amp;quot;;\nimport { BASE_URL } from &amp;quot;./constants&amp;quot;;\n\nasync function initializeToolkit(agent: AIAgent) {\n  const toolkit = await createKnockToolkit({ serviceToken: agent.env.KNOCK_SERVICE_TOKEN });\n\n  const issueCardTool = tool({\n    description: &amp;quot;Issue a new credit card to a customer.&amp;quot;,\n    parameters: z.object({\n      customerId: z.string(),\n    }),\n    execute: async ({ customerId }) =&amp;gt; {\n      return await issueCard(customerId);\n    },\n  });\n\n  const { issueCard } = toolkit.requireHumanInput(\n    { issueCard: issueCardTool },\n    {\n      workflow: &amp;quot;approve-issued-card&amp;quot;,\n      actor: agent.name,\n      recipients: [&amp;quot;admin_user_1&amp;quot;],\n      metadata: {\n        approve_url: `${BASE_URL}/card-issued/approve`,\n        reject_url: `${BASE_URL}/card-issued/reject`,\n      },\n    }\n  );\n  \n  return { toolkit, tools: { issueCard } };  \n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;There’s a lot going on here, so let’s walk through the key parts:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;We wrap our &lt;code&gt;issueCard&lt;/code&gt; tool in the &lt;code&gt;requireHumanInput&lt;/code&gt; method, exposed from the Knock Agent Toolkit&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;We want the messaging workflow to be invoked to be our &lt;code&gt;approve-issued-card&lt;/code&gt; workflow&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;We pass the agent.name as the &lt;code&gt;actor&lt;/code&gt; of the request, which translates to the user ID&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;We set the recipient of this workflow to be the user &lt;code&gt;admin_user_1&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;We pass the approve and reject URLs so that they can be used in our message templates&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;The wrapped tool is then returned as &lt;code&gt;issueCard&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Under the hood, these options are passed to the&lt;a href=\&quot;https://docs.knock.app/api-reference/workflows/trigger\&quot;&gt; &lt;u&gt;Knock workflow trigger API&lt;/u&gt;&lt;/a&gt; to invoke a workflow per-recipient. The set of the recipients listed here could be dynamic, or go to a group of users through&lt;a href=\&quot;https://docs.knock.app/concepts/subscriptions\&quot;&gt; &lt;u&gt;Knock’s subscriptions API&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;We can then pass the wrapped issue card tool to our LLM call in the &lt;code&gt;onChatMessage&lt;/code&gt; method on the agent so that the tool call can be called as part of the interaction with the agent.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;export class AIAgent extends AIChatAgent {\n  // ... other methods\n\n  async onChatMessage(onFinish) {\n    const { tools } = await initializeToolkit(this);\n\n    return createDataStreamResponse({\n      execute: async (dataStream) =&amp;gt; {\n        const stream = streamText({\n          model: openai(&amp;quot;gpt-4o-mini&amp;quot;),\n          system: &amp;quot;You are a helpful assistant for a financial services company. You help customers with credit card issuing.&amp;quot;,\n          messages: this.messages,\n          onFinish,\n          tools,\n          maxSteps: 5,\n        });\n\n        stream.mergeIntoDataStream(dataStream);\n      },\n    });\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Now when the agent calls the &lt;code&gt;issueCardTool&lt;/code&gt;, we invoke Knock to send our approval notifications, deferring the tool call to issue the card until we receive an approval. Knock’s workflows take care of sending out the message to the set of recipient’s specified, generating and delivering messages according to each user’s preferences.&lt;/p&gt;&lt;p&gt;Using Knock&lt;a href=\&quot;https://docs.knock.app/concepts/workflows\&quot;&gt; &lt;u&gt;workflows&lt;/u&gt;&lt;/a&gt; for our approval message makes it easy to build cross-channel messaging to reach the user according to their communication&lt;a href=\&quot;https://docs.knock.app/concepts/preferences\&quot;&gt; &lt;u&gt;preferences&lt;/u&gt;&lt;/a&gt;. We can also leverage&lt;a href=\&quot;https://docs.knock.app/designing-workflows/delay-function\&quot;&gt; &lt;u&gt;delays&lt;/u&gt;&lt;/a&gt;,&lt;a href=\&quot;https://docs.knock.app/designing-workflows/throttle-function\&quot;&gt; &lt;u&gt;throttles&lt;/u&gt;&lt;/a&gt;,&lt;a href=\&quot;https://docs.knock.app/designing-workflows/batch-function\&quot;&gt; &lt;u&gt;batching&lt;/u&gt;&lt;/a&gt;, and&lt;a href=\&quot;https://docs.knock.app/designing-workflows/step-conditions\&quot;&gt; &lt;u&gt;conditions&lt;/u&gt;&lt;/a&gt; to orchestrate more complex messaging.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;handling-the-approval\&quot;&gt;Handling the approval&lt;/h2&gt;\n            &lt;a href=\&quot;#handling-the-approval\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Once the message has been sent to our approvers, the next step is to handle the approval coming back, bringing the human into the agent’s loop.&lt;/p&gt;&lt;p&gt;The approval request is asynchronous, meaning that the response can come at any point in the future. Fortunately, Knock takes care of the heavy lifting here for you, routing the event to the agent worker via a&lt;a href=\&quot;https://docs.knock.app/developer-tools/outbound-webhooks/overview\&quot;&gt; &lt;u&gt;webhook&lt;/u&gt;&lt;/a&gt; that tracks the interaction with the underlying message. In our case, that’s a click to the &amp;quot;approve&amp;quot; or &amp;quot;reject&amp;quot; button.&lt;/p&gt;&lt;p&gt;First, we set up a &lt;code&gt;message.interacted&lt;/code&gt; webhook handler within the Knock dashboard to forward the interactions to our worker, and ultimately to our agent process.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5CZkwJmmOw09FNmhRUqFrC/7e7d195276331b42778518b821f7707f/image4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1299\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;In our example here, we route the approval click back to the worker to handle, appending a Knock message ID to the end of the &lt;code&gt;approve_url&lt;/code&gt; and &lt;code&gt;reject_url&lt;/code&gt; to track engagement against the specific message sent. We do this via liquid inside of our message templates in Knock: &lt;code&gt;{{ data.approve_url }}?messageId={{ current_message.id }} &lt;/code&gt;. One caveat here is that if this were a production application, we’re likely going to handle our approval click in a different application than this agent is running. We co-located it here for the purposes of this demo only.&lt;/p&gt;&lt;p&gt;Once the link is clicked, we have a handler in our worker to mark the message as interacted using Knock’s&lt;a href=\&quot;https://docs.knock.app/api-reference/messages/mark_as_interacted\&quot;&gt; &lt;u&gt;message interaction API&lt;/u&gt;&lt;/a&gt;, passing through the status as metadata so that it can be used later.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;import Knock from &amp;#039;@knocklabs/node&amp;#039;;\nimport { Hono } from &amp;quot;hono&amp;quot;;\n\nconst app = new Hono();\nconst client = new Knock();\n\napp.get(&amp;quot;/card-issued/approve&amp;quot;, async (c) =&amp;gt; {\n  const { messageId } = c.req.query();\n  \n  if (!messageId) return c.text(&amp;quot;No message ID found&amp;quot;, { status: 400 });\n\n  await client.messages.markAsInteracted(messageId, {\n    status: &amp;quot;approved&amp;quot;,\n  });\n\n  return c.text(&amp;quot;Approved&amp;quot;);\n});&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;The message interaction will flow from Knock to our worker via the webhook we set up, ensuring that the process is fully asynchronous. The payload of the webhook includes the full message, including metadata about the user that generated the original request, and keeps details about the request itself, which in our case contains the tool call.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;import { getAgentByName, routeAgentRequest } from &amp;quot;agents&amp;quot;;\nimport { Hono } from &amp;quot;hono&amp;quot;;\n\nconst app = new Hono();\n\napp.post(&amp;quot;/incoming/knock/webhook&amp;quot;, async (c) =&amp;gt; {\n  const body = await c.req.json();\n  const env = c.env as Env;\n\n  // Find the user ID from the tool call for the calling user\n  const userId = body?.data?.actors[0];\n\n  if (!userId) {\n    return c.text(&amp;quot;No user ID found&amp;quot;, { status: 400 });\n  }\n\n  // Find the agent DO for the user\n  const existingAgent = await getAgentByName(env.AIAgent, userId);\n\n  if (existingAgent) {\n    // Route the request to the agent DO to process\n    const result = await existingAgent.handleIncomingWebhook(body);\n\n    return c.json(result);\n  } else {\n    return c.text(&amp;quot;Not found&amp;quot;, { status: 404 });\n  }\n});&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;We leverage the agent’s ability to be addressed by a named identifier to route the request from the worker to the agent. In our case, that’s the &lt;code&gt;userId&lt;/code&gt;. Because the agent is backed by a durable object, this process of going from incoming worker request to finding and resuming the agent is trivial.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;resuming-the-deferred-tool-call\&quot;&gt;Resuming the deferred tool call&lt;/h2&gt;\n            &lt;a href=\&quot;#resuming-the-deferred-tool-call\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We then use the context about the original tool call, passed through to Knock and round tripped back to the agent, to resume the tool execution and issue the card.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;export class AIAgent extends AIChatAgent {\n  // ... other methods\n\n  async handleIncomingWebhook(body: any) {\n    const { toolkit } = await initializeToolkit(this);\n\n    const deferredToolCall = toolkit.handleMessageInteraction(body);\n\n    if (!deferredToolCall) {\n      return { error: &amp;quot;No deferred tool call given&amp;quot; };\n    }\n\n    // If we received an &amp;quot;approved&amp;quot; status then we know the call was approved \n    // so we can resume the deferred tool call execution\n    if (result.interaction.status === &amp;quot;approved&amp;quot;) {\n      const toolCallResult = \n\t      await toolkit.resumeToolExecution(result.toolCall);\n\n      const { response } = await generateText({\n        model: openai(&amp;quot;gpt-4o-mini&amp;quot;),\n        prompt: `You were asked to issue a card for a customer. The card is now approved. The result was: ${JSON.stringify(toolCallResult)}.`,\n      });\n\n      const message = responseToAssistantMessage(\n        response.messages[0],\n        result.toolCall,\n        toolCallResult\n      );\n\n      // Save the message so that it&amp;#039;s displayed to the user\n      this.persistMessages([...this.messages, message]);\n    }\n\n    return { status: &amp;quot;success&amp;quot; };\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Again, there’s a lot going on here, so let’s step through the important parts:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;We attempt to transform the body, which is the webhook payload from Knock, into a deferred tool call via the &lt;code&gt;handleMessageInteraction&lt;/code&gt; method&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;If the metadata status we passed through to the interaction call earlier has an “approved” status then we resume the tool call via the &lt;code&gt;resumeToolExecution&lt;/code&gt; method&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Finally, we generate a message from the LLM and persist it, ensuring that the user is informed of the approved card&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;With this last piece in place, we can now request a new card be issued, have an approval request be dispatched from the agent, send the approval messages, and route those approvals back to our agent to be processed. The agent will asynchronously process our card issue request and the deferred tool call will be resumed for us, with very little code.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;protecting-against-duplicate-approvals\&quot;&gt;Protecting against duplicate approvals&lt;/h2&gt;\n            &lt;a href=\&quot;#protecting-against-duplicate-approvals\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;One issue with the above implementation is that we’re prone to issuing multiple cards if someone clicks on the approve button more than once. To rectify this, we want to keep track of the tool calls being issued, and ensure that the call is processed at most once.&lt;/p&gt;&lt;p&gt;To power this we leverage the&lt;a href=\&quot;https://developers.cloudflare.com/agents/api-reference/store-and-sync-state/\&quot;&gt; &lt;u&gt;agent’s built-in state&lt;/u&gt;&lt;/a&gt;, which can be used to persist information without reaching for another persistence store like a database or Redis, although we could absolutely do so if we wished. We can track the tool calls by their ID and capture their current status, right inside the agent process.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;type ToolCallStatus = &amp;quot;requested&amp;quot; | &amp;quot;approved&amp;quot; | &amp;quot;rejected&amp;quot;;\n\nexport interface AgentState {\n  toolCalls: Record&amp;lt;string, ToolCallStatus&amp;gt;;\n}\n\nclass AIAgent extends AIChatAgent&amp;lt;Env, AgentState&amp;gt; {\n  initialState: AgentState = {\n    toolCalls: {},\n  };\n  \n  setToolCallStatus(toolCallId: string, status: ToolCallStatus) {\n    this.setState({\n      ...this.state,\n      toolCalls: { ...this.state.toolCalls, [toolCallId]: status },\n    });\n  } \n  // ... \n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Here, we create the initial state for the tool calls as an empty object. We also add a quick setter helper method to make interactions easier.&lt;/p&gt;&lt;p&gt;Next up, we need to record the tool call being made. To do so, we can use the &lt;code&gt;onAfterCallKnock&lt;/code&gt; option in the &lt;code&gt;requireHumanInput&lt;/code&gt; helper to capture that the tool call has been requested for the user.&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;const { issueCard }  = toolkit.requireHumanInput(\n  { issueCard: issueCardTool },\n  {\n    // Keep track of the tool call state once it&amp;#039;s been sent to Knock\n    onAfterCallKnock: async (toolCall) =&amp;gt; \n      agent.setToolCallStatus(toolCall.id, &amp;quot;requested&amp;quot;),\n    // ... as before\n  }\n);&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Finally, we then need to check the state when we’re processing the incoming webhook, and mark the tool call as approved (some code omitted for brevity).&lt;/p&gt;\n            &lt;pre class=\&quot;language-TypeScript\&quot;&gt;&lt;code class=\&quot;language-TypeScript\&quot;&gt;export class AIAgent extends AIChatAgent {\n  async handleIncomingWebhook(body: any) {\n    const { toolkit } = await initializeToolkit(this);\n    const deferredToolCall = toolkit.handleMessageInteraction(body);\n    const toolCallId = result.toolCall.id;\n\n    // Make sure this is a tool call that can be processed\n    if (this.state.toolCalls[toolCallId] !== &amp;quot;requested&amp;quot;) {\n      return { error: &amp;quot;Tool call is not requested&amp;quot; };\n    }\n\n    if (result.interaction.status === &amp;quot;approved&amp;quot;) {\n      const toolCallResult = await toolkit.resumeToolExecution(result.toolCall);\n      this.setToolCallStatus(toolCallId, &amp;quot;approved&amp;quot;);\n      // ... rest as before\n    }\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;conclusion\&quot;&gt;Conclusion&lt;/h2&gt;\n            &lt;a href=\&quot;#conclusion\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Using the Agents SDK and Knock, it’s easy to build advanced human-in-the-loop experiences that defer tool calls.&lt;/p&gt;&lt;p&gt;Knock’s workflow builder and notification engine gives you building blocks to create sophisticated cross-channel messaging for your agents. You can easily create escalation flows that send messages through SMS, push, email, or Slack that respect the notification preferences of your users. Knock also gives you complete visibility into the messages your users are receiving.&lt;/p&gt;&lt;p&gt;The Durable Object abstraction underneath the Agents SDK means that we get a globally addressable agent process that’s easy to yield and resume back to. The persistent storage in the Durable Object means we can retain the complete chat history per-user, and any other state that’s required in the agent process to resume the agent with (like our tool calls). Finally, the serverless nature of the underlying Durable Object means we’re able to horizontally scale to support a large number of users with no effort.&lt;/p&gt;&lt;p&gt;If you’re looking to build your own AI Agent chat experience with a multiplayer human-in-the-loop experience, you’ll find the complete code from this guide&lt;a href=\&quot;https://github.com/knocklabs/ai-agent-examples/tree/main/card-issue-agent\&quot;&gt; &lt;u&gt;available in GitHub&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-06-03T14:00+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-11T14:09:01.698Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4QDMGATQYFYtzw9CfEpZeA/b850ebb2dd2b22fd415807c4a7a09cf2/hero-knock-cloudflare-agents.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;6Foe3R8of95cWVnQwe5Toi&quot;],&quot;name&quot;:[0,&quot;AI&quot;],&quot;slug&quot;:[0,&quot;ai&quot;]}],[0,{&quot;id&quot;:[0,&quot;22RkiaggH3NV4u6qyMmC42&quot;],&quot;name&quot;:[0,&quot;Agents&quot;],&quot;slug&quot;:[0,&quot;agents&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;5v2UZdTRX1Rw9akmhexnxs&quot;],&quot;name&quot;:[0,&quot;Durable Objects&quot;],&quot;slug&quot;:[0,&quot;durable-objects&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Chris Bell (Guest author)&quot;],&quot;slug&quot;:[0,&quot;Chris Bell (Guest author)&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1oACtpoGbOmqrsRXMO0Mgu/913b30bfa207cac04efee1e17df60d6e/Chris_Bell.png&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0,&quot;cjbell_&quot;],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;How Knock shipped an AI Agent with human-in-the-loop capabilities with Cloudflare’s Agents SDK and Cloudflare Workers.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/building-agents-at-knock-agents-sdk&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Building an AI Agent that puts humans in the loop with Knock and Cloudflare’s Agents SDK&quot;],&quot;description&quot;:[0,&quot;How Knock shipped an AI Agent with human-in-the-loop capabilities with Cloudflare’s Agents SDK and Cloudflare Workers.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4QDMGATQYFYtzw9CfEpZeA/b850ebb2dd2b22fd415807c4a7a09cf2/hero-knock-cloudflare-agents.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],&quot;translations&quot;:[0,{&quot;posts.by&quot;:[0,&quot;By&quot;],&quot;footer.gdpr&quot;:[0,&quot;GDPR&quot;],&quot;lang_blurb1&quot;:[0,&quot;This post is also available in {lang1}.&quot;],&quot;lang_blurb2&quot;:[0,&quot;This post is also available in {lang1} and {lang2}.&quot;],&quot;lang_blurb3&quot;:[0,&quot;This post is also available in {lang1}, {lang2} and {lang3}.&quot;],&quot;footer.press&quot;:[0,&quot;Press&quot;],&quot;header.title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;search.clear&quot;:[0,&quot;Clear&quot;],&quot;search.filter&quot;:[0,&quot;Filter&quot;],&quot;search.source&quot;:[0,&quot;Source&quot;],&quot;footer.careers&quot;:[0,&quot;Careers&quot;],&quot;footer.company&quot;:[0,&quot;Company&quot;],&quot;footer.support&quot;:[0,&quot;Support&quot;],&quot;footer.the_net&quot;:[0,&quot;theNet&quot;],&quot;search.filters&quot;:[0,&quot;Filters&quot;],&quot;footer.our_team&quot;:[0,&quot;Our team&quot;],&quot;footer.webinars&quot;:[0,&quot;Webinars&quot;],&quot;page.more_posts&quot;:[0,&quot;More posts&quot;],&quot;posts.time_read&quot;:[0,&quot;{time} min read&quot;],&quot;search.language&quot;:[0,&quot;Language&quot;],&quot;footer.community&quot;:[0,&quot;Community&quot;],&quot;footer.resources&quot;:[0,&quot;Resources&quot;],&quot;footer.solutions&quot;:[0,&quot;Solutions&quot;],&quot;footer.trademark&quot;:[0,&quot;Trademark&quot;],&quot;header.subscribe&quot;:[0,&quot;Subscribe&quot;],&quot;footer.compliance&quot;:[0,&quot;Compliance&quot;],&quot;footer.free_plans&quot;:[0,&quot;Free plans&quot;],&quot;footer.impact_ESG&quot;:[0,&quot;Impact/ESG&quot;],&quot;posts.follow_on_X&quot;:[0,&quot;Follow on X&quot;],&quot;footer.help_center&quot;:[0,&quot;Help center&quot;],&quot;footer.network_map&quot;:[0,&quot;Network Map&quot;],&quot;header.please_wait&quot;:[0,&quot;Please Wait&quot;],&quot;page.related_posts&quot;:[0,&quot;Related posts&quot;],&quot;search.result_stat&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt; for &lt;strong&gt;{search_keyword}&lt;/strong&gt;&quot;],&quot;footer.case_studies&quot;:[0,&quot;Case Studies&quot;],&quot;footer.connect_2024&quot;:[0,&quot;Connect 2024&quot;],&quot;footer.terms_of_use&quot;:[0,&quot;Terms of Use&quot;],&quot;footer.white_papers&quot;:[0,&quot;White Papers&quot;],&quot;footer.cloudflare_tv&quot;:[0,&quot;Cloudflare TV&quot;],&quot;footer.community_hub&quot;:[0,&quot;Community Hub&quot;],&quot;footer.compare_plans&quot;:[0,&quot;Compare plans&quot;],&quot;footer.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.email_address&quot;:[0,&quot;Email Address&quot;],&quot;page.error.not_found&quot;:[0,&quot;Page not found&quot;],&quot;footer.developer_docs&quot;:[0,&quot;Developer docs&quot;],&quot;footer.privacy_policy&quot;:[0,&quot;Privacy Policy&quot;],&quot;footer.request_a_demo&quot;:[0,&quot;Request a demo&quot;],&quot;page.continue_reading&quot;:[0,&quot;Continue reading&quot;],&quot;footer.analysts_report&quot;:[0,&quot;Analyst reports&quot;],&quot;footer.for_enterprises&quot;:[0,&quot;For enterprises&quot;],&quot;footer.getting_started&quot;:[0,&quot;Getting Started&quot;],&quot;footer.learning_center&quot;:[0,&quot;Learning Center&quot;],&quot;footer.project_galileo&quot;:[0,&quot;Project Galileo&quot;],&quot;pagination.newer_posts&quot;:[0,&quot;Newer Posts&quot;],&quot;pagination.older_posts&quot;:[0,&quot;Older Posts&quot;],&quot;posts.social_buttons.x&quot;:[0,&quot;Discuss on X&quot;],&quot;search.icon_aria_label&quot;:[0,&quot;Search&quot;],&quot;search.source_location&quot;:[0,&quot;Source/Location&quot;],&quot;footer.about_cloudflare&quot;:[0,&quot;About Cloudflare&quot;],&quot;footer.athenian_project&quot;:[0,&quot;Athenian Project&quot;],&quot;footer.become_a_partner&quot;:[0,&quot;Become a partner&quot;],&quot;footer.cloudflare_radar&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;footer.network_services&quot;:[0,&quot;Network services&quot;],&quot;footer.trust_and_safety&quot;:[0,&quot;Trust &amp; Safety&quot;],&quot;header.get_started_free&quot;:[0,&quot;Get Started Free&quot;],&quot;page.search.placeholder&quot;:[0,&quot;Search Cloudflare&quot;],&quot;footer.cloudflare_status&quot;:[0,&quot;Cloudflare Status&quot;],&quot;footer.cookie_preference&quot;:[0,&quot;Cookie Preferences&quot;],&quot;header.valid_email_error&quot;:[0,&quot;Must be valid email.&quot;],&quot;search.result_stat_empty&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt;&quot;],&quot;footer.connectivity_cloud&quot;:[0,&quot;Connectivity cloud&quot;],&quot;footer.developer_services&quot;:[0,&quot;Developer services&quot;],&quot;footer.investor_relations&quot;:[0,&quot;Investor relations&quot;],&quot;page.not_found.error_code&quot;:[0,&quot;Error Code: 404&quot;],&quot;search.autocomplete_title&quot;:[0,&quot;Insert a query. Press enter to send&quot;],&quot;footer.logos_and_press_kit&quot;:[0,&quot;Logos &amp; press kit&quot;],&quot;footer.application_services&quot;:[0,&quot;Application services&quot;],&quot;footer.get_a_recommendation&quot;:[0,&quot;Get a recommendation&quot;],&quot;posts.social_buttons.reddit&quot;:[0,&quot;Discuss on Reddit&quot;],&quot;footer.sse_and_sase_services&quot;:[0,&quot;SSE and SASE services&quot;],&quot;page.not_found.outdated_link&quot;:[0,&quot;You may have used an outdated link, or you may have typed the address incorrectly.&quot;],&quot;footer.report_security_issues&quot;:[0,&quot;Report Security Issues&quot;],&quot;page.error.error_message_page&quot;:[0,&quot;Sorry, we can&#39;t find the page you are looking for.&quot;],&quot;header.subscribe_notifications&quot;:[0,&quot;Subscribe to receive notifications of new posts:&quot;],&quot;footer.cloudflare_for_campaigns&quot;:[0,&quot;Cloudflare for Campaigns&quot;],&quot;header.subscription_confimation&quot;:[0,&quot;Subscription confirmed. Thank you for subscribing!&quot;],&quot;posts.social_buttons.hackernews&quot;:[0,&quot;Discuss on Hacker News&quot;],&quot;footer.diversity_equity_inclusion&quot;:[0,&quot;Diversity, equity &amp; inclusion&quot;],&quot;footer.critical_infrastructure_defense_project&quot;:[0,&quot;Critical Infrastructure Defense Project&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;PostCard&quot;,&quot;value&quot;:true}" await-children><article class="w-50-l  mt4 mt2-l mb4 ph3 bb b--gray8 bn-l"><div class="w-100"><a href="/building-agents-at-knock-agents-sdk/" class="fw5 no-underline gray1" data-testid="post-title"><h2 class="fw5 mt2">Building an AI Agent that puts humans in the loop with Knock and Cloudflare’s Agents SDK</h2></a><p class="f3 fw5 gray5 my" data-testid="post-date">2025-06-03</p><div class=""><a href="/tag/ai/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">AI</a><a href="/tag/agents/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Agents</a><a href="/tag/workers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Cloudflare Workers</a><a href="/tag/durable-objects/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Durable Objects</a><a href="/tag/developer-platform/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developer Platform</a><a href="/tag/developers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developers</a></div><p class="f3 fw4 gray1 lh-copy " data-testid="post-content">How Knock shipped an AI Agent with human-in-the-loop capabilities with Cloudflare’s Agents SDK and Cloudflare Workers.<!-- -->...</p><ul class="author-lists flex pl0"><li class="list flex items-center pr2 mb3"><a href="/author/Chris Bell (Guest author)/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1oACtpoGbOmqrsRXMO0Mgu/913b30bfa207cac04efee1e17df60d6e/Chris_Bell.png" alt="Chris Bell (Guest author)" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/Chris Bell (Guest author)/" class="fw4 f3 no-underline black">Chris Bell (Guest author)</a></div></li></ul></div></article><!--astro:end--></astro-island><astro-island uid="29Tsdr" prefix="r2" component-url="/_astro/PostCard.DalyEN7z.js" component-export="PostCard" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;currentPage&quot;:[0,1],&quot;isFeaturedImageFirstPost&quot;:[0,false],&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;17j3OSuM89oMb5wurF4Tij&quot;],&quot;title&quot;:[0,&quot;Thirteen new MCP servers from Cloudflare you can use today&quot;],&quot;slug&quot;:[0,&quot;thirteen-new-mcp-servers-from-cloudflare&quot;],&quot;excerpt&quot;:[0,&quot;You can now connect to Cloudflare&#39;s first publicly available remote Model Context Protocol (MCP) servers from any MCP client that supports remote servers. &quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;You can now connect to Cloudflare&amp;#39;s first publicly available &lt;a href=\&quot;https://blog.cloudflare.com/remote-model-context-protocol-servers-mcp/\&quot;&gt;&lt;u&gt;remote Model Context Protocol (MCP) servers&lt;/u&gt;&lt;/a&gt; from Claude.ai (&lt;a href=\&quot;http://anthropic.com/news/integrations\&quot;&gt;&lt;u&gt;now supporting remote MCP connections!&lt;/u&gt;&lt;/a&gt;) and other &lt;a href=\&quot;https://modelcontextprotocol.io/clients\&quot;&gt;&lt;u&gt;MCP clients&lt;/u&gt;&lt;/a&gt; like Cursor, Windsurf, or our own &lt;a href=\&quot;https://playground.ai.cloudflare.com/\&quot;&gt;&lt;u&gt;AI Playground&lt;/u&gt;&lt;/a&gt;. Unlock Cloudflare tools, resources, and real time information through our new suite of MCP servers including: &lt;/p&gt;&lt;style type=\&quot;text/css\&quot;&gt;\n.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}\n.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg .tg-2tr3{background-color:#F60;color:#FFF;font-weight:bold;text-align:left;vertical-align:top}\n.tg .tg-8fnt{color:#15C;font-weight:bold;text-align:left;text-decoration:underline;vertical-align:top}\n.tg .tg-0lax{text-align:left;vertical-align:top}\n@media screen and (max-width: 767px) {.tg {width: auto !important;}.tg col {width: auto !important;}.tg-wrap {overflow-x: auto;-webkit-overflow-scrolling: touch;margin: auto 0px;}}&lt;/style&gt;\n&lt;div class=\&quot;tg-wrap\&quot;&gt;&lt;table class=\&quot;tg\&quot;&gt;&lt;thead&gt;\n  &lt;tr&gt;\n    &lt;th class=\&quot;tg-2tr3\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#FFF;background-color:transparent\&quot;&gt;Server&lt;/span&gt;&lt;/th&gt;\n    &lt;th class=\&quot;tg-2tr3\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#FFF;background-color:transparent\&quot;&gt;Description &lt;/span&gt;&lt;/th&gt;\n  &lt;/tr&gt;&lt;/thead&gt;\n&lt;tbody&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/docs-vectorize\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Cloudflare Documentation server&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Get up to date reference information from Cloudflare Developer Documentation&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/workers-bindings\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Workers Bindings server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Build Workers applications with storage, AI, and compute primitives&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/workers-observability\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Workers Observability server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Debug and get insight into your Workers application’s logs and analytics&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/sandbox-container\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Container server&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Spin up a sandbox development environment &lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/browser-rendering\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Browser rendering server&lt;/span&gt;&lt;/a&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt; &lt;/span&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Fetch web pages, convert them to markdown and take screenshots&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/radar\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Radar server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Get global Internet traffic insights, trends, URL scans, and other utilities&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/logpush\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Logpush server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Get quick summaries for Logpush job health&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/ai-gateway\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;AI Gateway server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Search your logs, get details about the prompts and responses&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/autorag\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;AutoRAG server&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;List and search documents on your AutoRAGs&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/auditlogs\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Audit Logs server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Query audit logs and generate reports for review&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/dns-analytics\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;DNS Analytics server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Optimize DNS performance and debug issues based on current set up&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/dex-analysis\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Digital Experience Monitoring server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Get quick insight on critical applications for your organization&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-8fnt\&quot;&gt;&lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/cloudflare-one-casb\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:underline;color:#15C;background-color:transparent\&quot;&gt;Cloudflare One CASB server &lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Quickly identify any security misconfigurations for SaaS applications to safeguard applications, users, and data&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;p&gt;… all through a natural language interface! &lt;/p&gt;&lt;p&gt;Today, we also &lt;a href=\&quot;http://blog.cloudflare.com/mcp-demo-day\&quot;&gt;&lt;u&gt;announced our collaboration with Anthropic&lt;/u&gt;&lt;/a&gt; to bring remote MCP to &lt;a href=\&quot;https://claude.ai/\&quot;&gt;&lt;u&gt;Claude&lt;/u&gt;&lt;/a&gt; users, and showcased how other leading companies such as &lt;a href=\&quot;https://www.atlassian.com/platform/remote-mcp-server\&quot;&gt;&lt;u&gt;Atlassian&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developer.paypal.com/tools/mcp-server/\&quot;&gt;&lt;u&gt;PayPal&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://docs.sentry.io/product/sentry-mcp/\&quot;&gt;&lt;u&gt;Sentry&lt;/u&gt;&lt;/a&gt;, and &lt;a href=\&quot;https://mcp.webflow.com\&quot;&gt;&lt;u&gt;Webflow&lt;/u&gt;&lt;/a&gt; have built remote MCP servers on Cloudflare to extend their service to their users. We’ve also been using the same infrastructure and tooling to build out our own suite of remote servers, and today we’re excited to show customers what’s ready for use and share what we’ve learned along the way. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;cloudflares-mcp-servers-available-today\&quot;&gt;Cloudflare’s MCP servers available today: &lt;/h3&gt;\n            &lt;a href=\&quot;#cloudflares-mcp-servers-available-today\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;These &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-model-context-protocol-mcp/\&quot;&gt;MCP servers&lt;/a&gt; allow your &lt;a href=\&quot;https://modelcontextprotocol.io/clients\&quot;&gt;&lt;u&gt;MCP Client&lt;/u&gt;&lt;/a&gt; to read configurations from your account, process information, make suggestions based on data, and even make those suggested changes for you. All of these actions can happen across Cloudflare&amp;#39;s many services including application development, security, and performance.&lt;/p&gt;&lt;h4&gt;&lt;b&gt;Cloudflare Documentation Server: &lt;/b&gt;Get up-to-date reference information on Cloudflare &lt;/h4&gt;&lt;p&gt;Our &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/docs-vectorize\&quot;&gt;&lt;u&gt;Cloudflare Documentation server&lt;/u&gt;&lt;/a&gt; enables any MCP Client to access up-to-date &lt;a href=\&quot;https://developers.cloudflare.com/\&quot;&gt;&lt;u&gt;documentation&lt;/u&gt;&lt;/a&gt; in real-time, rather than relying on potentially outdated information from the model&amp;#39;s training data. If you’re new to building with Cloudflare, this server synthesizes information right from our documentation and exposes it to your MCP Client, so you can get reliable, up-to-date responses to any complex question like “Search Cloudflare for the best way to build an AI Agent”.  &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3vanQPwy6YSwI7bsDTk2md/09cb4763ddbd4858fcd90aca00106bb9/BLOG-2808_2.png\&quot; alt=\&quot;BLOG-2808 2\&quot; class=\&quot;kg-image\&quot; width=\&quot;762\&quot; height=\&quot;806\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;Workers Bindings server: &lt;/b&gt;Build with developer resources &lt;/h4&gt;&lt;p&gt;Connecting to the &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/workers-bindings\&quot;&gt;&lt;u&gt;Bindings MCP server&lt;/u&gt;&lt;/a&gt; lets you leverage application development primitives like D1 databases, R2 object storage and Key Value stores on the fly as you build out a Workers application. If you&amp;#39;re leveraging your MCP Client to generate code, the bindings server provides access to read existing resources from your account or create fresh resources to implement in your application. In combination with our &lt;a href=\&quot;https://developers.cloudflare.com/workers/get-started/prompting/\&quot;&gt;&lt;u&gt;base prompt&lt;/u&gt;&lt;/a&gt; designed to help you build robust Workers applications, you can add the Bindings MCP server to give your client all it needs to start generating full stack applications from natural language. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6N0Y8BCBz5ULSHbj0JCIkL/3a6a9ef269202a6c05d18444f313ce87/BLOG-2808_3.png\&quot; alt=\&quot;BLOG-2808 3\&quot; class=\&quot;kg-image\&quot; width=\&quot;1358\&quot; height=\&quot;1116\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;\nFull example output using the Workers Bindings MCP server can be found &lt;a href=\&quot;https://claude.ai/share/273dadf7-b060-422d-b2b6-4f436d537136\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;h4&gt;&lt;b&gt;Workers Observability server: &lt;/b&gt;Debug your application &lt;/h4&gt;&lt;p&gt;The &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/workers-observability\&quot;&gt;&lt;u&gt;Workers Observability MCP server&lt;/u&gt;&lt;/a&gt; integrates with &lt;a href=\&quot;https://developers.cloudflare.com/workers/observability/logs/workers-logs/\&quot;&gt;&lt;u&gt;Workers Logs&lt;/u&gt;&lt;/a&gt; to browse invocation logs and errors, compute statistics across invocations, and find specific invocations matching specific criteria. By querying logs across all of your Workers, this MCP server can help isolate errors and trends quickly. The telemetry data that the MCP server returns can also be used to create new visualizations and improve observability.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1rydyUALBbwtPrT477xAKM/81547e1fb3cec5ffadd90ee5e68e1a5e/BLOG-2808_4.png\&quot; alt=\&quot;BLOG-2808 4\&quot; class=\&quot;kg-image\&quot; width=\&quot;1505\&quot; height=\&quot;895\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;Container server:&lt;/b&gt; Spin up a development environment&lt;/h4&gt;&lt;p&gt;The &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/sandbox-container\&quot;&gt;&lt;u&gt;Container MCP server&lt;/u&gt;&lt;/a&gt; provides any MCP client with access to a secure, isolated execution environment running on Cloudflare’s network where it can run and test code if your MCP client does not have a built in development environment (e.g. claude.ai). When building and generating application code, this lets the AI run its own commands and validate its assumptions in real time. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1rXgpQ3znIE01ccY1Qd2cQ/058902719a90af14175b8e838b09b78e/BLOG-2808_5.png\&quot; alt=\&quot;BLOG-2808 5\&quot; class=\&quot;kg-image\&quot; width=\&quot;657\&quot; height=\&quot;804\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;Browser Rendering server: &lt;/b&gt;Fetch and convert web pages, take screenshots &lt;/h4&gt;&lt;p&gt;The &lt;a href=\&quot;https://developers.cloudflare.com/browser-rendering/\&quot;&gt;&lt;u&gt;Browser Rendering&lt;/u&gt;&lt;/a&gt; MCP server provides AI friendly tools from our &lt;a href=\&quot;https://developers.cloudflare.com/browser-rendering/rest-api/\&quot;&gt;&lt;u&gt;RESTful interface&lt;/u&gt;&lt;/a&gt; for common browser actions such as capturing screenshots, extracting HTML content, and converting pages to Markdown. These are particularly useful when building agents that require interacting with a web browser.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3aQtQxzj1hP6cbtbY4CHXI/27535e9f9a041187c12f6b41ba36afdb/BLOG-2808_6.png\&quot; alt=\&quot;BLOG-2808 6\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1515\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;Radar server: &lt;/b&gt;Ask questions about how we see the Internet and Scan URLs&lt;/h4&gt;&lt;p&gt;The &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/radar\&quot;&gt;&lt;u&gt;Cloudflare Radar MCP server&lt;/u&gt;&lt;/a&gt; exposes tools that allow any MCP client to explore our aggregated &lt;a href=\&quot;https://radar.cloudflare.com/traffic#http-traffic\&quot;&gt;&lt;u&gt;HTTP traffic data&lt;/u&gt;&lt;/a&gt;, get information on &lt;a href=\&quot;https://radar.cloudflare.com/traffic/as701\&quot;&gt;&lt;u&gt;Autonomous Systems&lt;/u&gt;&lt;/a&gt; (AS) and &lt;a href=\&quot;https://radar.cloudflare.com/ip/72.74.50.251\&quot;&gt;&lt;u&gt;IP addresses&lt;/u&gt;&lt;/a&gt;, list traffic anomalies from our &lt;a href=\&quot;https://radar.cloudflare.com/outage-center\&quot;&gt;&lt;u&gt;Outage Center&lt;/u&gt;&lt;/a&gt;, get &lt;a href=\&quot;https://radar.cloudflare.com/domains\&quot;&gt;&lt;u&gt;trending domains&lt;/u&gt;&lt;/a&gt;, and domain rank information. It can even create charts. Here’s a chat where we ask &amp;quot;show me the &lt;a href=\&quot;https://claude.ai/public/artifacts/34c8a494-abdc-4755-9ca7-cd8e0a8bea41\&quot;&gt;&lt;u&gt;HTTP traffic from Portugal&lt;/u&gt;&lt;/a&gt; for the last week&amp;quot;:&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/9yg9Fnkoz6t6QOwUK1a5r/b11756fd82058f04037740678160cc7c/BLOG-2808_7.png\&quot; alt=\&quot;BLOG-2808 7\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1515\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;Logpush server: &lt;/b&gt;Get quick summaries for Logpush job health &lt;/h4&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/logs/about/\&quot;&gt;&lt;u&gt;Logpush&lt;/u&gt;&lt;/a&gt; jobs deliver comprehensive logs to your destination of choice, allowing near real-time information processing. The Logpush MCP server can help you analyze your Logpush job results and understand your job health at a high level, allowing you to filter and narrow down for jobs or scenarios you care about. For example, you can ask “provide me with a list of recently failed jobs.” Now, you can quickly find out which jobs are failing with which error message and when, summarized in a human-readable format. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4ltuXD2TgEhiblx6aNhm4d/d63b14f151fd3a239b0a3cf0dfb92ebf/BLOG-2808_8.png\&quot; alt=\&quot;BLOG-2808 8\&quot; class=\&quot;kg-image\&quot; width=\&quot;960\&quot; height=\&quot;946\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;AI Gateway server: &lt;/b&gt;Check out your AI Gateway logs &lt;/h4&gt;&lt;p&gt;Use this &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/ai-gateway\&quot;&gt;&lt;u&gt;MCP server&lt;/u&gt;&lt;/a&gt; to inspect your AI Gateway logs and get details about the data from your prompts and the AI models responses. In this example we ask our agent “What is my average latency for my AI Gateway logs in the &lt;i&gt;Cloudflare Radar&lt;/i&gt; account?”&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7dYzkZ0cYcXPjFKlhdqkMp/52f2b7e62fe2bb05c91fc563738ddfc2/BLOG-2808_9.png\&quot; alt=\&quot;BLOG-2808 9\&quot; class=\&quot;kg-image\&quot; width=\&quot;549\&quot; height=\&quot;655\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;AutoRAG server:&lt;/b&gt; List and search documents on your AutoRAGs&lt;/h4&gt;&lt;p&gt;Having AutoRAG RAGs available to query as MCP tools greatly expands the typical static one-shot retrieval​ and opens doors to use cases where the agent can dynamically decide if and when to retrieve information from one or more &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/retrieval-augmented-generation-rag/\&quot;&gt;RAGs&lt;/a&gt;, combine them with other tools and APIs, cross-check information and generate a much more rich and complete final answer.&lt;/p&gt;&lt;p&gt;Here we have a RAG that has a few blog posts that talk about retrocomputers. If we ask &amp;quot;tell me about restoring an amiga 1000 using the blog-celso autorag&amp;quot; the agent will go into a sequence of &lt;a href=\&quot;https://claude.ai/share/18f1be31-9936-48c0-9de0-151d64f3534e\&quot;&gt;&lt;u&gt;reasoning steps&lt;/u&gt;&lt;/a&gt;:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;“Now that I have some information about Amiga 1000 restoration from blog-celso, let me search for more specific details.”&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;“Let me get more specific information about hardware upgrades and fixes for the Amiga 1000.”&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;“Let me get more information about the DiagROM and other tools used in the restoration.”&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;“Let me search for information about GBA1000 and other expansions mentioned in the blog.”&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;And finally, “Based on the comprehensive information I&amp;#39;ve gathered from the blog-celso AutoRAG, I can now provide you with a detailed guide on restoring an Amiga 1000.”&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;And at the end, it generates a very detailed answer based on all the data from all the queries:&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4Z8BJSvd4x233FPZDePeSk/e59b8676a92f828d32feb1d28381a216/BLOG-2808_10.png\&quot; alt=\&quot;BLOG-2808 10\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1515\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;Audit Logs server: &lt;/b&gt;Query audit logs and generate reports for review&lt;/h4&gt;&lt;p&gt;Audit Logs record detailed information about actions and events within a system, providing a transparent history of all activity. However, because these logs can be large and complex, it may take effort to query and reconstruct a clear sequence of events. The &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/auditlogs\&quot;&gt;&lt;u&gt;Audit Logs MCP server&lt;/u&gt;&lt;/a&gt; helps by allowing you to query audit logs and generate reports. Common queries include if anything notable happened in a Cloudflare account under a user around a particular time of the day, or identifying whether any users used API keys to perform actions on the account. For example, you can ask “Were there any suspicious changes made to my Cloudflare account yesterday around lunchtime?” and obtain the following response: &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/YdV73LhsCmjdQtOK8U7Ii/89f11db15e079190a234665ac4794754/BLOG-2808_11.png\&quot; alt=\&quot;BLOG-2808 11\&quot; class=\&quot;kg-image\&quot; width=\&quot;1282\&quot; height=\&quot;960\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;DNS Analytics server: &lt;/b&gt;Optimize DNS performance and debug issues based on current set up&lt;/h4&gt;&lt;p&gt;&lt;a href=\&quot;https://www.cloudflare.com/application-services/products/analytics/\&quot;&gt;&lt;u&gt;Cloudflare’s DNS Analytics&lt;/u&gt;&lt;/a&gt; provides detailed insights into DNS traffic, which helps you monitor, analyze, and troubleshoot DNS performance and security across your domains. With Cloudflare’s &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/dns-analytics\&quot;&gt;&lt;u&gt;DNS Analytics MCP server&lt;/u&gt;&lt;/a&gt;, you can review DNS configurations across all domains in your account, access comprehensive DNS performance reports, and receive recommendations for performance improvements. By leveraging documentation, the MCP server can help identify opportunities for improving performance. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3X7w64xQvvFbv24HaFeLDv/3fefb7ff9e912207c5897200beefd26f/image4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1498\&quot; height=\&quot;1514\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;Digital Experience Monitoring server&lt;/b&gt;: Get quick insight on critical applications for your organization &lt;/h4&gt;&lt;p&gt;Cloudflare Digital Experience Monitoring (DEM) was built to help network professionals understand the performance and availability of their critical applications from self-hosted applications like Jira and Bitbucket to SaaS applications like Figma or Salesforce. The &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/dex-analysis\&quot;&gt;&lt;u&gt;Digital Experience Monitoring MCP server&lt;/u&gt;&lt;/a&gt; fetches DEM test results to surface performance and availability trends within your Cloudflare One deployment, providing quick insights on users, applications, and the networks they are connected to. You can ask questions like: Which users had the worst experience? What times of the day were applications most and least performant? When do I see the most HTTP status errors? When do I see the shortest, longest, or most instability in the network path? &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7Ctxdt7tw04Rfzl9Ihxnkw/fc9c9ab553daa58f59e024dd66dd3dea/BLOG-2808_12.png\&quot; alt=\&quot;BLOG-2808 12\&quot; class=\&quot;kg-image\&quot; width=\&quot;1266\&quot; height=\&quot;1282\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;&lt;b&gt;CASB server&lt;/b&gt;: Insights from SaaS Integrations&lt;/h4&gt;&lt;p&gt;&lt;a href=\&quot;https://www.cloudflare.com/zero-trust/products/casb/\&quot;&gt;&lt;u&gt;Cloudflare CASB&lt;/u&gt;&lt;/a&gt; provides the ability to integrate with your organization’s &lt;a href=\&quot;https://developers.cloudflare.com/cloudflare-one/applications/casb/casb-integrations/\&quot;&gt;&lt;u&gt;SaaS and cloud applications&lt;/u&gt;&lt;/a&gt; to discover assets and surface any security misconfigurations that may be present. A core task is helping security teams understand information about users, files, and other assets they care about that transcends any one SaaS application. The &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main/apps/cloudflare-one-casb\&quot;&gt;&lt;u&gt;CASB MCP server&lt;/u&gt;&lt;/a&gt; can explore across users, files, and the many other asset categories to help understand relationships from data that can exist across many different integrations. A common query may include “Tell me about “Frank Meszaros” and what SaaS tools they appear to have accessed”.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3aJOta5YYZ1FqZyHF0wVnx/2c79512fb674eb2762395e5ccaac9700/BLOG-2808_13.png\&quot; alt=\&quot;BLOG-2808 13\&quot; class=\&quot;kg-image\&quot; width=\&quot;1008\&quot; height=\&quot;1148\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;get-started-with-our-mcp-servers\&quot;&gt;Get started with our MCP servers &lt;/h3&gt;\n            &lt;a href=\&quot;#get-started-with-our-mcp-servers\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;You can start using our Cloudflare MCP servers today! If you’d like to read more about specific tools available in each server, you can find them in our &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main\&quot;&gt;&lt;u&gt;public GitHub repository&lt;/u&gt;&lt;/a&gt;. Each server is deployed to a server URL, such as&lt;/p&gt;&lt;p&gt;&lt;code&gt;https://observability.mcp.cloudflare.com/sse.&lt;/code&gt;&lt;/p&gt;&lt;p&gt;If your MCP client has first class support for remote MCP servers, the client will provide a way to accept the server URL directly within its interface. For example, if you are using &lt;a href=\&quot;https://claude.ai/settings/profile\&quot;&gt;&lt;u&gt;claude.ai&lt;/u&gt;&lt;/a&gt;, you can: &lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;Navigate to your &lt;a href=\&quot;https://claude.ai/settings/profile\&quot;&gt;&lt;u&gt;settings&lt;/u&gt;&lt;/a&gt; and add a new “Integration” by entering the URL of your MCP server&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Authenticate with Cloudflare&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Select the tools you’d like claude.ai to be able to call&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5zWyWq2gS08CZsCQNB2fFZ/4e2c88abc90e11055159127e2abaf7b2/BLOG-2808_14.png\&quot; alt=\&quot;BLOG-2808 14\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;567\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;If your client does not yet support remote MCP servers, you will need to set up its respective configuration file (mcp_config.json) using &lt;a href=\&quot;https://www.npmjs.com/package/mcp-remote\&quot;&gt;&lt;u&gt;mcp-remote&lt;/u&gt;&lt;/a&gt; to specify which servers your client can access.&lt;/p&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;{\n\t&amp;quot;mcpServers&amp;quot;: {\n\t\t&amp;quot;cloudflare-observability&amp;quot;: {\n\t\t\t&amp;quot;command&amp;quot;: &amp;quot;npx&amp;quot;,\n\t\t\t&amp;quot;args&amp;quot;: [&amp;quot;mcp-remote&amp;quot;, &amp;quot;https://observability.mcp.cloudflare.com/sse&amp;quot;]\n\t\t},\n\t\t&amp;quot;cloudflare-bindings&amp;quot;: {\n\t\t\t&amp;quot;command&amp;quot;: &amp;quot;npx&amp;quot;,\n\t\t\t&amp;quot;args&amp;quot;: [&amp;quot;mcp-remote&amp;quot;, &amp;quot;https://bindings.mcp.cloudflare.com/sse&amp;quot;]\n\t\t}\n\t}\n}\n&lt;/pre&gt;&lt;/code&gt;\n            \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;have-feedback-on-our-servers\&quot;&gt;Have feedback on our servers?&lt;/h3&gt;\n            &lt;a href=\&quot;#have-feedback-on-our-servers\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;While we&amp;#39;re launching with these initial 13 MCP servers, we are just getting started! We want to hear your feedback as we shape existing and build out more Cloudflare MCP servers that unlock the most value for your teams leveraging AI in their daily workflows. If you’d like to provide feedback, request a new MCP server, or report bugs, please raise an issue on our &lt;a href=\&quot;https://github.com/cloudflare/mcp-server-cloudflare/tree/main\&quot;&gt;&lt;u&gt;GitHub repository. &lt;/u&gt;&lt;/a&gt; &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;building-your-own-mcp-server\&quot;&gt;Building your own MCP server?&lt;/h3&gt;\n            &lt;a href=\&quot;#building-your-own-mcp-server\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;If you’re interested in building your own servers, we&amp;#39;ve discovered valuable best practices that we&amp;#39;re excited to share with you as we’ve been building ours. While MCP is really starting to gain momentum and many organizations are just beginning to build their own servers, these principals should help guide you as you start building out MCP servers for your customers. &lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;An MCP server is not our entire API schema: &lt;/b&gt;Our goal isn&amp;#39;t to build a large wrapper around all of Cloudflare’s API schema, but instead focus on optimizing for specific jobs to be done and reliability of the outcome. This means while one tool from our MCP server may map to one API, another tool may map to many. We’ve found that fewer but more powerful tools may be better for the agent with smaller context windows, less costs, a faster output, and likely more valid answers from LLMs. Our MCP servers were created directly by the product teams who are responsible for each of these areas of Cloudflare – application development, security and performance – and are designed with user stories in mind. This is a pattern you will continue to see us use as we build out more Cloudflare servers. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Specialize permissions with multiple servers:&lt;/b&gt; We built out several specialized servers rather than one for a critical reason: security through precise permission scoping. Each MCP server operates with exactly the permissions needed for its specific task – nothing more. By separating capabilities across multiple servers, each with its own authentication scope, we prevent the common security pitfall of over-privileged access. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Add robust server descriptions within parameters:&lt;/b&gt; Tool descriptions were core to providing helpful context to the agent. We’ve found that more detailed descriptions help the agent understand not just the expected data type, but also the parameter&amp;#39;s purpose, acceptable value ranges, and impact on server behavior. This context allows agents to make intelligent decisions about parameter values rather than providing arbitrary and potentially problematic inputs, allowing your natural language to go further with the agent. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Using evals at each iteration:&lt;/b&gt; For each server, we implemented evaluation tests or “evals” to assess the model&amp;#39;s ability to follow instructions, select appropriate tools, and provide correct arguments to those tools. This gave us a programmatic way to understand if any regressions occurred through each iteration, especially when tweaking tool descriptions. &lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Ready to start building? Click the button below to deploy your first remote MCP server to production: &lt;/p&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/ai/tree/main/demos/remote-mcp-authless\&quot;&gt;&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;\n&lt;p&gt;&lt;p&gt;Or check out our documentation to learn more! If you have any questions or feedback for us, you can reach us via email at &lt;a href=\&quot;mailto:1800-mcp@cloudflare.com\&quot;&gt;&lt;u&gt;1800-mcp@cloudflare.com&lt;/u&gt;&lt;/a&gt; or join the chatter in the &lt;a href=\&quot;https://discord.com/channels/595317990191398933/1354548448635912324\&quot;&gt;&lt;u&gt;Cloudflare Developers Discord&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-05-01T13:01:19.509Z&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T20:37:20.946Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4PApvLyvZ23hcLXCAAte0k/8b31682bfe25ef4d6e8551e5c11555bf/BLOG-2808_1.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;6Wqde8DfPQiDn7CAhj6lu2&quot;],&quot;name&quot;:[0,&quot;Model Context Protocol&quot;],&quot;slug&quot;:[0,&quot;model-context-protocol&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;22RkiaggH3NV4u6qyMmC42&quot;],&quot;name&quot;:[0,&quot;Agents&quot;],&quot;slug&quot;:[0,&quot;agents&quot;]}],[0,{&quot;id&quot;:[0,&quot;3txfsA7N73yBL9g3VPBLL0&quot;],&quot;name&quot;:[0,&quot;Open Source&quot;],&quot;slug&quot;:[0,&quot;open-source&quot;]}],[0,{&quot;id&quot;:[0,&quot;6Lfy7VaNvl5G8gOYMKFiux&quot;],&quot;name&quot;:[0,&quot;MCP&quot;],&quot;slug&quot;:[0,&quot;mcp&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Nevi Shah&quot;],&quot;slug&quot;:[0,&quot;nevi&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2WVp9J8BoRJaBMR7crkqWH/f7814ed0df05b50babb47c6ff5b936e5/nevi.png&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@nevikashah&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Maximo Guk &quot;],&quot;slug&quot;:[0,&quot;maximo-guk&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1hotGFbBMQzcqRxXZ7QBhR/fcf5b06d0a22c5e3146d3496af1ac80e/Maximo_Guk.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Christian Sparks&quot;],&quot;slug&quot;:[0,&quot;christian&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5QdnC6oyxIqp5KSZOyBAhS/0b43ca9c2f91ecb7828eecb3ee04e247/christian.JPG&quot;],&quot;location&quot;:[0,&quot;Chicago, IL&quot;],&quot;website&quot;:[0,&quot;https://cmsparks.com&quot;],&quot;twitter&quot;:[0,&quot;@csparks1919&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;You can now connect to Cloudflare&#39;s first publicly available remote Model Context Protocol (MCP) servers from any MCP client that supports remote servers. &quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;LOC: Thirteen new MCP servers from Cloudflare you can use today&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;English for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;Translated for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;English for Locale&quot;],&quot;thTH&quot;:[0,&quot;English for Locale&quot;],&quot;trTR&quot;:[0,&quot;English for Locale&quot;],&quot;heIL&quot;:[0,&quot;English for Locale&quot;],&quot;lvLV&quot;:[0,&quot;English for Locale&quot;],&quot;etEE&quot;:[0,&quot;English for Locale&quot;],&quot;ltLT&quot;:[0,&quot;English for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/thirteen-new-mcp-servers-from-cloudflare&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0],&quot;description&quot;:[0,&quot;You can now connect to Cloudflare&#39;s first publicly available remote Model Context Protocol (MCP) servers from any MCP client that supports remote servers. &quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/9xfy9FKmYPkZue7bAS6qx/cab211b9bf14c7624277808baeb4a5ce/OG_Share_2024.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],&quot;translations&quot;:[0,{&quot;posts.by&quot;:[0,&quot;By&quot;],&quot;footer.gdpr&quot;:[0,&quot;GDPR&quot;],&quot;lang_blurb1&quot;:[0,&quot;This post is also available in {lang1}.&quot;],&quot;lang_blurb2&quot;:[0,&quot;This post is also available in {lang1} and {lang2}.&quot;],&quot;lang_blurb3&quot;:[0,&quot;This post is also available in {lang1}, {lang2} and {lang3}.&quot;],&quot;footer.press&quot;:[0,&quot;Press&quot;],&quot;header.title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;search.clear&quot;:[0,&quot;Clear&quot;],&quot;search.filter&quot;:[0,&quot;Filter&quot;],&quot;search.source&quot;:[0,&quot;Source&quot;],&quot;footer.careers&quot;:[0,&quot;Careers&quot;],&quot;footer.company&quot;:[0,&quot;Company&quot;],&quot;footer.support&quot;:[0,&quot;Support&quot;],&quot;footer.the_net&quot;:[0,&quot;theNet&quot;],&quot;search.filters&quot;:[0,&quot;Filters&quot;],&quot;footer.our_team&quot;:[0,&quot;Our team&quot;],&quot;footer.webinars&quot;:[0,&quot;Webinars&quot;],&quot;page.more_posts&quot;:[0,&quot;More posts&quot;],&quot;posts.time_read&quot;:[0,&quot;{time} min read&quot;],&quot;search.language&quot;:[0,&quot;Language&quot;],&quot;footer.community&quot;:[0,&quot;Community&quot;],&quot;footer.resources&quot;:[0,&quot;Resources&quot;],&quot;footer.solutions&quot;:[0,&quot;Solutions&quot;],&quot;footer.trademark&quot;:[0,&quot;Trademark&quot;],&quot;header.subscribe&quot;:[0,&quot;Subscribe&quot;],&quot;footer.compliance&quot;:[0,&quot;Compliance&quot;],&quot;footer.free_plans&quot;:[0,&quot;Free plans&quot;],&quot;footer.impact_ESG&quot;:[0,&quot;Impact/ESG&quot;],&quot;posts.follow_on_X&quot;:[0,&quot;Follow on X&quot;],&quot;footer.help_center&quot;:[0,&quot;Help center&quot;],&quot;footer.network_map&quot;:[0,&quot;Network Map&quot;],&quot;header.please_wait&quot;:[0,&quot;Please Wait&quot;],&quot;page.related_posts&quot;:[0,&quot;Related posts&quot;],&quot;search.result_stat&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt; for &lt;strong&gt;{search_keyword}&lt;/strong&gt;&quot;],&quot;footer.case_studies&quot;:[0,&quot;Case Studies&quot;],&quot;footer.connect_2024&quot;:[0,&quot;Connect 2024&quot;],&quot;footer.terms_of_use&quot;:[0,&quot;Terms of Use&quot;],&quot;footer.white_papers&quot;:[0,&quot;White Papers&quot;],&quot;footer.cloudflare_tv&quot;:[0,&quot;Cloudflare TV&quot;],&quot;footer.community_hub&quot;:[0,&quot;Community Hub&quot;],&quot;footer.compare_plans&quot;:[0,&quot;Compare plans&quot;],&quot;footer.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.email_address&quot;:[0,&quot;Email Address&quot;],&quot;page.error.not_found&quot;:[0,&quot;Page not found&quot;],&quot;footer.developer_docs&quot;:[0,&quot;Developer docs&quot;],&quot;footer.privacy_policy&quot;:[0,&quot;Privacy Policy&quot;],&quot;footer.request_a_demo&quot;:[0,&quot;Request a demo&quot;],&quot;page.continue_reading&quot;:[0,&quot;Continue reading&quot;],&quot;footer.analysts_report&quot;:[0,&quot;Analyst reports&quot;],&quot;footer.for_enterprises&quot;:[0,&quot;For enterprises&quot;],&quot;footer.getting_started&quot;:[0,&quot;Getting Started&quot;],&quot;footer.learning_center&quot;:[0,&quot;Learning Center&quot;],&quot;footer.project_galileo&quot;:[0,&quot;Project Galileo&quot;],&quot;pagination.newer_posts&quot;:[0,&quot;Newer Posts&quot;],&quot;pagination.older_posts&quot;:[0,&quot;Older Posts&quot;],&quot;posts.social_buttons.x&quot;:[0,&quot;Discuss on X&quot;],&quot;search.icon_aria_label&quot;:[0,&quot;Search&quot;],&quot;search.source_location&quot;:[0,&quot;Source/Location&quot;],&quot;footer.about_cloudflare&quot;:[0,&quot;About Cloudflare&quot;],&quot;footer.athenian_project&quot;:[0,&quot;Athenian Project&quot;],&quot;footer.become_a_partner&quot;:[0,&quot;Become a partner&quot;],&quot;footer.cloudflare_radar&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;footer.network_services&quot;:[0,&quot;Network services&quot;],&quot;footer.trust_and_safety&quot;:[0,&quot;Trust &amp; Safety&quot;],&quot;header.get_started_free&quot;:[0,&quot;Get Started Free&quot;],&quot;page.search.placeholder&quot;:[0,&quot;Search Cloudflare&quot;],&quot;footer.cloudflare_status&quot;:[0,&quot;Cloudflare Status&quot;],&quot;footer.cookie_preference&quot;:[0,&quot;Cookie Preferences&quot;],&quot;header.valid_email_error&quot;:[0,&quot;Must be valid email.&quot;],&quot;search.result_stat_empty&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt;&quot;],&quot;footer.connectivity_cloud&quot;:[0,&quot;Connectivity cloud&quot;],&quot;footer.developer_services&quot;:[0,&quot;Developer services&quot;],&quot;footer.investor_relations&quot;:[0,&quot;Investor relations&quot;],&quot;page.not_found.error_code&quot;:[0,&quot;Error Code: 404&quot;],&quot;search.autocomplete_title&quot;:[0,&quot;Insert a query. Press enter to send&quot;],&quot;footer.logos_and_press_kit&quot;:[0,&quot;Logos &amp; press kit&quot;],&quot;footer.application_services&quot;:[0,&quot;Application services&quot;],&quot;footer.get_a_recommendation&quot;:[0,&quot;Get a recommendation&quot;],&quot;posts.social_buttons.reddit&quot;:[0,&quot;Discuss on Reddit&quot;],&quot;footer.sse_and_sase_services&quot;:[0,&quot;SSE and SASE services&quot;],&quot;page.not_found.outdated_link&quot;:[0,&quot;You may have used an outdated link, or you may have typed the address incorrectly.&quot;],&quot;footer.report_security_issues&quot;:[0,&quot;Report Security Issues&quot;],&quot;page.error.error_message_page&quot;:[0,&quot;Sorry, we can&#39;t find the page you are looking for.&quot;],&quot;header.subscribe_notifications&quot;:[0,&quot;Subscribe to receive notifications of new posts:&quot;],&quot;footer.cloudflare_for_campaigns&quot;:[0,&quot;Cloudflare for Campaigns&quot;],&quot;header.subscription_confimation&quot;:[0,&quot;Subscription confirmed. Thank you for subscribing!&quot;],&quot;posts.social_buttons.hackernews&quot;:[0,&quot;Discuss on Hacker News&quot;],&quot;footer.diversity_equity_inclusion&quot;:[0,&quot;Diversity, equity &amp; inclusion&quot;],&quot;footer.critical_infrastructure_defense_project&quot;:[0,&quot;Critical Infrastructure Defense Project&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;PostCard&quot;,&quot;value&quot;:true}" await-children><article class="w-50-l  mt4 mt2-l mb4 ph3 bb b--gray8 bn-l"><div class="w-100"><a href="/thirteen-new-mcp-servers-from-cloudflare/" class="fw5 no-underline gray1" data-testid="post-title"><h2 class="fw5 mt2">Thirteen new MCP servers from Cloudflare you can use today</h2></a><p class="f3 fw5 gray5 my" data-testid="post-date">2025-05-01</p><div class=""><a href="/tag/model-context-protocol/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Model Context Protocol</a><a href="/tag/workers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Cloudflare Workers</a><a href="/tag/agents/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Agents</a><a href="/tag/open-source/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Open Source</a><a href="/tag/mcp/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">MCP</a><a href="/tag/developers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developers</a><a href="/tag/developer-platform/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developer Platform</a></div><p class="f3 fw4 gray1 lh-copy " data-testid="post-content">You can now connect to Cloudflare&#x27;s first publicly available remote Model Context Protocol (MCP) servers from any MCP client that supports remote servers. <!-- -->...</p><ul class="author-lists flex pl0"><li class="list flex items-center pr2 mb3"><a href="/author/nevi/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2WVp9J8BoRJaBMR7crkqWH/f7814ed0df05b50babb47c6ff5b936e5/nevi.png" alt="Nevi Shah" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/nevi/" class="fw4 f3 no-underline black">Nevi Shah</a></div></li><li class="list flex items-center pr2 mb3"><a href="/author/maximo-guk/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1hotGFbBMQzcqRxXZ7QBhR/fcf5b06d0a22c5e3146d3496af1ac80e/Maximo_Guk.jpg" alt="Maximo Guk " width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/maximo-guk/" class="fw4 f3 no-underline black">Maximo Guk </a></div></li><li class="list flex items-center pr2 mb3"><a href="/author/christian/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5QdnC6oyxIqp5KSZOyBAhS/0b43ca9c2f91ecb7828eecb3ee04e247/christian.JPG" alt="Christian Sparks" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/christian/" class="fw4 f3 no-underline black">Christian Sparks</a></div></li></ul></div></article><!--astro:end--></astro-island><astro-island uid="1TeWEY" prefix="r3" component-url="/_astro/PostCard.DalyEN7z.js" component-export="PostCard" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;currentPage&quot;:[0,1],&quot;isFeaturedImageFirstPost&quot;:[0,false],&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;6VjjFQfl3i9xgTfebvWEk4&quot;],&quot;title&quot;:[0,&quot;MCP Demo Day: How 10 leading AI companies built MCP servers on Cloudflare&quot;],&quot;slug&quot;:[0,&quot;mcp-demo-day&quot;],&quot;excerpt&quot;:[0,&quot;We’re teaming up with Anthropic, Asana, Atlassian, Block, Intercom, Linear, PayPal, Sentry, Stripe, and Webflow to launch new remote MCP servers, built on Cloudflare, to enable Claude users to manage&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;Today, we&amp;#39;re excited to collaborate with Anthropic, Asana, Atlassian, Block, Intercom, Linear, PayPal, Sentry, Stripe, and Webflow to bring a whole new set of remote MCP servers, all built on Cloudflare, to enable &lt;a href=\&quot;https://claude.ai/\&quot;&gt;&lt;u&gt;Claude&lt;/u&gt;&lt;/a&gt; users to manage projects, generate invoices, query databases, and even deploy full stack applications — without ever leaving the chat interface. &lt;/p&gt;&lt;p&gt;Since &lt;a href=\&quot;https://www.anthropic.com/news/model-context-protocol\&quot;&gt;Anthropic’s&lt;/a&gt; introduction of the &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-model-context-protocol-mcp/\&quot;&gt;Model Context Protocol&lt;/a&gt; (MCP) in November, there’s been more and more excitement about it, and it seems like a new MCP server is being released nearly every day. And for good reason!  MCP has been the missing piece to make &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-agentic-ai/\&quot;&gt;AI agents&lt;/a&gt; a reality, and helped define how AI agents interact with tools to take actions and get additional context.&lt;/p&gt;&lt;p&gt;But to date, end-users have had to install MCP servers on their local machine to use them. Today, with &lt;a href=\&quot;http://anthropic.com/news/integrations\&quot;&gt;&lt;u&gt;Anthropic’s announcement&lt;/u&gt;&lt;/a&gt; of Integrations, you can access an MCP server the same way you would a website: type a URL and go.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5FLvAIrlxVcKPZNRG5Qhwj/f252d4de66f45e1f06bb94d76e1bf4c1/BLOG-2811_2.png\&quot; alt=\&quot;BLOG-2811 2\&quot; class=\&quot;kg-image\&quot; width=\&quot;1860\&quot; height=\&quot;1999\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;At Cloudflare, we’ve been focused on&lt;a href=\&quot;https://blog.cloudflare.com/remote-model-context-protocol-servers-mcp/\&quot;&gt;&lt;u&gt; building out the tooling&lt;/u&gt;&lt;/a&gt; that simplifies the development of remote MCP servers, so that our customers’ engineering teams can focus their time on building out the MCP tools for their application, rather than managing the complexities of the protocol. And if you’re wondering just how easy is it to deploy a remote MCP server on Cloudflare, we’re happy to tell you that it only takes one click to get an MCP server — pre-built with support for the latest MCP standards — deployed. &lt;/p&gt;&lt;p&gt;But you don’t have to take our word for it, see it for yourself! Industry leaders are taking advantage of the ease of use to deliver new AI-powered experiences to their users by building their MCP servers on Cloudflare and now, you can do the same — just click “Deploy to Cloudflare” to get started. &lt;/p&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/ai/tree/main/demos/remote-mcp-authless\&quot;&gt;&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;Keep reading to learn more about the new capabilities that these companies are unlocking for their users and how they were able to deliver them. Or, see it in action by joining us for &lt;a href=\&quot;https://demo-day.mcp.cloudflare.com/\&quot;&gt;&lt;u&gt;Demo Day&lt;/u&gt;&lt;/a&gt; on May 1 (today) at 10:00 AM PST. &lt;/p&gt;&lt;p&gt;We’re also making &lt;a href=\&quot;https://blog.cloudflare.com/thirteen-new-mcp-servers-from-cloudflare\&quot;&gt;&lt;u&gt;Cloudflare&amp;#39;s remote MCP servers&lt;/u&gt;&lt;/a&gt; available to customers today and sharing what we learned from building them out. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;mcp-powering-the-next-generation-of-applications\&quot;&gt;MCP: Powering the next generation of applications&lt;/h2&gt;\n            &lt;a href=\&quot;#mcp-powering-the-next-generation-of-applications\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;It wasn’t always the expectation that every service, whether a store, real estate agent, or service would have a website. But as more people gained access to an Internet connection, that quickly became the case.&lt;/p&gt;&lt;p&gt;We’re in the midst of a similar transition now to every web user having access to AI tools, turning to them for many tasks. If you’re a developer, it’s likely the case that the first place you turn when you go to write code now is to a tool like Claude. It seems reasonable then, that if Claude helped you write the code, it would also help you deploy it.&lt;/p&gt;&lt;p&gt;Or if you’re not a developer, if Claude helped you come up with a recipe, that it would also help you order the required groceries. &lt;/p&gt;&lt;p&gt;With remote MCP, all of these scenarios are now possible. And just like the first businesses built on the web had a first mover advantage, the first businesses to be built in an MCP-forward way are likely to reap the benefits. &lt;/p&gt;&lt;p&gt;The faster a user can experience the value of your product, the more likely they will be to succeed, upgrade, and continue to use your product. By connecting services to agents through MCP, users can simply ask for what they need and the agent will handle the rest, getting them to that “aha” moment faster. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;making-your-service-ai-first-with-mcp\&quot;&gt;Making your service AI-first with MCP&lt;/h2&gt;\n            &lt;a href=\&quot;#making-your-service-ai-first-with-mcp\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Businesses that adopt MCP will quickly see the impact: &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;lower-the-barrier-to-entry\&quot;&gt;Lower the barrier to entry&lt;/h3&gt;\n            &lt;a href=\&quot;#lower-the-barrier-to-entry\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Not every user has the time to learn your dashboard or read through documentation to understand your product. With MCP, they don’t need to. They just describe what they want, and the agent figures out the rest. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;create-personalized-experiences\&quot;&gt;Create personalized experiences&lt;/h3&gt;\n            &lt;a href=\&quot;#create-personalized-experiences\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;MCP can keep track of a user’s requests and interactions, so future tool calls can be adapted to their usage patterns and preferences. This makes it easy to deliver more personalized, relevant experiences based on how each person actually uses your product.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;drive-upgrades-naturally\&quot;&gt;Drive upgrades naturally&lt;/h3&gt;\n            &lt;a href=\&quot;#drive-upgrades-naturally\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Rather than relying on feature comparison tables, the AI agent can explain how a higher-tier plan helps a specific user accomplish &lt;i&gt;their&lt;/i&gt; goals. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;ship-new-features-and-integrations\&quot;&gt;Ship new features and integrations&lt;/h3&gt;\n            &lt;a href=\&quot;#ship-new-features-and-integrations\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;You don’t need to build every integration or experience in-house. By exposing your tools via MCP, you let users connect your product to the rest of their stack. Agents can combine tools across providers, enabling integrations without requiring you to support every third-party service directly.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;why-build-mcp-on-cloudflare\&quot;&gt;Why build MCP on Cloudflare? &lt;/h2&gt;\n            &lt;a href=\&quot;#why-build-mcp-on-cloudflare\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Since the launch of MCP, we’ve &lt;a href=\&quot;https://blog.cloudflare.com/remote-model-context-protocol-servers-mcp/\&quot;&gt;&lt;u&gt;shared&lt;/u&gt;&lt;/a&gt; how we’re making it easy for developers to &lt;a href=\&quot;https://developers.cloudflare.com/agents/guides/remote-mcp-server/\&quot;&gt;&lt;u&gt;build and deploy remote MCP servers&lt;/u&gt;&lt;/a&gt; — from abstracting away protocol complexity to handling auth and transport, to &lt;a href=\&quot;https://blog.cloudflare.com/building-ai-agents-with-mcp-authn-authz-and-durable-objects/\&quot;&gt;&lt;u&gt;supporting fully stateful MCP servers&lt;/u&gt;&lt;/a&gt; (by default) that &lt;a href=\&quot;https://developers.cloudflare.com/agents/model-context-protocol/mcp-agent-api/#hibernation-support\&quot;&gt;&lt;u&gt;“sleep”&lt;/u&gt;&lt;/a&gt; when they’re not used to minimize idle costs.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7rTqqs8gSYef4uIiS1aSqz/5147063aff613078af22e5b5b5b55570/BLOG-2811_3.png\&quot; alt=\&quot;BLOG-2811 3\&quot; class=\&quot;kg-image\&quot; width=\&quot;1788\&quot; height=\&quot;932\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;We’re continuing to ship updates regularly — &lt;a href=\&quot;https://blog.cloudflare.com/streamable-http-mcp-servers-python/\&quot;&gt;&lt;u&gt;adding support&lt;/u&gt;&lt;/a&gt; for the &lt;a href=\&quot;https://modelcontextprotocol.io/specification/2025-03-26\&quot;&gt;&lt;u&gt;latest changes&lt;/u&gt;&lt;/a&gt; to the MCP standard and making it even easier to get your server to production:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/agents/model-context-protocol/transport/\&quot;&gt;&lt;b&gt;&lt;u&gt;Supporting the new Streamable HTTP transport&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;:&lt;/b&gt; Your MCP servers can now use the latest Streamable HTTP transport alongside SSE, ensuring compatibility with the latest standards. We’ve updated the AI Playground and &lt;a href=\&quot;https://www.npmjs.com/package/mcp-remote\&quot;&gt;&lt;u&gt;mcp-remote&lt;/u&gt;&lt;/a&gt; proxy as well, giving you a remote MCP client to easily test the new transport.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://github.com/cloudflare/ai/tree/main/demos/python-workers-mcp\&quot;&gt;&lt;b&gt;&lt;u&gt;Python support for MCP servers&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;: &lt;/b&gt;You can now build MCP servers on Cloudflare using Python, not just JavaScript/TypeScript. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Improved docs, starter templates, and deploy flows:&lt;/b&gt; We’ve added &lt;a href=\&quot;https://github.com/cloudflare/ai/tree/main/demos/remote-mcp-authless\&quot;&gt;&lt;u&gt;new quickstart templates&lt;/u&gt;&lt;/a&gt;, expanded our &lt;a href=\&quot;https://developers.cloudflare.com/agents/model-context-protocol/transport/\&quot;&gt;&lt;u&gt;documentation&lt;/u&gt;&lt;/a&gt; to cover the new transport method, and shared &lt;a href=\&quot;https://developers.cloudflare.com/agents/model-context-protocol/#best-practices\&quot;&gt;&lt;u&gt;best practices&lt;/u&gt;&lt;/a&gt; for building MCP servers based on our learnings. &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;But rather than telling you, we thought it would be better to show you what our customers have built and why they chose Cloudflare for their MCP deployment. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;remote-mcp-servers-you-can-connect-to-today\&quot;&gt;Remote MCP servers you can connect to today&lt;/h2&gt;\n            &lt;a href=\&quot;#remote-mcp-servers-you-can-connect-to-today\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;asana\&quot;&gt;Asana&lt;/h3&gt;\n            &lt;a href=\&quot;#asana\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Today, work lives across many different apps and services. By investing in MCP, Asana can meet users where they are, enabling agent-driven interoperability across tools and workflows. Users can interact with the Asana Work Graph using natural language to get project updates, search for tasks, manage projects, send comments, and update deadlines from an MCP client.&lt;/p&gt;&lt;p&gt;Users will be able to orchestrate and integrate different pieces of work seamlessly — for example, turning a project plan or meeting notes from another app into a fully assigned set of tasks in Asana, or pulling Asana tasks directly into an MCP-enabled IDE for implementation. This flexibility makes managing work across systems easier, faster, and more natural than ever before.&lt;/p&gt;&lt;p&gt;To accelerate the launch of our first-party MCP server, Asana built on Cloudflare&amp;#39;s tooling, taking advantage of the foundational infrastructure to move quickly and reliably in this fast-evolving space.&lt;/p&gt;&lt;p&gt;&lt;i&gt;&amp;quot;At Asana, we&amp;#39;ve always focused on helping teams coordinate work effortlessly. MCP connects our Work Graph directly to AI tools like Claude.ai, enabling AI to become a true teammate in work management. Our integration transforms natural language into structured work – creating projects from meeting notes or pulling updates into AI. Building on Cloudflare&amp;#39;s infrastructure allowed us to deploy quickly, handling authentication and scaling while we focused on creating the best experience for our users.&amp;quot; – Prashant Pandey, Chief Technology Officer, Asana&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Learn more about Asana’s MCP server &lt;a href=\&quot;https://developers.asana.com/docs/using-asanas-model-control-protocol-mcp-server\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;atlassian\&quot;&gt;Atlassian&lt;/h3&gt;\n            &lt;a href=\&quot;#atlassian\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Jira and Confluence Cloud customers can now securely interact with their data directly from Anthropic’s Claude app via the &lt;a href=\&quot;http://atlassian.com/platform/remote-mcp-server\&quot;&gt;&lt;u&gt;Atlassian Remote MCP&lt;/u&gt;&lt;/a&gt; Server in beta. Hosted on Cloudflare infrastructure, users can summarize work, create issues or pages, and perform multi-step actions, all while keeping data secure and within permissioned boundaries.&lt;/p&gt;&lt;p&gt;Users can access information from Jira and Confluence wherever they use Claude to:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Summarize Jira work items or Confluence pages&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Create Jira work items or Confluence pages directly from Claude&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Get the model to take multiple actions in one go, like creating issues or pages in bulk&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Enrich Jira work items with context from many different sources to which Claude has access&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;And so much more!&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;i&gt;“AI is not one-size-fits-all and we believe that it needs to be embedded within a team’s jobs to be done. That’s why we’re so excited to invest in MCP and meet teams in more places where they already work. Hosting on Cloudflare infrastructure means we can bring this powerful integration to our customers faster and empower them to do more than ever with Jira and Confluence, all while keeping their enterprise data secure. Cloudflare provided everything from OAuth to out-of-the-box remote MCP support so we could quickly build, secure, and scale a fully operational setup.” — Taroon Mandhana, Head of Product Engineering, Atlassian&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Learn more about Atlassian’s MCP server &lt;a href=\&quot;https://www.atlassian.com/blog/announcements/remote-mcp-server\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;intercom\&quot;&gt;Intercom&lt;/h3&gt;\n            &lt;a href=\&quot;#intercom\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;At Intercom, the transformative power of AI is becoming increasingly clear. Fin, Intercom’s AI Agent, is now autonomously resolving over 50% of customer support conversations for leading companies such as Anthropic. With MCP, connecting AI to internal tools and systems is easier than ever, enabling greater business value.&lt;/p&gt;&lt;p&gt;Customer conversations, for instance, offer valuable insights into how products are being used and the experiences customers are having. However, this data is often locked within the support platform. The Intercom MCP server unlocks this rich source of customer data, making it accessible to anyone in the organization using AI tools. Engineers, for example, can leverage conversation history and user data from Intercom in tools like Cursor or Claude Code to diagnose and resolve issues more efficiently.&lt;/p&gt;&lt;p&gt;&lt;i&gt;“The momentum behind MCP is exciting. It’s making it easier and easier to connect assistants like Claude.ai and agents like Fin to your systems and get real work done. Cloudflare&amp;#39;s toolkit is accelerating that movement even faster. Their clear documentation, purpose-built tools, and developer-first platform helped Intercom go from concept to production in under a day, making the Intercom MCP server launch effortless. We’ll be encouraging our customers to leverage Cloudflare to build and deploy their own MCP servers to securely and reliably connect their internal systems to Fin and other clients.” — Jordan Neill, SVP Engineering, Intercom&lt;/i&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;linear\&quot;&gt;Linear&lt;/h3&gt;\n            &lt;a href=\&quot;#linear\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;The Linear MCP server allows users to bring the context of their issues and product development process directly into AI assistants when it&amp;#39;s needed. Whether that is refining a product spec in Claude, collaborating on fixing a bug with Cursor, or creating issues on the fly from an email. &lt;/p&gt;&lt;p&gt;&lt;i&gt;“We&amp;#39;re building on Cloudflare to take advantage of their frameworks in this fast-moving space and flexible, fast, compute at the edge. With MCP, we&amp;#39;re bringing Linear&amp;#39;s issue tracking and product development workflows directly into their AI tools of choice, eliminating context switching for teams. Our goal is simple: let developers and product teams access their work where they already are—whether refining specs in Claude, debugging in Cursor, or creating issues from conversations. This seamless integration helps our customers stay in flow and focused on building great products” — Tom Moor, Head of US Engineering, Linear&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Learn more about Linear’s MCP server &lt;a href=\&quot;https://linear.app/docs/mcp\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;paypal\&quot;&gt;PayPal&lt;/h3&gt;\n            &lt;a href=\&quot;#paypal\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;&lt;i&gt;&amp;quot;MCPs represent a new paradigm for software development. With PayPal&amp;#39;s remote MCP server on Cloudflare, now developers can delegate to an agent with natural language to seamlessly integrate with PayPal&amp;#39;s portfolio of commerce capabilities. Whether it&amp;#39;s managing inventory, processing payments, tracking shipping, handling refunds, AI agents via MCP can tap into these capabilities to autonomously execute and optimize commerce workflows. This is a revolutionary development for commerce, and the best part is, developers can begin integrating with our MCP server on Cloudflare today.&amp;quot; - Prakhar Mehrotra, SVP of Artificial Intelligence, PayPal&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Learn more about PayPal’s MCP server &lt;a href=\&quot;https://developer.paypal.com/tools/mcp-server/\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;sentry\&quot;&gt;Sentry&lt;/h3&gt;\n            &lt;a href=\&quot;#sentry\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;With the Sentry MCP server, developers are able to query Sentry’s context right from their IDE, or an assistant like Claude, to get errors and issue information across projects or even for individual files.&lt;/p&gt;&lt;p&gt;Developers can also use the MCP to create projects, capture setup information, and query project and organization information - and use the information to set up their applications for Sentry. As we continue to build out the MCP further, we&amp;#39;ll allow teams to bring in root cause analysis and solution information from Seer, our Agent, and also look at simplifying instrumentation for sentry functionality like traces, and exception handling. &lt;/p&gt;&lt;p&gt;Hosting this on Cloudflare and using Remote MCP, we were able to sidestep a number of the complications of trying to run locally, like scaling or authentication. Remote MCP lets us leverage Sentry’s own OAuth configuration directly. Durable Object support also lets us maintain state within the MCP, which is important when you’re not running locally. &lt;/p&gt;&lt;p&gt;&lt;i&gt;“Sentry’s commitment has always been to the developer, and making it easier to keep production software running stable, and that’s going to be even more true in the AI era. Developers are utilizing tools like MCP to integrate their stack with AI models and data sources. We chose to build our MCP on Cloudflare because we share a vision of making it easier for developers to ship software, and are both invested in ensuring teams can build and safely run the next generation of AI agents. Debugging the complex interactions arising from these integrations is increasingly vital, and Sentry provides the essential visibility needed to rapidly diagnose and resolve issues. MCP integrates this crucial Sentry context directly into the developer workflow, empowering teams to consistently build and deploy reliable applications.” — David Cramer, CPO and Co-Founder, Sentry&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Learn more about Sentry’s MCP server &lt;a href=\&quot;https://docs.sentry.io/product/sentry-mcp/\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;block\&quot;&gt;Block &lt;/h3&gt;\n            &lt;a href=\&quot;#block\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Square&amp;#39;s &lt;a href=\&quot;https://developer.squareup.com/us/en\&quot;&gt;&lt;u&gt;APIs&lt;/u&gt;&lt;/a&gt; are a comprehensive set of tools that help sellers take payments, create and track orders, manage inventory, organize customers, and more. Now, with a dedicated Square MCP server, sellers can enlist the help of an AI agent to build their business on Square’s entire suite of API resources and endpoints. By integrating with AI agents like Claude and &lt;a href=\&quot;https://block.github.io/goose/\&quot;&gt;&lt;u&gt;codename goose&lt;/u&gt;&lt;/a&gt;, sellers can craft sophisticated, customized use cases that fully utilize Square’s capabilities, at a lower technical barrier.&lt;/p&gt;&lt;p&gt;Learn more about Block’s MCP server &lt;a href=\&quot;https://developer.squareup.com/docs/mcp\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;stripe\&quot;&gt;Stripe&lt;/h3&gt;\n            &lt;a href=\&quot;#stripe\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;&lt;i&gt;“MCP is emerging as a new AI interface. In the near-future, MCP may become the default way, or in some cases the only way, people, businesses, and code discover and interact with services. With &lt;/i&gt;&lt;a href=\&quot;https://docs.stripe.com/agents\&quot;&gt;&lt;i&gt;&lt;u&gt;Stripe&amp;#39;s agent toolkit&lt;/u&gt;&lt;/i&gt;&lt;/a&gt;&lt;i&gt; and Cloudflare’s Agent SDK, developers can now monetize their MCPs with just a few lines of code.” — Jeff Weinstein, Product Lead at Stripe&lt;/i&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;webflow\&quot;&gt;Webflow&lt;/h3&gt;\n            &lt;a href=\&quot;#webflow\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;The Webflow MCP server supports CMS management, auditing and improving SEO, content localization, site publishing, and more. This enables users to manage and improve their site directly from their AI agent. &lt;/p&gt;&lt;p&gt;&lt;i&gt;&amp;quot;We see MCP as a new way to interact with Webflow that aligns well with our mission of bringing development superpowers to everyone. MCP is not just a different surface over our APIs, instead we’re thinking of it in terms of the actions it supports: publish a website, create a CMS collection, update content, and more. MCP lets us expose those actions in a way that’s discoverable, secure, and deeply contextual. It opens the door to new workflows where AI and humans can work side-by-side, without needing to cobble together solutions or handle low-level API details. Cloudflare supports this aim by offering the reliability, performance, and developer tooling we need to build modern web infrastructure. Their support for remote MCP servers is mature and well-integrated, and their approach to authentication and durability aligns with how we think about the scale and security of these offerings.” — Utkarsh Sengar, VP of Engineering, Webflow&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Learn more about Webflow’s MCP server &lt;a href=\&quot;https://mcp.webflow.com\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;start-building-today\&quot;&gt;Start building today &lt;/h2&gt;\n            &lt;a href=\&quot;#start-building-today\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;If you’re looking to build a remote MCP server for your service, get started with our documentation, watch the tutorial below, or use the button below to get a starter remote MCP server deployed to production. Once the remote MCP server is deployed, it can be used from &lt;a href=\&quot;https://claude.ai/\&quot;&gt;&lt;u&gt;Claude&lt;/u&gt;&lt;/a&gt;, Cloudflare’s &lt;a href=\&quot;https://playground.ai.cloudflare.com/\&quot;&gt;&lt;u&gt;AI playground&lt;/u&gt;&lt;/a&gt;, or any remote MCP client. &lt;/p&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/ai/tree/main/demos/remote-mcp-authless\&quot;&gt;&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;\n&lt;p&gt;&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;In addition, we launched a &lt;a href=\&quot;https://youtu.be/Pjc8cC8zVRY\&quot;&gt;&lt;u&gt;new YouTube video&lt;/u&gt;&lt;/a&gt; walking you through building MCP servers, using two of our MCP templates.&lt;/p&gt;&lt;p&gt;If you have any questions or feedback for us, you can reach us via email at &lt;a href=\&quot;mailto:1800-mcp@cloudflare.com\&quot;&gt;&lt;u&gt;1800-mcp@cloudflare.com&lt;/u&gt;&lt;/a&gt;. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6WNNRZBcgfCv5xVM3MNYwI/39ebfda250c4524ebce323511bffc72e/BLOG-2811_4.png\&quot; alt=\&quot;BLOG-2811 4\&quot; class=\&quot;kg-image\&quot; width=\&quot;1200\&quot; height=\&quot;267\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-05-01T13:00:21.723Z&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T20:29:00.762Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4ihviGbGnxy0mMdYBWCwHN/37261f191c7eecb914cc693e9a8fd1fe/BLOG-2811_1.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;6Foe3R8of95cWVnQwe5Toi&quot;],&quot;name&quot;:[0,&quot;AI&quot;],&quot;slug&quot;:[0,&quot;ai&quot;]}],[0,{&quot;id&quot;:[0,&quot;22RkiaggH3NV4u6qyMmC42&quot;],&quot;name&quot;:[0,&quot;Agents&quot;],&quot;slug&quot;:[0,&quot;agents&quot;]}],[0,{&quot;id&quot;:[0,&quot;6Lfy7VaNvl5G8gOYMKFiux&quot;],&quot;name&quot;:[0,&quot;MCP&quot;],&quot;slug&quot;:[0,&quot;mcp&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Dina Kozlov&quot;],&quot;slug&quot;:[0,&quot;dina&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/bY78cK0burCjZbD6jOgAH/a8479b5ea6dd8fb3acb41227c1a4ad0e/dina.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@dinasaur_404&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;We’re teaming up with Anthropic, Asana, Atlassian, Block, Intercom, Linear, PayPal, Sentry, Stripe, and Webflow to launch new remote MCP servers, built on Cloudflare, to enable Claude users to manage projects, generate invoices, and even deploy applications — without ever leaving the chat interface.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;LOC: MCP Demo Day: How 10 leading AI companies built MCP servers on Cloudflare&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;Translated for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;Translated for Locale&quot;],&quot;frFR&quot;:[0,&quot;English for Locale&quot;],&quot;deDE&quot;:[0,&quot;English for Locale&quot;],&quot;itIT&quot;:[0,&quot;English for Locale&quot;],&quot;jaJP&quot;:[0,&quot;Translated for Locale&quot;],&quot;koKR&quot;:[0,&quot;Translated for Locale&quot;],&quot;ptBR&quot;:[0,&quot;Translated for Locale&quot;],&quot;esLA&quot;:[0,&quot;English for Locale&quot;],&quot;esES&quot;:[0,&quot;Translated for Locale&quot;],&quot;enAU&quot;:[0,&quot;English for Locale&quot;],&quot;enCA&quot;:[0,&quot;English for Locale&quot;],&quot;enIN&quot;:[0,&quot;English for Locale&quot;],&quot;enGB&quot;:[0,&quot;English for Locale&quot;],&quot;idID&quot;:[0,&quot;English for Locale&quot;],&quot;ruRU&quot;:[0,&quot;English for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;English for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/mcp-demo-day&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0],&quot;description&quot;:[0],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7pUTT9lfWvUEJsnHBv2ydZ/f8a438da2041ac2d4eda5a83d697a94e/BLOG-2811_OG_Share.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],&quot;translations&quot;:[0,{&quot;posts.by&quot;:[0,&quot;By&quot;],&quot;footer.gdpr&quot;:[0,&quot;GDPR&quot;],&quot;lang_blurb1&quot;:[0,&quot;This post is also available in {lang1}.&quot;],&quot;lang_blurb2&quot;:[0,&quot;This post is also available in {lang1} and {lang2}.&quot;],&quot;lang_blurb3&quot;:[0,&quot;This post is also available in {lang1}, {lang2} and {lang3}.&quot;],&quot;footer.press&quot;:[0,&quot;Press&quot;],&quot;header.title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;search.clear&quot;:[0,&quot;Clear&quot;],&quot;search.filter&quot;:[0,&quot;Filter&quot;],&quot;search.source&quot;:[0,&quot;Source&quot;],&quot;footer.careers&quot;:[0,&quot;Careers&quot;],&quot;footer.company&quot;:[0,&quot;Company&quot;],&quot;footer.support&quot;:[0,&quot;Support&quot;],&quot;footer.the_net&quot;:[0,&quot;theNet&quot;],&quot;search.filters&quot;:[0,&quot;Filters&quot;],&quot;footer.our_team&quot;:[0,&quot;Our team&quot;],&quot;footer.webinars&quot;:[0,&quot;Webinars&quot;],&quot;page.more_posts&quot;:[0,&quot;More posts&quot;],&quot;posts.time_read&quot;:[0,&quot;{time} min read&quot;],&quot;search.language&quot;:[0,&quot;Language&quot;],&quot;footer.community&quot;:[0,&quot;Community&quot;],&quot;footer.resources&quot;:[0,&quot;Resources&quot;],&quot;footer.solutions&quot;:[0,&quot;Solutions&quot;],&quot;footer.trademark&quot;:[0,&quot;Trademark&quot;],&quot;header.subscribe&quot;:[0,&quot;Subscribe&quot;],&quot;footer.compliance&quot;:[0,&quot;Compliance&quot;],&quot;footer.free_plans&quot;:[0,&quot;Free plans&quot;],&quot;footer.impact_ESG&quot;:[0,&quot;Impact/ESG&quot;],&quot;posts.follow_on_X&quot;:[0,&quot;Follow on X&quot;],&quot;footer.help_center&quot;:[0,&quot;Help center&quot;],&quot;footer.network_map&quot;:[0,&quot;Network Map&quot;],&quot;header.please_wait&quot;:[0,&quot;Please Wait&quot;],&quot;page.related_posts&quot;:[0,&quot;Related posts&quot;],&quot;search.result_stat&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt; for &lt;strong&gt;{search_keyword}&lt;/strong&gt;&quot;],&quot;footer.case_studies&quot;:[0,&quot;Case Studies&quot;],&quot;footer.connect_2024&quot;:[0,&quot;Connect 2024&quot;],&quot;footer.terms_of_use&quot;:[0,&quot;Terms of Use&quot;],&quot;footer.white_papers&quot;:[0,&quot;White Papers&quot;],&quot;footer.cloudflare_tv&quot;:[0,&quot;Cloudflare TV&quot;],&quot;footer.community_hub&quot;:[0,&quot;Community Hub&quot;],&quot;footer.compare_plans&quot;:[0,&quot;Compare plans&quot;],&quot;footer.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.email_address&quot;:[0,&quot;Email Address&quot;],&quot;page.error.not_found&quot;:[0,&quot;Page not found&quot;],&quot;footer.developer_docs&quot;:[0,&quot;Developer docs&quot;],&quot;footer.privacy_policy&quot;:[0,&quot;Privacy Policy&quot;],&quot;footer.request_a_demo&quot;:[0,&quot;Request a demo&quot;],&quot;page.continue_reading&quot;:[0,&quot;Continue reading&quot;],&quot;footer.analysts_report&quot;:[0,&quot;Analyst reports&quot;],&quot;footer.for_enterprises&quot;:[0,&quot;For enterprises&quot;],&quot;footer.getting_started&quot;:[0,&quot;Getting Started&quot;],&quot;footer.learning_center&quot;:[0,&quot;Learning Center&quot;],&quot;footer.project_galileo&quot;:[0,&quot;Project Galileo&quot;],&quot;pagination.newer_posts&quot;:[0,&quot;Newer Posts&quot;],&quot;pagination.older_posts&quot;:[0,&quot;Older Posts&quot;],&quot;posts.social_buttons.x&quot;:[0,&quot;Discuss on X&quot;],&quot;search.icon_aria_label&quot;:[0,&quot;Search&quot;],&quot;search.source_location&quot;:[0,&quot;Source/Location&quot;],&quot;footer.about_cloudflare&quot;:[0,&quot;About Cloudflare&quot;],&quot;footer.athenian_project&quot;:[0,&quot;Athenian Project&quot;],&quot;footer.become_a_partner&quot;:[0,&quot;Become a partner&quot;],&quot;footer.cloudflare_radar&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;footer.network_services&quot;:[0,&quot;Network services&quot;],&quot;footer.trust_and_safety&quot;:[0,&quot;Trust &amp; Safety&quot;],&quot;header.get_started_free&quot;:[0,&quot;Get Started Free&quot;],&quot;page.search.placeholder&quot;:[0,&quot;Search Cloudflare&quot;],&quot;footer.cloudflare_status&quot;:[0,&quot;Cloudflare Status&quot;],&quot;footer.cookie_preference&quot;:[0,&quot;Cookie Preferences&quot;],&quot;header.valid_email_error&quot;:[0,&quot;Must be valid email.&quot;],&quot;search.result_stat_empty&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt;&quot;],&quot;footer.connectivity_cloud&quot;:[0,&quot;Connectivity cloud&quot;],&quot;footer.developer_services&quot;:[0,&quot;Developer services&quot;],&quot;footer.investor_relations&quot;:[0,&quot;Investor relations&quot;],&quot;page.not_found.error_code&quot;:[0,&quot;Error Code: 404&quot;],&quot;search.autocomplete_title&quot;:[0,&quot;Insert a query. Press enter to send&quot;],&quot;footer.logos_and_press_kit&quot;:[0,&quot;Logos &amp; press kit&quot;],&quot;footer.application_services&quot;:[0,&quot;Application services&quot;],&quot;footer.get_a_recommendation&quot;:[0,&quot;Get a recommendation&quot;],&quot;posts.social_buttons.reddit&quot;:[0,&quot;Discuss on Reddit&quot;],&quot;footer.sse_and_sase_services&quot;:[0,&quot;SSE and SASE services&quot;],&quot;page.not_found.outdated_link&quot;:[0,&quot;You may have used an outdated link, or you may have typed the address incorrectly.&quot;],&quot;footer.report_security_issues&quot;:[0,&quot;Report Security Issues&quot;],&quot;page.error.error_message_page&quot;:[0,&quot;Sorry, we can&#39;t find the page you are looking for.&quot;],&quot;header.subscribe_notifications&quot;:[0,&quot;Subscribe to receive notifications of new posts:&quot;],&quot;footer.cloudflare_for_campaigns&quot;:[0,&quot;Cloudflare for Campaigns&quot;],&quot;header.subscription_confimation&quot;:[0,&quot;Subscription confirmed. Thank you for subscribing!&quot;],&quot;posts.social_buttons.hackernews&quot;:[0,&quot;Discuss on Hacker News&quot;],&quot;footer.diversity_equity_inclusion&quot;:[0,&quot;Diversity, equity &amp; inclusion&quot;],&quot;footer.critical_infrastructure_defense_project&quot;:[0,&quot;Critical Infrastructure Defense Project&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;PostCard&quot;,&quot;value&quot;:true}" await-children><article class="w-50-l  mt4 mt2-l mb4 ph3 bb b--gray8 bn-l"><div class="w-100"><a href="/mcp-demo-day/" class="fw5 no-underline gray1" data-testid="post-title"><h2 class="fw5 mt2">MCP Demo Day: How 10 leading AI companies built MCP servers on Cloudflare</h2></a><p class="f3 fw5 gray5 my" data-testid="post-date">2025-05-01</p><div class=""><a href="/tag/ai/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">AI</a><a href="/tag/agents/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Agents</a><a href="/tag/mcp/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">MCP</a><a href="/tag/workers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Cloudflare Workers</a><a href="/tag/developers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developers</a><a href="/tag/developer-platform/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developer Platform</a></div><p class="f3 fw4 gray1 lh-copy " data-testid="post-content">We’re teaming up with Anthropic, Asana, Atlassian, Block, Intercom, Linear, PayPal, Sentry, Stripe, and Webflow to launch new remote MCP servers, built on Cloudflare, to enable Claude users to manage<!-- -->...</p><ul class="author-lists flex pl0"><li class="list flex items-center pr2 mb3"><a href="/author/dina/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/bY78cK0burCjZbD6jOgAH/a8479b5ea6dd8fb3acb41227c1a4ad0e/dina.jpg" alt="Dina Kozlov" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/dina/" class="fw4 f3 no-underline black">Dina Kozlov</a></div></li></ul></div></article><!--astro:end--></astro-island><astro-island uid="pT40A" prefix="r4" component-url="/_astro/PostCard.DalyEN7z.js" component-export="PostCard" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;currentPage&quot;:[0,1],&quot;isFeaturedImageFirstPost&quot;:[0,false],&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;44H31LjCVMieZ4K7wqlLaj&quot;],&quot;title&quot;:[0,&quot;Startup spotlight: building AI agents and accelerating innovation with Cohort #5&quot;],&quot;slug&quot;:[0,&quot;ai-agents-and-innovation-with-launchpad-cohort5&quot;],&quot;excerpt&quot;:[0,&quot;Discover how developers are using Cloudflare to scale AI workloads and streamline automation and how participants in Workers Launchpad Cohort #4 have built, and startups participating in Cohort #5&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;With quick access to flexible infrastructure and innovative AI tools, startups are able to deploy production-ready applications with speed and efficiency. Cloudflare plays a pivotal role for countless applications, empowering founders and engineering teams to build, scale, and accelerate their innovations with ease — and without the burden of technical overhead. And when applicable, initiatives like our &lt;a href=\&quot;http://www.cloudflare.com/forstartups\&quot;&gt;&lt;u&gt;Startup Program&lt;/u&gt;&lt;/a&gt; and &lt;a href=\&quot;http://www.cloudflare.com/lp/workers-launchpad\&quot;&gt;&lt;u&gt;Workers Launchpad&lt;/u&gt;&lt;/a&gt; offer the tooling and resources that further fuel these ambitious projects.&lt;/p&gt;&lt;p&gt;Cloudflare recently announced&lt;b&gt; &lt;/b&gt;&lt;a href=\&quot;https://blog.cloudflare.com/build-ai-agents-on-cloudflare/\&quot;&gt;&lt;b&gt;&lt;u&gt;AI agents&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;, allowing developers to leverage Cloudflare to deploy &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-agentic-ai/\&quot;&gt;agents&lt;/a&gt; to complete autonomous tasks. We’re already seeing some great examples of startups leveraging Cloudflare as their platform of choice to invest in building their agent infrastructure. Read on to see how a few up-and-coming startups are building their AI agent platforms, powered by Cloudflare.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;lamatic-ai-built-a-scalable-ai-agent-platform-using-workers-for-platform\&quot;&gt;Lamatic AI built a scalable AI agent platform using Workers for Platform&lt;/h2&gt;\n            &lt;a href=\&quot;#lamatic-ai-built-a-scalable-ai-agent-platform-using-workers-for-platform\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Founded in 2023, Lamatic.ai empowers SaaS startups to seamlessly integrate intelligent AI agents into their products. Lamatic.ai simplifies the deployment of AI agents by offering a fully managed lifecycle with scalability and security in mind. SaaS providers have been leveraging Lamatic to &lt;a href=\&quot;https://www.cloudflare.com/learning/cloud/how-to-replatform-applications/\&quot;&gt;replatform&lt;/a&gt; their AI workflows via a no-code visual builder to reduce technical debt and ship products faster. Designed for high availability, scalability, and low latency, Lamatic’s architecture enables developers to build AI-driven applications that remain performant under heavy load. After acquiring a high amount of users in a short amount of time on Product Hunt, Lamatic identified there was real interest to solve complex problems with AI Agents, and the team knew they needed to build a solution with scalability and performance in mind.&lt;/p&gt;&lt;p&gt;Cloudflare plays a key role in supporting Lamatic’s growth. Powered by Cloudflare &lt;a href=\&quot;https://workers.cloudflare.com/\&quot;&gt;&lt;b&gt;&lt;u&gt;Workers&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;, &lt;/b&gt;Lamatic ensures requests process closer to end users, minimizing latency while offloading computational strain from centralized servers. In just a few months, Lamatic.ai has efficiently scaled to over three million serverless requests per month, supporting over 1,000 customers — all managed by a lean three-person team. &lt;/p&gt;&lt;p&gt;Customers design their Agent Flows through a no-code visual builder, which generates an interoperable YAML configuration. Sensitive credentials such as API keys and model access tokens are securely encrypted and stored in Workers KV, ensuring they are only decrypted at runtime for enhanced security. All YAML configurations are then compiled into a Workers-compatible JavaScript bundle. When a project is deployed, Lamatic orchestrates critical components like sync jobs for scheduled data ETL operations and incoming webhooks to handle event-driven workflows via &lt;b&gt;Cloudflare &lt;/b&gt;&lt;a href=\&quot;https://developers.cloudflare.com/queues/\&quot;&gt;&lt;b&gt;&lt;u&gt;Queues&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;. Once deployed, the project is fully operational as a Cloudflare Worker with an exposed API endpoint, allowing customers to integrate AI-powered automation directly into their applications with minimal friction.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3YUQpvrLjYaee5RJq4TRW3/8d2db69af7607b038855a0f4f1e27dc6/1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1738\&quot; height=\&quot;1043\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;To scale out their platform, Lamatic.ai built their architecture isolating serverless and AI logic on a per-customer basis. Rather than batching requests into a centralized cluster, Lamatic.ai distributes workloads across Cloudflare’s global network, ensuring each customer and endpoint is served by its own Worker executing dedicated logic. This per-customer deployment model — enabled by &lt;a href=\&quot;https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/\&quot;&gt;&lt;b&gt;&lt;u&gt;Workers for Platforms&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt; &lt;/b&gt;— allows Lamatic.ai to deliver customer-specific serverless functions at scale, and reduces technical overhead as they onboard additional customers. Each customer gets a dedicated Worker whose request and rate limits are enabled based on their level of subscription. &lt;/p&gt;&lt;p&gt;Beyond request processing, Lamatic uses &lt;b&gt;Cloudflare &lt;/b&gt;&lt;a href=\&quot;https://developers.cloudflare.com/kv/\&quot;&gt;&lt;b&gt;&lt;u&gt;Workers KV&lt;/u&gt;&lt;/b&gt;&lt;/a&gt; as a distributed config store to ensure high availability and security. All values are encrypted at rest with &lt;a href=\&quot;https://en.wikipedia.org/wiki/Galois/Counter_Mode\&quot;&gt;&lt;u&gt;AES-256-GCM&lt;/u&gt;&lt;/a&gt; and decrypted only at runtime, keeping operations both secure and low-latency. Tokens and user credentials are encrypted and stored in the database and KV. &lt;/p&gt;&lt;p&gt;To further enhance performance, Cloudflare &lt;b&gt;Queues&lt;/b&gt; plays a key role in orchestrating task completion. Lamatic uses Queues to offload work from Workers requests, and handle tasks such as webhooks and coordinating distributed processes, both essential for maintaining system consistency and reliability at scale. While Workers handle sync requests at point of execution, longer running jobs process via Queues. For example, during a scheduled ETL sync, new data records generated are stored as a message queue on Cloudflare &lt;a href=\&quot;https://developers.cloudflare.com/pub-sub/\&quot;&gt;&lt;b&gt;&lt;u&gt;Pub/Sub&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;. A consumer Worker collects these messages and makes an API request to the pod using the Workers Queue. The consumer Worker consumes more messages as each queue is finished processing.&lt;/p&gt;&lt;p&gt;Another example of where this has been optimal is for managing AI workflows. Many AI workflows involve concurrent requests to multiple data sources, Queues streamlines data processing and efficiently feeds information into customers’ &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/retrieval-augmented-generation-rag/\&quot;&gt;&lt;u&gt;Retrieval Augmented Generation (RAG)&lt;/u&gt;&lt;/a&gt; workflows. This approach smooths out workload spikes, reduces bottlenecks, and ensures that AI agents can reliably aggregate and process data without delays.&lt;/p&gt;&lt;p&gt;Beyond this, Lamatic.ai offers &lt;b&gt;Workers AI&lt;/b&gt; as one of the support inference providers that customers can use across their platform. Customers can choose to run one of the many open source models hosted on Workers AI, depending on their use case (chatbot, image generation, voice, etc.). Together, these layers solve the challenges of scaling AI agents by handling high volumes of data, maintaining low-latency responses, and ensuring robust security. With Cloudflare’s infrastructure as its backbone, Lamatic.ai has built a resilient and high-performing platform that meets the rigorous demands of modern AI applications, making it an ideal choice for startups embedding AI-driven features into their products.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;skyward-ai-automates-compliance-using-ai-agents-with-durable-objects-and-agents\&quot;&gt;Skyward AI automates compliance using AI agents with Durable Objects and &lt;code&gt;agents&lt;/code&gt;&lt;/h2&gt;\n            &lt;a href=\&quot;#skyward-ai-automates-compliance-using-ai-agents-with-durable-objects-and-agents\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Skyward AI is transforming compliance operations by leveraging Cloudflare’s serverless computing capabilities to build AI-driven compliance agents that streamline critical tasks like evidence collection, real-time risk analysis, and policy updates. Compliance teams in fintech, supply chain, and other highly regulated industries use these AI Agents to extract and organize evidence, provide real-time recommendations, and orchestrate policy and procedural updates automatically. By handling document parsing, risk monitoring, and policy enforcement, these AI Agents reduce the risk of human error while allowing compliance professionals to focus on high-value tasks.&lt;/p&gt;&lt;p&gt;Skyward has built an AI agents platform designed with a serverless-first approach, avoiding the constraints of centralized cloud computing. To achieve this, the company leverages Cloudflare’s Developer Platform to create and maintain a highly responsive and scalable infrastructure. &lt;b&gt;Workers&lt;/b&gt; handle incoming requests like chat inputs, compliance checks, or authentication, and route them efficiently across multiple geographies. Skyward initially built their AI agents infrastructure using &lt;a href=\&quot;https://developers.cloudflare.com/durable-objects/\&quot;&gt;&lt;b&gt;&lt;u&gt;Durable Objects&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;,&lt;b&gt; &lt;/b&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;b&gt;&lt;u&gt;Workflows&lt;/u&gt;&lt;/b&gt;&lt;/a&gt; and JavaScript-native RPC for AI coordination, but has recently transitioned to Cloudflare’s &lt;a href=\&quot;https://blog.cloudflare.com/build-ai-agents-on-cloudflare/\&quot;&gt;&lt;u&gt;new AI agents framework&lt;/u&gt;&lt;/a&gt;. Given that &lt;code&gt;agents &lt;/code&gt;provides a framework for building and orchestrating AI agents, the migration has helped Skyward abstract the need to manage Durable Objects manually, significantly reducing time spent on managing these tools. While this release is fairly recent, the transition has helped simplify the way that agents communicate, but it also preserved the benefits of their original design like data privacy, isolation, and concurrency management. This has also made it easier to provide real-time feedback and responses to their end users.&lt;/p&gt;&lt;p&gt;Skyward optimizes real-time compliance automation by achieving sub-100 ms response times for AI agent queries. Workloads are structured to minimize unnecessary network round-trips, and a sync-engine approach proactively preloads and pushes data to clients, delivering a highly responsive user experience. To proxy AI inference, Skyward uses &lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/\&quot;&gt;&lt;b&gt;&lt;u&gt;AI Gateway&lt;/u&gt;&lt;/b&gt;&lt;/a&gt; to provide observability into usage, performance, and costs across multiple vendors, improving their AI operational efficiency. Leveraging Cloudflare’s serverless Developer Platform has allowed Skyward to simplify their architecture while supporting global availability, avoiding the need for Kubernetes clusters or complex locking mechanisms. The team also avoids the burden of managing regional deployments, as Cloudflare’s multi-region support ensures consistent performance worldwide without added operational complexity.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/IW8Nh4NECUH897s3OEETe/6e3823712b3fceca699c068605aa9092/2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1371\&quot; height=\&quot;551\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;State management is a critical component to execute agentic workflows. Each compliance session runs within a dedicated &lt;b&gt;Durable Object&lt;/b&gt;, which keeps relevant data close to the execution layer. This setup minimizes database round-trips and ensures that tasks like Anti-Money Laundering (AML) checks, Know Your Business (KYB) validation, and document processing remain efficient. Once a compliance session is complete, the system summarizes and stores the relevant information in Postgres and &lt;b&gt;R2&lt;/b&gt;, optimizing memory usage without requiring persistent cloud infrastructure.&lt;/p&gt;&lt;p&gt;To balance low-latency operations with long-term storage, Skyward employs a multi-layered data management strategy. The Skyward team, using &lt;a href=\&quot;https://developers.cloudflare.com/hyperdrive/\&quot;&gt;&lt;b&gt;&lt;u&gt;Hyperdrive&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;, has been able to reduce query latency by nearly 50%, allowing compliance teams to receive immediate feedback. At the company&amp;#39;s core, Skyward’s goal is to offer a platform that is &amp;quot;streamlined for compliance teams”. The team maintains that a speedy feedback loop ensures end customers get the data and responses needed to act. Whether there&amp;#39;s one agent or hundreds of agents processing tasks in parallel, Hyperdrive ensures that database requests to assets like extensive company documentation (i.e. regulations, policies, procedures, internal documents), complex regulatory knowledge graphs, and on-demand context information for conversational workflows are all as performant as possible.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Durable Objects&lt;/b&gt; facilitate real-time session state, ensuring AI agents function smoothly without complex locking mechanisms. For larger compliance-related documents, such as legal PDFs and archived data, Cloudflare &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;b&gt;&lt;u&gt;R2&lt;/u&gt;&lt;/b&gt;&lt;/a&gt; provides long-term storage, ensuring only frequently accessed information remains readily available. This approach enhances performance while keeping storage management efficient and cost-effective.&lt;/p&gt;&lt;p&gt;Security and scalability remain priorities for compliance-focused AI applications. Skyward enforces strict access controls, ensuring that only authorized users can access development and production environments. Each AI session maintains an auditable log of key events, user actions, and approvals, supporting the ability to export these insights for compliance and legal requirements. Because each agent is deployed in its own instance and has its own database, Skyward ensures that there is a detailed record of every required user, agent interaction, and auditing requirements. On top of this, the ability to deploy and scale globally with Cloudflare’s network has allowed Skyward to maintain consistent, high-performance operations across multiple regions without extensive infrastructure overhead.&lt;/p&gt;&lt;p&gt;Looking ahead, Skyward plans to further enhance AI agent responsiveness by running select models directly on &lt;b&gt;Cloudflare Workers AI&lt;/b&gt;, reducing reliance on external inference providers. The team plans to further integrate &lt;a href=\&quot;https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/\&quot;&gt;&lt;b&gt;&lt;u&gt;Workers for Platforms&lt;/u&gt;&lt;/b&gt;&lt;/a&gt; in an effort to better isolate customer data and workflows, giving end users greater control over their compliance automation. As Cloudflare continues to evolve its AI capabilities, Skyward aims to push the boundaries of distributed AI compliance solutions, making regulatory adherence more automated, scalable, and secure.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;building-on-cloudflare\&quot;&gt;Building on Cloudflare&lt;/h2&gt;\n            &lt;a href=\&quot;#building-on-cloudflare\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We’re inspired by how startups like Lamatic AI and Skyward AI are building their AI agent platforms on Cloudflare. This kind of innovation is why we’re proud to see so many startups trust Cloudflare for a scalable, reliable, and efficient foundation. &lt;/p&gt;&lt;p&gt;We’re also thrilled to share that both Lamatic AI and Skyward AI have been invited to join Cloudflare’s upcoming Workers Launchpad Cohort #5. Speaking of Workers Launchpad, it’s been a few months since our last update — let’s take a look at what’s new.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;thank-you-to-workers-launchpad-cohort-4-and-a-warm-welcome-to-cohort-5\&quot;&gt;Thank you to Workers Launchpad Cohort #4, and a warm welcome to Cohort #5&lt;/h2&gt;\n            &lt;a href=\&quot;#thank-you-to-workers-launchpad-cohort-4-and-a-warm-welcome-to-cohort-5\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          \n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/52soEAD02j2yywLaDkz7Jv/76bad474948e946fccf845bcda5ed801/3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1200\&quot; height=\&quot;675\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;The Workers Launchpad team is blown away by what customers are demonstrating on the Developer Platform. Members of Cohort #4 presented at our bi-annual &lt;a href=\&quot;https://cloudflare.tv/shows/workers-launchpad-demo-day/workers-launchpad-demo-day-cohort-4/QgLLnBg1\&quot;&gt;&lt;u&gt;Demo Day&lt;/u&gt;&lt;/a&gt;. We had customers demonstrate what they’re building across a multitude of industries, including (of course) AI / ML, developer tools, 3D design, cloud infrastructure, adtech, media, and beyond. It’s incredibly encouraging to see what all these amazing companies are building on the Cloudflare network, and we look forward to continuing to partner with them throughout their startup journey.&lt;/p&gt;&lt;p&gt;Following the Demo Day for Workers Launchpad Cohort #4, we’ve seen the largest influx of applications from startups across the globe eager to join Cohort #5. This next wave of founders is pushing the boundaries of what’s possible, building in areas like AI agents, developer tooling, &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-model-context-protocol-mcp/\&quot;&gt;MCP&lt;/a&gt;, media, and beyond. With each new cohort, we’re continually inspired by the caliber of founding teams, the bold ideas they bring to life, and the real-world problems they’re tackling with technology.&lt;/p&gt;&lt;p&gt;Help us give some love and a warm welcome to the participants of Cohort #5:&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1RIIq1qTdmBeqeJS7ZoOKh/d65f0cf2c1bb66bdc2f5658b41ad8112/4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1600\&quot; height=\&quot;666\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;We can’t wait to share more about what Cohort #5 achieves. Be sure to follow &lt;a href=\&quot;https://x.com/CloudflareDev\&quot;&gt;&lt;u&gt;@CloudflareDev&lt;/u&gt;&lt;/a&gt; on X and join our &lt;a href=\&quot;https://discord.com/invite/cloudflaredev?cf_target_id=4874A68FFE682C2DFA5CB8063B4025ED\&quot;&gt;&lt;u&gt;Developer Discord&lt;/u&gt;&lt;/a&gt; server to hear updates on the cohorts.&lt;/p&gt;&lt;p&gt;If you’re developing your application on our Developer Platform, we’d love to learn how Cloudflare is powering your journey. Please &lt;a href=\&quot;https://docs.google.com/forms/d/e/1FAIpQLSeIZmgY5ste4LZi-hNaJzbXHBbeD2DHWe8R2xxp0wKO0byRYA/viewform\&quot;&gt;&lt;u&gt;share more&lt;/u&gt;&lt;/a&gt; about what you’re building, and our team will be sure to review your submission. And if you’re a startup and interested in joining Workers Launchpad, feel free to &lt;a href=\&quot;https://www.cloudflare.com/lp/workers-launchpad/\&quot;&gt;&lt;u&gt;apply for Cohort 6&lt;/u&gt;&lt;/a&gt; — applications are now open!&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Company&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;About&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;https://www.acemate.ai\&quot;&gt;&lt;b&gt;Acemate&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;AI learning platform for university students and educators&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.centillion.ai\&quot;&gt;&lt;b&gt;Centillion AI&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Building an MCP for identity verification &amp;amp; fraud prevention&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.ductize.com\&quot;&gt;&lt;b&gt;Ductize&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Productize your service and launch your website with integrated payments within 30 minutes&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.firmly.ai\&quot;&gt;&lt;b&gt;Firmly&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Agentic commerce platform that enables consumers to shop at the moment of inspiration&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.heartspace.ai\&quot;&gt;&lt;b&gt;Heartspace&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Deliver quality PR on demand: pay for placements, not retainers&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.lamatic.ai\&quot;&gt;&lt;b&gt;Lamatic&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Managed AI middleware and IDE to embed AI features quickly and reliably&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://lu.ma\&quot;&gt;&lt;b&gt;Lu.ma&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Application that makes it easy to host great events&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.manticore.ai\&quot;&gt;&lt;b&gt;Manticore&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;AI-driven penetration testing: identify, remediate, and retest on-demand&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://mc2.fi\&quot;&gt;&lt;b&gt;MC&lt;/b&gt;&lt;/a&gt;&lt;a href=\&quot;https://mc2finance.com/about-mc-\&quot;&gt;²&lt;/a&gt;&lt;a href=\&quot;http://mc2.fi\&quot;&gt;&lt;b&gt; Finance&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Crowdsource DeFi strategies and list them as ETFs&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://muppet.dev\&quot;&gt;&lt;b&gt;Muppet&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Platform for building and managing MCPs at scale&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.navatech.ai\&quot;&gt;&lt;b&gt;Navatech&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Remove barriers to language, access, and modality for frontline workers&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;https://era.new/\&quot;&gt;&lt;b&gt;New Era&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Craft beautiful emails using natural language&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.newharbor.co\&quot;&gt;&lt;b&gt;New Harbor&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Simple, friendly, all-in-one cybersecurity for organizations&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;https://nexartis.com/\&quot;&gt;&lt;b&gt;Nexartis&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Enable new paths for rights management, protect intellectual property, and properly monetize individual contributions&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.notika.ai\&quot;&gt;&lt;b&gt;Notika AI&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Add transactional notifications into your app in minutes with no engineers required&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.periculum.io\&quot;&gt;&lt;b&gt;Periculum&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;AI provider offering data analytics software solutions to organizations in underserved markets&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://pressbox.studio/\&quot;&gt;&lt;b&gt;Pressbox&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;AI-powered multi-modal content personalization for sports and media organizations&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.prompteus.com\&quot;&gt;&lt;b&gt;Prompteus&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Guardrails, logging, and cost reduction for AI integrations&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;https://remixlabs.com/\&quot;&gt;&lt;b&gt;Remix Labs&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Enable next-gen digital engagement with agentic app experiences&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.skyward.ai\&quot;&gt;&lt;b&gt;Skyward&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;The AI-native workspace for compliance teams&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.usesonora.com\&quot;&gt;&lt;b&gt;Sonora&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;AI-native customer intelligence platform that synthesizes customer feedback and delivers actionable insights across all communication channels&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;https://ssojet.com/\&quot;&gt;&lt;b&gt;SSOJet&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Intelligent enterprise SSO that just works&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://syrenn.co\&quot;&gt;&lt;b&gt;Syrenn&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;AI outbound sales-coaching platform&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://testdriver.ai\&quot;&gt;&lt;b&gt;Testdriver&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Increase test coverage with Computer-Use agents&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.toddle.dev\&quot;&gt;&lt;b&gt;Toddle&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Web development engine that lets product teams build beautiful interactive web applications&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.toolhouse.ai\&quot;&gt;&lt;b&gt;Toolhouse&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Platform that enables any developer to build AI agents and workflows with a great developer experience&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://www.unravo.org\&quot;&gt;&lt;b&gt;Unravo&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Agentic AI-powered, end-to-end business research platform&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://wittify.ai\&quot;&gt;&lt;b&gt;Wittify.ai&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Advanced Arabic conversational AI for customer engagement activities&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;a href=\&quot;http://actualize.zerosumdefense.io\&quot;&gt;&lt;b&gt;Zero Sum Defense&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Digital freedom through tailored security and privacy&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/40boL9159chHNCBcqOccse/96aae4b197042500da8a78b172db0cf0/5.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1800\&quot; height=\&quot;465\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-11T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T20:34:03.394Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5JG0Ivl7nNauncjGGypQjn/d786f5d9adb8ec7ebc2e8e3de55312fb/Feature_Image.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;5Ol0Sw9kBTwIstJ84njaO7&quot;],&quot;name&quot;:[0,&quot;Workers Launchpad&quot;],&quot;slug&quot;:[0,&quot;workers-launchpad&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;5cye1Bh5KxFh3pKSnX8Dsy&quot;],&quot;name&quot;:[0,&quot;Serverless&quot;],&quot;slug&quot;:[0,&quot;serverless&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Christopher Rotas&quot;],&quot;slug&quot;:[0,&quot;christopher-rotas&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/eO2N5vG0MxTmzo94wGNAf/c201a8c4ebb28f873e0c4c1524e52b62/christopher-rotas.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Explore how developers are using Cloudflare to scale AI workloads and streamline automation. Learn more about what our participants in Workers Launchpad Cohort #4 have built, and check out the latest startups participating in Cohort #5.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;LOC Blog (Innovation Weeks): DE, FR, JA, KO, CN, TW, ES&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;Translated for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;Translated for Locale&quot;],&quot;frFR&quot;:[0,&quot;Translated for Locale&quot;],&quot;deDE&quot;:[0,&quot;Translated for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;Translated for Locale&quot;],&quot;koKR&quot;:[0,&quot;Translated for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;Translated for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/ai-agents-and-innovation-with-launchpad-cohort5&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Startup spotlight: building AI agents and accelerating innovation with Cohort #5&quot;],&quot;description&quot;:[0,&quot;Explore how developers are using Cloudflare to scale AI workloads and streamline automation. Learn more about what our participants in Workers Launchpad Cohort #4 have built, and check out the latest startups participating in Cohort #5.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3Byhm2unMi0CO1HSvLOHvd/c2292e36aa1b374f02137d4b4ed095eb/OG_Share_2024__45_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],&quot;translations&quot;:[0,{&quot;posts.by&quot;:[0,&quot;By&quot;],&quot;footer.gdpr&quot;:[0,&quot;GDPR&quot;],&quot;lang_blurb1&quot;:[0,&quot;This post is also available in {lang1}.&quot;],&quot;lang_blurb2&quot;:[0,&quot;This post is also available in {lang1} and {lang2}.&quot;],&quot;lang_blurb3&quot;:[0,&quot;This post is also available in {lang1}, {lang2} and {lang3}.&quot;],&quot;footer.press&quot;:[0,&quot;Press&quot;],&quot;header.title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;search.clear&quot;:[0,&quot;Clear&quot;],&quot;search.filter&quot;:[0,&quot;Filter&quot;],&quot;search.source&quot;:[0,&quot;Source&quot;],&quot;footer.careers&quot;:[0,&quot;Careers&quot;],&quot;footer.company&quot;:[0,&quot;Company&quot;],&quot;footer.support&quot;:[0,&quot;Support&quot;],&quot;footer.the_net&quot;:[0,&quot;theNet&quot;],&quot;search.filters&quot;:[0,&quot;Filters&quot;],&quot;footer.our_team&quot;:[0,&quot;Our team&quot;],&quot;footer.webinars&quot;:[0,&quot;Webinars&quot;],&quot;page.more_posts&quot;:[0,&quot;More posts&quot;],&quot;posts.time_read&quot;:[0,&quot;{time} min read&quot;],&quot;search.language&quot;:[0,&quot;Language&quot;],&quot;footer.community&quot;:[0,&quot;Community&quot;],&quot;footer.resources&quot;:[0,&quot;Resources&quot;],&quot;footer.solutions&quot;:[0,&quot;Solutions&quot;],&quot;footer.trademark&quot;:[0,&quot;Trademark&quot;],&quot;header.subscribe&quot;:[0,&quot;Subscribe&quot;],&quot;footer.compliance&quot;:[0,&quot;Compliance&quot;],&quot;footer.free_plans&quot;:[0,&quot;Free plans&quot;],&quot;footer.impact_ESG&quot;:[0,&quot;Impact/ESG&quot;],&quot;posts.follow_on_X&quot;:[0,&quot;Follow on X&quot;],&quot;footer.help_center&quot;:[0,&quot;Help center&quot;],&quot;footer.network_map&quot;:[0,&quot;Network Map&quot;],&quot;header.please_wait&quot;:[0,&quot;Please Wait&quot;],&quot;page.related_posts&quot;:[0,&quot;Related posts&quot;],&quot;search.result_stat&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt; for &lt;strong&gt;{search_keyword}&lt;/strong&gt;&quot;],&quot;footer.case_studies&quot;:[0,&quot;Case Studies&quot;],&quot;footer.connect_2024&quot;:[0,&quot;Connect 2024&quot;],&quot;footer.terms_of_use&quot;:[0,&quot;Terms of Use&quot;],&quot;footer.white_papers&quot;:[0,&quot;White Papers&quot;],&quot;footer.cloudflare_tv&quot;:[0,&quot;Cloudflare TV&quot;],&quot;footer.community_hub&quot;:[0,&quot;Community Hub&quot;],&quot;footer.compare_plans&quot;:[0,&quot;Compare plans&quot;],&quot;footer.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.email_address&quot;:[0,&quot;Email Address&quot;],&quot;page.error.not_found&quot;:[0,&quot;Page not found&quot;],&quot;footer.developer_docs&quot;:[0,&quot;Developer docs&quot;],&quot;footer.privacy_policy&quot;:[0,&quot;Privacy Policy&quot;],&quot;footer.request_a_demo&quot;:[0,&quot;Request a demo&quot;],&quot;page.continue_reading&quot;:[0,&quot;Continue reading&quot;],&quot;footer.analysts_report&quot;:[0,&quot;Analyst reports&quot;],&quot;footer.for_enterprises&quot;:[0,&quot;For enterprises&quot;],&quot;footer.getting_started&quot;:[0,&quot;Getting Started&quot;],&quot;footer.learning_center&quot;:[0,&quot;Learning Center&quot;],&quot;footer.project_galileo&quot;:[0,&quot;Project Galileo&quot;],&quot;pagination.newer_posts&quot;:[0,&quot;Newer Posts&quot;],&quot;pagination.older_posts&quot;:[0,&quot;Older Posts&quot;],&quot;posts.social_buttons.x&quot;:[0,&quot;Discuss on X&quot;],&quot;search.icon_aria_label&quot;:[0,&quot;Search&quot;],&quot;search.source_location&quot;:[0,&quot;Source/Location&quot;],&quot;footer.about_cloudflare&quot;:[0,&quot;About Cloudflare&quot;],&quot;footer.athenian_project&quot;:[0,&quot;Athenian Project&quot;],&quot;footer.become_a_partner&quot;:[0,&quot;Become a partner&quot;],&quot;footer.cloudflare_radar&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;footer.network_services&quot;:[0,&quot;Network services&quot;],&quot;footer.trust_and_safety&quot;:[0,&quot;Trust &amp; Safety&quot;],&quot;header.get_started_free&quot;:[0,&quot;Get Started Free&quot;],&quot;page.search.placeholder&quot;:[0,&quot;Search Cloudflare&quot;],&quot;footer.cloudflare_status&quot;:[0,&quot;Cloudflare Status&quot;],&quot;footer.cookie_preference&quot;:[0,&quot;Cookie Preferences&quot;],&quot;header.valid_email_error&quot;:[0,&quot;Must be valid email.&quot;],&quot;search.result_stat_empty&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt;&quot;],&quot;footer.connectivity_cloud&quot;:[0,&quot;Connectivity cloud&quot;],&quot;footer.developer_services&quot;:[0,&quot;Developer services&quot;],&quot;footer.investor_relations&quot;:[0,&quot;Investor relations&quot;],&quot;page.not_found.error_code&quot;:[0,&quot;Error Code: 404&quot;],&quot;search.autocomplete_title&quot;:[0,&quot;Insert a query. Press enter to send&quot;],&quot;footer.logos_and_press_kit&quot;:[0,&quot;Logos &amp; press kit&quot;],&quot;footer.application_services&quot;:[0,&quot;Application services&quot;],&quot;footer.get_a_recommendation&quot;:[0,&quot;Get a recommendation&quot;],&quot;posts.social_buttons.reddit&quot;:[0,&quot;Discuss on Reddit&quot;],&quot;footer.sse_and_sase_services&quot;:[0,&quot;SSE and SASE services&quot;],&quot;page.not_found.outdated_link&quot;:[0,&quot;You may have used an outdated link, or you may have typed the address incorrectly.&quot;],&quot;footer.report_security_issues&quot;:[0,&quot;Report Security Issues&quot;],&quot;page.error.error_message_page&quot;:[0,&quot;Sorry, we can&#39;t find the page you are looking for.&quot;],&quot;header.subscribe_notifications&quot;:[0,&quot;Subscribe to receive notifications of new posts:&quot;],&quot;footer.cloudflare_for_campaigns&quot;:[0,&quot;Cloudflare for Campaigns&quot;],&quot;header.subscription_confimation&quot;:[0,&quot;Subscription confirmed. Thank you for subscribing!&quot;],&quot;posts.social_buttons.hackernews&quot;:[0,&quot;Discuss on Hacker News&quot;],&quot;footer.diversity_equity_inclusion&quot;:[0,&quot;Diversity, equity &amp; inclusion&quot;],&quot;footer.critical_infrastructure_defense_project&quot;:[0,&quot;Critical Infrastructure Defense Project&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;PostCard&quot;,&quot;value&quot;:true}" await-children><article class="w-50-l  mt4 mt2-l mb4 ph3 bb b--gray8 bn-l"><div class="w-100"><a href="/ai-agents-and-innovation-with-launchpad-cohort5/" class="fw5 no-underline gray1" data-testid="post-title"><h2 class="fw5 mt2">Startup spotlight: building AI agents and accelerating innovation with Cohort #5</h2></a><p class="f3 fw5 gray5 my" data-testid="post-date">2025-04-11</p><div class=""><a href="/tag/developer-week/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developer Week</a><a href="/tag/workers-launchpad/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Workers Launchpad</a><a href="/tag/developers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developers</a><a href="/tag/developer-platform/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Developer Platform</a><a href="/tag/serverless/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Serverless</a><a href="/tag/workers/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1" data-testid="post-tag">Cloudflare Workers</a></div><p class="f3 fw4 gray1 lh-copy " data-testid="post-content">Discover how developers are using Cloudflare to scale AI workloads and streamline automation and how participants in Workers Launchpad Cohort #4 have built, and startups participating in Cohort #5<!-- -->...</p><ul class="author-lists flex pl0"><li class="list flex items-center pr2 mb3"><a href="/author/christopher-rotas/" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64,gravity=face,fit=crop,zoom=0.5/https://cf-assets.www.cloudflare.com/zkvhlag99gkb/eO2N5vG0MxTmzo94wGNAf/c201a8c4ebb28f873e0c4c1524e52b62/christopher-rotas.jpg" alt="Christopher Rotas" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/christopher-rotas/" class="fw4 f3 no-underline black">Christopher Rotas</a></div></li></ul></div></article><!--astro:end--></astro-island> <astro-island uid="Z1AIaWu" prefix="r5" component-url="/_astro/MorePosts.DyRVOquy.js" component-export="default" renderer-url="/_astro/client.DLO1yDVm.js" props="{&quot;locale&quot;:[0,&quot;en-us&quot;],&quot;posts&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;5ojXWmlREPcudSVM0TNmZk&quot;],&quot;title&quot;:[0,&quot;Startup Program update: empowering every stage of the startup journey&quot;],&quot;slug&quot;:[0,&quot;expanding-cloudflares-startup-program&quot;],&quot;excerpt&quot;:[0,&quot;Cloudflare’s Startup Program offers up to $250,000 in credits for companies building on our Developer Platform across 4 tiers: $5,000, $25,000, $100,000, and $250,000.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;During Cloudflare’s Birthday Week in September 2024, we &lt;a href=\&quot;https://blog.cloudflare.com/startup-program-250k-credits/\&quot;&gt;&lt;u&gt;introduced&lt;/u&gt;&lt;/a&gt; a revamped Startup Program designed to make it easier for startups to adopt Cloudflare through a new credits system. This update focused on better aligning the program with how startups and developers actually consume Cloudflare, by providing them with clearer insight into their projected usage, especially as they approach graduation from the program.&lt;/p&gt;&lt;p&gt;Today, we’re excited to announce an expansion to that program: new credit tiers that better match startups at every stage of their journey. But before we dive into what’s new, let’s take a quick look at what the Startup Program is and why it exists.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;a-refresher-what-is-the-startup-program\&quot;&gt;A refresher: what is the Startup Program?&lt;/h2&gt;\n            &lt;a href=\&quot;#a-refresher-what-is-the-startup-program\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Cloudflare for Startups provides credits to help early-stage companies build the next big idea on our platform. Startups accepted into the program receive credits valid for one year or until they’re fully used, whichever comes first.&lt;/p&gt;&lt;p&gt;Beyond credits, the program includes access to up to three domains with enterprise-level services, giving startups the same advanced tools we provide to large companies to protect and accelerate their most critical applications.&lt;/p&gt;&lt;p&gt;We know that building a startup is expensive, and Cloudflare is uniquely positioned to support the full-stack needs of modern applications. Our goal is simple: ensure that you have access to the best of Cloudflare’s global network, without the barriers of cost or availability.&lt;/p&gt;&lt;p&gt;Since launching the revamped credits system in September, we’ve learned a lot from the startups in our program, including what they’re building, what they need, and where they need more flexibility. One of the most common requests was more credit tier options.&lt;/p&gt;&lt;p&gt;That’s why we’re introducing new tiers that provide even more options to startups as they scale.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;introducing-additional-credit-tiers\&quot;&gt;Introducing additional credit tiers&lt;/h2&gt;\n            &lt;a href=\&quot;#introducing-additional-credit-tiers\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;The Cloudflare for Startups Program now offers four credit tiers: &lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Credit Amount&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;$5,000&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;$25,000&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;$100,000&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;$250,000&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Stage&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Bootstrapped, stealth startups&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Up-and-coming startups&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Seed-funded startups&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Tier 1 startups&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;For startups who are just getting started. This tier is great for building, testing, and iterating your product.&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;For startups with early adopters and proving product market fit.&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;For startups that have raised capital, and are experiencing high growth.&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;For scaling startups that belong to our Tier 1 VC and accelerator network, are building a mission-critical AI application, or are participating in our &lt;a href=\&quot;https://www.cloudflare.com/lp/workers-launchpad/\&quot;&gt;&lt;u&gt;Workers Launchpad&lt;/u&gt;&lt;/a&gt; Program.&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Criteria&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Building a software-based product or service&lt;/p&gt;&lt;p&gt;Founded in the last 5 years&lt;/p&gt;&lt;p&gt;Valid and matching email address&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;$5,000 criteria plus:&lt;/b&gt;&lt;/p&gt;&lt;p&gt;\n&lt;/p&gt;&lt;p&gt;Active LinkedIn&lt;/p&gt;&lt;p&gt;Funded up to $1M&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;$25,000 criteria plus:&lt;/b&gt;&lt;/p&gt;&lt;p&gt;\n&lt;/p&gt;&lt;p&gt;Funded between $1M and $5M&lt;/p&gt;&lt;p&gt;Belong to any of our 250+ approved VC or Accelerator partners&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;$100,000 criteria plus:&lt;/b&gt;&lt;/p&gt;&lt;p&gt;\n&lt;/p&gt;&lt;p&gt;High growth / AI companies, &lt;b&gt;OR&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Tier 1 VC &amp;amp; Accelerators&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;These tiers are designed to offer simplicity and clarity by aligning with where you are in your growth journey. (You can check out eligibility criteria and apply to the Startup Program &lt;a href=\&quot;https://www.cloudflare.com/forstartups/?utm_medium=referral&amp;utm_source=partner&amp;utm_campaign=2024-q4-dev-gbl-developers-ge-ge-general-pay_devweek25\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;). These tiers are still subject to the same Cloudflare for Startups Terms of Service. Credits are valid for up to one year or when all credits are consumed (whichever comes first).&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;why-are-we-adding-additional-credit-tiers\&quot;&gt;Why are we adding additional credit tiers?&lt;/h2&gt;\n            &lt;a href=\&quot;#why-are-we-adding-additional-credit-tiers\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We understand that each startup may have different needs depending on where they’re at in their journey. Some are just getting off the ground, others are scaling rapidly, and each has unique infrastructure needs. With this expansion, we’re reaffirming Cloudflare’s commitment to startups of all sizes, making it easier for you to access the right level of support and resources, exactly when you need them.&lt;/p&gt;&lt;p&gt;Whether you&amp;#39;re launching your MVP or preparing for your next funding round, Cloudflare is here to help you grow.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;what-can-i-use-the-credit-tiers-for\&quot;&gt;What can I use the credit tiers for?&lt;/h2&gt;\n            &lt;a href=\&quot;#what-can-i-use-the-credit-tiers-for\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;The vast majority of Cloudflare products (including all products found on the pay-as-you-go plans) can be used on the Startup Program. Beyond going to the &lt;a href=\&quot;http://www.cloudflare.com/forstartups\&quot;&gt;&lt;u&gt;website&lt;/u&gt;&lt;/a&gt; to see what products are included, below are a few examples of what you can use your credits for:  &lt;/p&gt;&lt;p&gt;&lt;b&gt;Build AI applications&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Store your training data in &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/r2/\&quot;&gt;&lt;u&gt;R2&lt;/u&gt;&lt;/a&gt;, build AI-powered agents (via &lt;a href=\&quot;https://developers.cloudflare.com/agents/api-reference/\&quot;&gt;&lt;u&gt;Agents SDK&lt;/u&gt;&lt;/a&gt;) that autonomously perform tasks with &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/durable-objects/\&quot;&gt;&lt;u&gt;Durable Objects&lt;/u&gt;&lt;/a&gt; and &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/workers/\&quot;&gt;&lt;u&gt;Workers&lt;/u&gt;&lt;/a&gt;, or use one of over &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/\&quot;&gt;&lt;u&gt;50 models&lt;/u&gt;&lt;/a&gt; to run inference tasks on Cloudflare’s global network.  &lt;/p&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/agents-starter\&quot;&gt;\n&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;\n&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Create immersive realtime experiences&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Deliver live audio and video via our &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/cloudflare-calls/\&quot;&gt;&lt;u&gt;Realtime Kit&lt;/u&gt;&lt;/a&gt;, enhance the experience with an AI-powered chatbot running on &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/workers-ai/\&quot;&gt;&lt;u&gt;Workers AI&lt;/u&gt;&lt;/a&gt; to transcribe the call, broadcast to large audiences with &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/cloudflare-stream/\&quot;&gt;&lt;u&gt;Stream&lt;/u&gt;&lt;/a&gt;.  &lt;/p&gt;&lt;p&gt;&lt;b&gt;Build durable multi-step applications&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Design and run long-lived, multi-step processes like onboarding flows, document processing, or order fulfillment. Use &lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Workflows&lt;/u&gt;&lt;/a&gt; to coordinate logic across Workers, Durable Objects, &lt;a href=\&quot;https://developers.cloudflare.com/queues/\&quot;&gt;&lt;u&gt;Queues&lt;/u&gt;&lt;/a&gt;, and AI tasks. Easily handle retries, timeouts, and state management without complex orchestration infrastructure.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;what-are-startups-saying-about-cloudflare\&quot;&gt;What are startups saying about Cloudflare?&lt;/h2&gt;\n            &lt;a href=\&quot;#what-are-startups-saying-about-cloudflare\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;webstudios-no-code-platform-is-powered-by-cloudflares-developer-platform\&quot;&gt;Webstudio’s no-code platform is powered by Cloudflare’s Developer Platform&lt;/h3&gt;\n            &lt;a href=\&quot;#webstudios-no-code-platform-is-powered-by-cloudflares-developer-platform\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;blockquote&gt;&lt;p&gt;&amp;quot;From a modern design tool, you&amp;#39;d expect real-time collaborative features and would like to have resources as close to users as possible. Since betting on the Developer Platform architecture, Cloudflare has done more for us than any other vendor out there!&amp;quot; - Oleg Isonen (Founder &amp;amp; CEO)&lt;/p&gt;&lt;/blockquote&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;grackerais-cybersecurity-research-engine-runs-on-cloudflares-ai-and-serverless-architecture\&quot;&gt;GrackerAI’s cybersecurity research engine runs on Cloudflare’s AI and serverless architecture&lt;/h3&gt;\n            &lt;a href=\&quot;#grackerais-cybersecurity-research-engine-runs-on-cloudflares-ai-and-serverless-architecture\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;blockquote&gt;&lt;p&gt;“Cloudflare’s fusion of edge computing and AI empowers developers to deploy and utilize AI models with unprecedented efficiency and scale, marking a significant leap forward in how we build and interact with intelligent systems.” - Deepak Gupta (Co-founder &amp;amp; CEO)&lt;/p&gt;&lt;/blockquote&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;render-better-powers-faster-ecommerce-experiences-with-cloudflare-workers\&quot;&gt;Render Better powers faster ecommerce experiences with Cloudflare Workers&lt;/h3&gt;\n            &lt;a href=\&quot;#render-better-powers-faster-ecommerce-experiences-with-cloudflare-workers\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;blockquote&gt;&lt;p&gt;&amp;quot;Each month Render Better optimizes billions of monthly requests for ecommerce visitors, delivering faster loading sites that make top brands millions more in revenue. We&amp;#39;re able to scale up with Cloudflare&amp;#39;s serverless workers, handling every request at the network edge within milliseconds, thanks to the rock solid, DX-friendly scope of the Developer Platform.&amp;quot; -  James Koshigoe (Co-founder &amp;amp; CEO)&lt;/p&gt;&lt;/blockquote&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;what-will-you-build-on-cloudflare\&quot;&gt;What will you build on Cloudflare? &lt;/h2&gt;\n            &lt;a href=\&quot;#what-will-you-build-on-cloudflare\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We can’t wait to see what you will build on Cloudflare. &lt;a href=\&quot;https://www.cloudflare.com/forstartups/\&quot;&gt;&lt;u&gt;Apply here&lt;/u&gt;&lt;/a&gt; to take advantage of the Cloudflare for Startups Program.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4kpJ5k3dobY8IscTGoxi7u/2bf888052df84772ece9d9858591329d/image1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1200\&quot; height=\&quot;552\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-11T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-11T13:00:03.199Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2K44lYKJpgPkuW2pByaGcL/2d62ecffc57852f01a496eb9de065d3d/image3.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;5tk59ZFOQlw6hnNzbDnhZJ&quot;],&quot;name&quot;:[0,&quot;Cloudflare for Startups&quot;],&quot;slug&quot;:[0,&quot;cloudflare-for-startups&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;5cye1Bh5KxFh3pKSnX8Dsy&quot;],&quot;name&quot;:[0,&quot;Serverless&quot;],&quot;slug&quot;:[0,&quot;serverless&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;6Foe3R8of95cWVnQwe5Toi&quot;],&quot;name&quot;:[0,&quot;AI&quot;],&quot;slug&quot;:[0,&quot;ai&quot;]}],[0,{&quot;id&quot;:[0,&quot;7lzBVH6QpGNSx2CQGsCCdw&quot;],&quot;name&quot;:[0,&quot;Startup Enterprise Plan&quot;],&quot;slug&quot;:[0,&quot;startup-enterprise-plan&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Christopher Rotas&quot;],&quot;slug&quot;:[0,&quot;christopher-rotas&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/eO2N5vG0MxTmzo94wGNAf/c201a8c4ebb28f873e0c4c1524e52b62/christopher-rotas.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Melissa Kargiannakis&quot;],&quot;slug&quot;:[0,&quot;melissa-kargiannakis&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3SBfCoKJH5IovCRltyryoh/597646a09632eb0507c3d47b7f40ce61/_tmp_mini_magick20230216-39-1fov7v0.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Cloudflare’s Startup Program offers up to $250,000 in credits for companies building on our Developer Platform across 4 tiers: $5,000, $25,000, $100,000, and $250,000.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/expanding-cloudflares-startup-program&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Startup Program update: empowering every stage of the startup journey&quot;],&quot;description&quot;:[0,&quot;Cloudflare’s Startup Program offers up to $250,000 in credits for companies building on our Developer Platform across 4 tiers: $5,000, $25,000, $100,000, and $250,000.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2sw0BQlg6pIb9sV4kzKuGu/7543c7adb28c67d3392e9e32d76d3784/OG_Share_2024__44_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;32j7ZR5lpPUtSjC9lwtY0t&quot;],&quot;title&quot;:[0,&quot;How we simplified NCMEC reporting with Cloudflare Workflows&quot;],&quot;slug&quot;:[0,&quot;simplifying-ncmec-reporting-with-cloudflare-workflows&quot;],&quot;excerpt&quot;:[0,&quot;We transitioned to Cloudflare Workflows to manage complex, multi-step processes more efficiently. This shift replaced our National Center for Missing &amp; Exploited Children (NCMEC) reporting system.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;Cloudflare plays a significant role in supporting the Internet’s infrastructure. &lt;a href=\&quot;https://w3techs.com/technologies/history_overview/proxy/all/q\&quot;&gt;&lt;u&gt;As a reverse proxy by approximately 20% of all websites&lt;/u&gt;&lt;/a&gt;, we sit directly in the request path between users and the origin, helping to improve performance, security, and reliability at scale. Beyond that, our global network powers services like &lt;a href=\&quot;https://www.cloudflare.com/en-gb/application-services/products/cdn/\&quot;&gt;&lt;u&gt;delivery&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://workers.cloudflare.com/\&quot;&gt;&lt;u&gt;Workers&lt;/u&gt;&lt;/a&gt;, and &lt;a href=\&quot;https://www.cloudflare.com/en-gb/developer-platform/products/r2/\&quot;&gt;&lt;u&gt;R2&lt;/u&gt;&lt;/a&gt; — making Cloudflare not just a passive intermediary, but an active platform for delivering and hosting content across the Internet.&lt;/p&gt;&lt;p&gt;Since Cloudflare’s launch in 2010, we have collaborated with the National Center for Missing and Exploited Children (&lt;a href=\&quot;https://www.missingkids.org/home\&quot;&gt;&lt;u&gt;NCMEC&lt;/u&gt;&lt;/a&gt;), a US-based clearinghouse for reporting child sexual abuse material (CSAM), and are committed to doing what we can to support identification and removal of CSAM content.&lt;/p&gt;&lt;p&gt;Members of the public, &lt;a href=\&quot;https://blog.cloudflare.com/cloudflares-response-to-csam-online/\&quot;&gt;&lt;u&gt;customers, and trusted organizations can submit reports&lt;/u&gt;&lt;/a&gt; of abuse observed on Cloudflare’s network. A minority of these reports relate to CSAM, which are triaged with the highest priority by Cloudflare’s Trust &amp;amp; Safety team. We will also forward details of the report, along with relevant files (where applicable) and supplemental information to NCMEC.&lt;/p&gt;&lt;p&gt;The process to generate and submit reports to NCMEC involves multiple steps, dependencies, and error handling, which quickly became complex under our original queue-based architecture. In this blog post, we discuss how Cloudflare &lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Workflows&lt;/u&gt;&lt;/a&gt; helped streamline this process and simplify the code behind it.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;life-before-cloudflare-workflows\&quot;&gt;Life before Cloudflare Workflows&lt;/h2&gt;\n            &lt;a href=\&quot;#life-before-cloudflare-workflows\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;When we designed our latest NCMEC reporting system in early 2024, &lt;a href=\&quot;https://blog.cloudflare.com/building-workflows-durable-execution-on-workers/\&quot;&gt;&lt;u&gt;Cloudflare Workflows&lt;/u&gt;&lt;/a&gt; did not exist yet. We used the Workers platform &lt;a href=\&quot;https://developers.cloudflare.com/queues/\&quot;&gt;&lt;b&gt;&lt;u&gt;Queues&lt;/u&gt;&lt;/b&gt;&lt;/a&gt; as a solution for managing asynchronous tasks, and structured our system around them.&lt;/p&gt;&lt;p&gt;Our goal was to ensure reliability, fault tolerance, and automatic retries. However, without an orchestrator, we had to manually handle state, retries, and inter-queue messaging. While Queues worked, we needed something more explicit to help debug and observe the more complex asynchronous workflows we were building on top of the messaging system that Queues gave us.&lt;/p&gt;&lt;p&gt;In our queue-based architecture each report would go through multiple steps:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Validate input&lt;/b&gt;: Ensure the report has all necessary details.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Initiate report&lt;/b&gt;: Call the NCMEC API to create a report.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Fetch impounded files (if applicable)&lt;/b&gt;: Retrieve files stored in R2.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Upload files&lt;/b&gt;: Send files to NCMEC via API.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Finalize report&lt;/b&gt;: Mark the report as completed.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7n99a6YkThlegGitE2i7iv/a53e70ac11e21025d436c27dce7aaf3a/image2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1000\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;A diagram of our queue-based architecture &lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;Each of these steps was handled by a separate queue, and if an error occurred, the system would retry the message several times before marking the report as failed. But errors weren’t always straightforward — for instance, if an external API call consistently failed due to bad input or returned an unexpected response shape, retries wouldn’t help. In those cases, the report could get stuck in an intermediate state, and we’d often have to manually dig through logs across different queues to figure out what went wrong.&lt;/p&gt;&lt;p&gt;Even more frustrating, when handling failed reports, we relied on a &amp;quot;Reaper&amp;quot; — a cron job that ran every hour to resubmit failed reports. Since a report could fail at any step, the Reaper had to deduce which queue failed and send a message to begin reprocessing. This meant:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Debugging was a nightmare&lt;/b&gt;: Tracing the journey of a single report meant jumping between logs for multiple queues.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Retries were unreliable&lt;/b&gt;: Some queues had retry logic, while others relied on the Reaper, leading to inconsistencies.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;State management was painful&lt;/b&gt;: We had no clear way to track whether a report was halfway through the pipeline or completely lost, except by looking through the logs.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Operational overhead was high&lt;/b&gt;: Developers frequently had to manually inspect failed reports and resubmit them.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Queues gave us a solid foundation for moving messages around, but it wasn’t meant to handle orchestration. What we’d really done was build a bunch of loosely connected steps on top of a message bus and hoped it would all hold together. It worked, for the most part, but it was clunky, hard to reason about, and easy to break. Just understanding how a single report moved through the system meant tracing messages across multiple queues and digging through logs.&lt;/p&gt;&lt;p&gt;We knew we needed something better: a way to define workflows explicitly, with clear visibility into where things were and what had failed. But back then, we didn’t have a good way to do that without bringing in heavyweight tools or writing a bunch of glue code ourselves. When Cloudflare Workflows came along, it felt like the missing piece, finally giving us a simple, reliable way to orchestrate everything without duct tape.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;the-solution-cloudflare-workflows\&quot;&gt;The solution: Cloudflare Workflows&lt;/h2&gt;\n            &lt;a href=\&quot;#the-solution-cloudflare-workflows\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Once &lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Cloudflare Workflows&lt;/u&gt;&lt;/a&gt; was &lt;a href=\&quot;https://blog.cloudflare.com/building-workflows-durable-execution-on-workers/\&quot;&gt;&lt;u&gt;announced&lt;/u&gt;&lt;/a&gt;, we saw an immediate opportunity to replace our queue-based architecture with a more structured, observable, and retryable system. Instead of relying on a web of multiple queues passing messages to each other, we now have a single workflow that orchestrates the entire process from start to finish. Critically, if any step failed, the Workflow could pick back up from where it left off, without having to repeat earlier processing steps, re-parsing files, or duplicating uploads.&lt;/p&gt;&lt;p&gt;With Cloudflare Workflows, each report follows a clear sequence of steps:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Creating the report&lt;/b&gt;: The system validates the incoming report and initiates it with NCMEC.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Checking for impounded files&lt;/b&gt;: If there are impounded files associated with the report, the workflow proceeds to file collection.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Gathering files&lt;/b&gt;: The system retrieves impounded files stored in R2 and prepares them for upload.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Uploading files to NCMEC&lt;/b&gt;: Each file is uploaded to NCMEC using their API, ensuring all relevant evidence is submitted.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Adding file metadata&lt;/b&gt;: Metadata about the uploaded files (hashes, timestamps, etc.) is attached to the report.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Finalizing the report&lt;/b&gt;: Once all files are processed, the report is finalized and marked as complete.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Here’s a simplified version of the orchestrator:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;import { WorkflowEntrypoint, WorkflowEvent, WorkflowStep } from &amp;#039;cloudflare:workers&amp;#039;;\n\n\nexport class ReportWorkflow extends WorkflowEntrypoint&amp;lt;Env, ReportType&amp;gt; {\n  async run(event: WorkflowEvent&amp;lt;ReportType&amp;gt;, step: WorkflowStep) {\n    const reportToCreate: ReportType = event.payload;\n    let reportId: number | undefined;\n\n\n    try {\n      await step.do(&amp;#039;Create Report&amp;#039;, async () =&amp;gt; {\n        const createdReport = await createReportStep(reportToCreate, this.env);\n        reportId = createdReport?.id;\n      });\n\n\n      if (reportToCreate.hasImpoundedFiles) {\n        await step.do(&amp;#039;Gather Files&amp;#039;, async () =&amp;gt; {\n          if (!reportId) throw new Error(&amp;#039;Report ID is undefined.&amp;#039;);\n          await gatherFilesStep(reportId, this.env);\n        });\n\n\n        await step.do(&amp;#039;Upload Files&amp;#039;, async () =&amp;gt; {\n          if (!reportId) throw new Error(&amp;#039;Report ID is undefined.&amp;#039;);\n          await uploadFilesStep(reportId, this.env);\n        });\n\n\n        await step.do(&amp;#039;Add File Metadata&amp;#039;, async () =&amp;gt; {\n          if (!reportId) throw new Error(&amp;#039;Report ID is undefined.&amp;#039;);\n          await addFilesInfoStep(reportId, this.env);\n        });\n      }\n\n\n      await step.do(&amp;#039;Finalize Report&amp;#039;, async () =&amp;gt; {\n        if (!reportId) throw new Error(&amp;#039;Report ID is undefined.&amp;#039;);\n        await finalizeReportStep(reportId, this.env);\n      });\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Not only can tasks be broken into discrete steps, but the Workflows dashboard gives us real-time visibility into each report processed and the status of each step in the workflow!&lt;/p&gt;&lt;p&gt;This allows us to easily see active and completed workflows, identify which steps failed and where, and retry failed steps or terminate workflows. These features revolutionize how we troubleshoot issues, providing us with a tool to deep dive into any issues that arise and retry steps with a click of a button.&lt;/p&gt;&lt;p&gt;Below are two dashboard screenshots, one of our running workflows and the second of an inspection of the success and failures of each step in the workflow. Some workflows look slower or “stuck” — that’s because failed steps are retried with exponential backoff. This helps smooth over transient issues like flaky APIs without manual intervention.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2DjVg3WMp8e5QGy19TuHMj/69e611c9267598c44e5a2b120f0f59ac/image4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1201\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Cloudflare Workflows Dashboard for our NCMEC Workflow&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5ElqnGMtnJQumNhuWZI3nb/6866cc9aa2b27856a8730a9faebc1747/image3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1508\&quot; height=\&quot;990\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Cloudflare Workflows Dashboard containing a breakout of the NCMEC Workflow Steps&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;Cloudflare Workflows transformed how we handle NCMEC incident reports. What was once a complex, queue-based architecture is now a structured, retryable, and observable process. Debugging is easier, error handling is more robust, and monitoring is seamless. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;deploy-your-own-workflows\&quot;&gt;Deploy your own Workflows&lt;/h3&gt;\n            &lt;a href=\&quot;#deploy-your-own-workflows\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;If you’re also building larger, multi-step applications, or have an existing Workers application that has started to approach what we ended up with for our incident reporting process, then you can typically wrap that code within a Workflow with minimal changes. &lt;a href=\&quot;https://developers.cloudflare.com/workflows/examples/backup-d1/\&quot;&gt;&lt;u&gt;Workflows can read from R2, write to KV, query D1&lt;/u&gt;&lt;/a&gt; and call other APIs just like any other Worker, but are designed to help orchestrate asynchronous, long-running tasks.&lt;/p&gt;&lt;p&gt;To get started with Workflows, you can head to the &lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Workflows developer documentation&lt;/u&gt;&lt;/a&gt; and/or pull down the starter project and dive into the code immediately:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;$ npm create cloudflare@latest workflows-starter -- \n--template=&amp;quot;cloudflare/workflows-starter&amp;quot;\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Learn more about &lt;/i&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers/workflows\&quot;&gt;&lt;i&gt;&lt;u&gt;Cloudflare Workflows&lt;/u&gt;&lt;/i&gt;&lt;/a&gt;&lt;i&gt;, and about using &lt;/i&gt;&lt;a href=\&quot;https://developers.cloudflare.com/cache/reference/csam-scanning/\&quot;&gt;&lt;i&gt;&lt;u&gt;the Cloudflare CSAM Scanning Tool&lt;/u&gt;&lt;/i&gt;&lt;/a&gt;&lt;i&gt;.&lt;/i&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-11T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-11T13:00:03.664Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/25jgOrdNnPobPfSeYtu2dY/659b91eed092abfec7b3ea7ad6d72fc7/image1.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;1KBFlaTf50eub8uvJ1pAt1&quot;],&quot;name&quot;:[0,&quot;Workflows&quot;],&quot;slug&quot;:[0,&quot;workflows&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;7HSE9ZogUmF8G2SfKmVqtA&quot;],&quot;name&quot;:[0,&quot;CSAM Reporting&quot;],&quot;slug&quot;:[0,&quot;csam-reporting&quot;]}],[0,{&quot;id&quot;:[0,&quot;5b88GzjVlN3VhAcIsSpJTp&quot;],&quot;name&quot;:[0,&quot;Automation&quot;],&quot;slug&quot;:[0,&quot;automation&quot;]}],[0,{&quot;id&quot;:[0,&quot;6Mp7ouACN2rT3YjL1xaXJx&quot;],&quot;name&quot;:[0,&quot;Security&quot;],&quot;slug&quot;:[0,&quot;security&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Mahmoud Salem&quot;],&quot;slug&quot;:[0,&quot;mahmoud-salem&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/01JR14QKwy7goE7a4iyMIL/fdc79981150c8743b91e7f1ec6afbceb/Mahmoud_Salem.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Rachael Truong&quot;],&quot;slug&quot;:[0,&quot;rachael-truong&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/qzwTKN43tcA5I7uV1Q9oV/7f2f780757812b9fd8c66113a09d1f46/_tmp_mini_magick20230518-2-vw2zdi.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;We transitioned to Cloudflare Workflows to manage complex, multi-step processes more efficiently. This shift replaced our queues-based architecture in our National Center for Missing &amp; Exploited Children (NCMEC) reporting system with a structured, retryable workflow that’s easier to debug and maintain.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/simplifying-ncmec-reporting-with-cloudflare-workflows&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;How we simplified NCMEC reporting with Cloudflare Workflows&quot;],&quot;description&quot;:[0,&quot;We transitioned to Cloudflare Workflows to manage complex, multi-step processes more efficiently. This shift replaced our queues-based architecture in our National Center for Missing &amp; Exploited Children (NCMEC) reporting system with a structured, retryable workflow that’s easier to debug and maintain.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/b6SrliBdGE3nWRJLsCXE0/f5e65d3737d3f328718e648087dd8ab6/OG_Share_2024__46_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;5iJwjQcUANzpsgir2tgfNE&quot;],&quot;title&quot;:[0,&quot;Workers AI gets a speed boost, batch workload support, more LoRAs, new models, and a refreshed dashboard&quot;],&quot;slug&quot;:[0,&quot;workers-ai-improvements&quot;],&quot;excerpt&quot;:[0,&quot;We just made Workers AI inference faster with speculative decoding &amp; prefix caching. Use our new batch inference for handling large request volumes seamlessly.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;Since the &lt;a href=\&quot;https://blog.cloudflare.com/workers-ai/\&quot;&gt;&lt;u&gt;launch of Workers AI&lt;/u&gt;&lt;/a&gt; in September 2023, our mission has been to make inference accessible to everyone.&lt;/p&gt;&lt;p&gt;Over the last few quarters, our Workers AI team has been heads down on improving the quality of our platform, working on various routing improvements, GPU optimizations, and capacity management improvements. Managing a distributed inference platform is not a simple task, but distributed systems are also what we do best. You’ll notice a recurring theme from all these announcements that has always been part of the core Cloudflare ethos — we try to solve problems through clever engineering so that we are able to do more with less.&lt;/p&gt;&lt;p&gt;Today, we’re excited to introduce speculative decoding to bring you faster inference, an asynchronous batch API for large workloads, and expanded LoRA support for more customized responses. Lastly, we’ll be recapping some of our newly added models, updated pricing, and unveiling a new dashboard to round out the usability of the platform.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;speeding-up-inference-by-2-4x-with-speculative-decoding-and-more\&quot;&gt;Speeding up inference by 2-4x with speculative decoding and more&lt;/h2&gt;\n            &lt;a href=\&quot;#speeding-up-inference-by-2-4x-with-speculative-decoding-and-more\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We’re excited to roll out speed improvements to models in our catalog, starting with the Llama 3.3 70b model. These improvements include speculative decoding, prefix caching, an updated inference backend, and more. We’ve previously done a technical deep dive on speculative decoding and how we’re making Workers AI faster, which &lt;a href=\&quot;https://blog.cloudflare.com/making-workers-ai-faster/\&quot;&gt;&lt;u&gt;you can read about here&lt;/u&gt;&lt;/a&gt;. With these changes, we’ve been able to improve inference times by 2-4x, without any significant change to the quality of answers generated. We’re planning to incorporate these improvements into more models in the future as we release them. Today, we’re starting to roll out these changes so all Workers AI users of &lt;code&gt;@cf/meta/llama-3.3-70b-instruct-fp8-fast&lt;/code&gt; will enjoy this automatic speed boost.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;what-is-speculative-decoding\&quot;&gt;What is speculative decoding?&lt;/h3&gt;\n            &lt;a href=\&quot;#what-is-speculative-decoding\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        \n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1Jc5CeeOpTW1LSZ7xeZumY/99ced72a25bdabea276f98c03bc17e27/image3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;964\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;The way LLMs work is by generating text by predicting the next token in a sentence given the previous tokens. Typically, an LLM is able to predict a single future token (n+1) with one forward pass through the model. These forward passes can be computationally expensive, since they need to work through all the parameters of a model to generate one token (e.g., 70 billion parameters for Llama 3.3 70b).&lt;/p&gt;&lt;p&gt;With speculative decoding, we put a small model (known as the draft model) in front of the original model that helps predict n+x future tokens. The draft model generates a subset of candidate tokens, and the original model just has to evaluate and confirm if they should be incorporated into the generation. Evaluating tokens is less computationally expensive, as the model can evaluate multiple tokens concurrently in a forward pass. As such, inference times can be sped up by 2-4x — meaning that users can get responses much faster.&lt;/p&gt;&lt;p&gt;What makes speculative decoding particularly efficient is that it’s able to use unused GPU compute left behind due to the GPU memory bottleneck LLMs create. Speculative decoding takes advantage of the unused compute by squeezing in a draft model to generate tokens faster. This means we’re able to improve the utilization of our GPUs by using them to their full extent without having parts of the GPU sit idle.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;what-is-prefix-caching\&quot;&gt;What is prefix caching?&lt;/h3&gt;\n            &lt;a href=\&quot;#what-is-prefix-caching\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;With LLMs, there are usually two stages of generation – the first is known as “pre-fill”, which processes the user’s input tokens such as the prompt and context. Prefix caching is aimed at reducing the pre-fill time of a request. As an example, if you were asking a model to generate code based on a given file, you might insert the whole file into the context window of a request. Then, if you want to make a second request to generate the next line of code, you might send us the whole file again in the second request. Prefix caching allows us to cache the pre-fill tokens so we don’t have to process the context twice. With the same example, we would only do the pre-fill stage once for both requests, rather than doing it per request. This method is especially useful for requests that reuse the same context, such as &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/retrieval-augmented-generation-rag/\&quot;&gt;&lt;u&gt;Retrieval Augmented Generation (RAG)&lt;/u&gt;&lt;/a&gt;, code generation, chatbots with memory, and more. Skipping the pre-fill stage for similar requests means faster responses for our users and more efficient usage of resources. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;how-did-you-validate-that-quality-is-preserved-through-these-optimizations\&quot;&gt;How did you validate that quality is preserved through these optimizations?&lt;/h3&gt;\n            &lt;a href=\&quot;#how-did-you-validate-that-quality-is-preserved-through-these-optimizations\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Since this is an in-place update to an existing model, we were particularly cautious in ensuring that we would not break any existing applications with this update. We did extensive A/B testing through a blind arena with internal employees to validate the model quality, and we asked internal and external customers to test the new version of the model to ensure that response formats were compatible and model quality was acceptable. Our testing concluded that the model performed up to standards, with people being extremely excited about the speed of the model. Most LLMs are not perfectly deterministic even with the same set of inputs, but if you do notice something off, please let us know through &lt;a href=\&quot;https://discord.com/invite/cloudflaredev\&quot;&gt;&lt;u&gt;Discord&lt;/u&gt;&lt;/a&gt; or &lt;a href=\&quot;http://x.com/cloudflaredev\&quot;&gt;&lt;u&gt;X&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;asynchronous-batch-api\&quot;&gt;Asynchronous batch API&lt;/h2&gt;\n            &lt;a href=\&quot;#asynchronous-batch-api\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Next up, we’re announcing an asynchronous (async) batch API which is helpful for users of large workloads. This feature allows customers to receive their inference responses asynchronously, with the promise that the inference will be completed at a later time rather than immediately erroring out due to capacity.&lt;/p&gt;&lt;p&gt;An example use case of batch workloads is people generating summaries of a large number of documents. You probably don’t need to use those summaries immediately, as you’ll likely use them once the whole document is complete versus one paragraph at a time. For these use cases, we’ve made it super simple for you to start sending us these requests in batches.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;why-batch-requests\&quot;&gt;Why batch requests?&lt;/h3&gt;\n            &lt;a href=\&quot;#why-batch-requests\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;From talking to our customers, the most common use case we hear about is people creating embeddings or summarizing a large number of documents. Unfortunately, this is also one of the hardest use cases to manage capacity for as a serverless platform.&lt;/p&gt;&lt;p&gt;To illustrate this, imagine that you want to summarize a 70 page PDF. You typically chunk the document and then send an inference request for each chunk. If each chunk is a few paragraphs on a page, that means that we receive around 4 requests per page multiplied by 70 pages, which is about 280 requests. Multiply that by tens or hundreds of documents, and multiply that by a handful of concurrent users — this means that we get a sudden massive influx of thousands of requests when users start these large workloads.&lt;/p&gt;&lt;p&gt;The way we originally built Workers AI was to handle incoming requests as quickly as possible, assuming there&amp;#39;s a human on the other side that needed an immediate response. The unique thing about batch workloads is that while they&amp;#39;re not latency sensitive, they do require completeness guarantees — you don&amp;#39;t want to come back the next day to realize none of your inference requests actually executed.&lt;/p&gt;&lt;p&gt;With the async API, you send us a batch of requests, and we promise to fulfill them as fast as possible and return them to you as a batch. This guarantees that your inference request will be fulfilled, rather than immediately (or eventually) erroring out. The async API also benefits users who have real-time use cases, as the model instances won’t be immediately consumed by these batch requests that can wait for a response. Inference times will be faster since there won’t be a bunch of competing requests in a queue waiting to reach the inference servers. &lt;/p&gt;&lt;p&gt;We have select models that support batch inference today, which include:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-3.3-70b-instruct-fp8-fast/\&quot;&gt;&lt;u&gt;@cf/meta/llama-3.3-70b-instruct-fp8-fast&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-small-en-v1.5\&quot;&gt;&lt;u&gt;@cf/baai/bge-small-en-v1.5&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-base-en-v1.5\&quot;&gt;&lt;u&gt;@cf/baai/bge-base-en-v1.5&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-large-en-v1.5\&quot;&gt;&lt;u&gt;@cf/baai/bge-large-en-v1.5&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-m3/\&quot;&gt;&lt;u&gt;@cf/baai/bge-m3&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/m2m100-1.2b/\&quot;&gt;&lt;u&gt;@cf/meta/m2m100-1.2b&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;how-can-i-use-the-batch-api\&quot;&gt;How can I use the batch API?&lt;/h3&gt;\n            &lt;a href=\&quot;#how-can-i-use-the-batch-api\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Users can send a batch request to supported models by passing a flag:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;let res = await env.AI.run(&amp;quot;@cf/meta/llama-3.3-70b-instruct-batch&amp;quot;, {\n  &amp;quot;requests&amp;quot;: [{\n    &amp;quot;prompt&amp;quot;: &amp;quot;Explain mechanics of wormholes&amp;quot;\n  }, {\n    &amp;quot;prompt&amp;quot;: &amp;quot;List different plant species found in America&amp;quot;\n  }]\n}, {\n  queueRequest: true\n});&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Check out our &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/features/batch-api/\&quot;&gt;&lt;u&gt;developer docs&lt;/u&gt;&lt;/a&gt; to learn more about the batch API, or use our &lt;a href=\&quot;https://github.com/craigsdennis/batch-please-workers-ai\&quot;&gt;&lt;u&gt;template&lt;/u&gt;&lt;/a&gt; to deploy a worker that implements the batch API.&lt;/p&gt;&lt;p&gt;Today, our batch API can be used by sending us an array of requests, and we’ll return your responses in an array.  This is helpful for use cases like summarizing large amounts of data that you know beforehand. This means you can send us a single HTTP request with all of your requests, and receive a single HTTP request back with your responses. You can check on the status of the batch by polling it with the request ID we return when your batch is submitted. For the next iteration of our async API, we plan to allow queue-based inputs and outputs, where you push requests and pull responses from a queue. This will integrate tightly with &lt;a href=\&quot;https://developers.cloudflare.com/r2/buckets/event-notifications/\&quot;&gt;&lt;u&gt;Event Notifications&lt;/u&gt;&lt;/a&gt; and &lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Workflows&lt;/u&gt;&lt;/a&gt;, so you can execute subsequent actions upon receiving a response.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;expanded-lora-support\&quot;&gt;Expanded LoRA support&lt;/h2&gt;\n            &lt;a href=\&quot;#expanded-lora-support\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;At Birthday Week last year, &lt;a href=\&quot;https://blog.cloudflare.com/workers-ai-ga-huggingface-loras-python-support/#supporting-fine-tuned-inference-byo-loras\&quot;&gt;&lt;u&gt;we announced limited LoRA suppor&lt;/u&gt;&lt;/a&gt;t for a handful of models. We’ve &lt;/p&gt;&lt;p&gt;iterated on this and now support 8 models as well as larger ranks of up to 32 and LoRA files up to 300 MB. Models that support LoRA inference now include:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-3.2-11b-vision-instruct/\&quot;&gt;&lt;u&gt;@cf/meta/llama-3.2-11b-vision-instruct&lt;/u&gt;&lt;/a&gt; (soon)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-3.3-70b-instruct-fp8-fast/\&quot;&gt;&lt;u&gt;@cf/meta/llama-3.3-70b-instruct-fp8-fast&lt;/u&gt;&lt;/a&gt; (soon)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-guard-3-8b/\&quot;&gt;&lt;u&gt;@cf/meta/llama-guard-3-8b&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-3.1-8b-instruct-fast/\&quot;&gt;&lt;u&gt;@cf/meta/llama-3.1-8b-instruct-fast&lt;/u&gt;&lt;/a&gt; (soon)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/deepseek-r1-distill-qwen-32b/\&quot;&gt;&lt;u&gt;@cf/deepseek-ai/deepseek-r1-distill-qwen-32b&lt;/u&gt;&lt;/a&gt; (soon)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/qwen2.5-coder-32b-instruct\&quot;&gt;&lt;u&gt;@cf/qwen/qwen2.5-coder-32b-instruct&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/qwq-32b\&quot;&gt;&lt;u&gt;@cf/qwen/qwq-32b&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/mistral-small-3.1-24b-instruct\&quot;&gt;&lt;u&gt;@cf/mistralai/mistral-small-3.1-24b-instruct&lt;/u&gt;&lt;/a&gt; (soon)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/gemma-3-12b-it\&quot;&gt;&lt;u&gt;@cf/google/gemma-3-12b-it&lt;/u&gt;&lt;/a&gt; (soon)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;what-is-lora\&quot;&gt;What is LoRA?&lt;/h3&gt;\n            &lt;a href=\&quot;#what-is-lora\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;In essence, a Low Rank Adaptation (LoRA) adapter allows people to take a trained adapter file and use it in conjunction with a model to alter the response of a model. We did a&lt;a href=\&quot;https://blog.cloudflare.com/fine-tuned-inference-with-loras/\&quot;&gt;&lt;u&gt; deep dive on LoRAs&lt;/u&gt;&lt;/a&gt; in our Birthday Week blog post, which goes into further technical detail. LoRA adapters are great alternatives to fine-tuning a model, as it isn’t as expensive to train and adapters are much smaller and more portable. They are also effective enough to tweak the output of a model to fit a certain style of response.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;how-do-i-get-started\&quot;&gt;How do I get started?&lt;/h3&gt;\n            &lt;a href=\&quot;#how-do-i-get-started\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;To get started, you first need to train your own LoRA adapter or find a public one on HuggingFace. Then, you’ll upload the &lt;code&gt;adapter_model.safetensors&lt;/code&gt; and &lt;code&gt;adapter_config.json&lt;/code&gt; to your account with the &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/fine-tunes/loras/\&quot;&gt;&lt;u&gt;documented wrangler commands or through the REST API&lt;/u&gt;&lt;/a&gt;. LoRA files are private and scoped to your own account. After that, you can start running fine-tuned inference — check out our &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/features/fine-tunes/loras/\&quot;&gt;&lt;u&gt;LoRA developer docs&lt;/u&gt;&lt;/a&gt; to get started.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;const response = await env.AI.run(\n  &amp;quot;@cf/qwen/qwen2.5-coder-32b-instruct&amp;quot;, //the model supporting LoRAs\n  {\n      messages: [{&amp;quot;role&amp;quot;: &amp;quot;user&amp;quot;, &amp;quot;content&amp;quot;: &amp;quot;Hello world&amp;quot;}],\n      raw: true, //skip applying the default chat template\n      lora: &amp;quot;00000000-0000-0000-0000-000000000&amp;quot;, //the finetune id OR finetune name\n  }\n);&lt;/pre&gt;&lt;/code&gt;\n            \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;quality-of-life-improvements-updated-pricing-and-a-new-dashboard-for-workers-ai\&quot;&gt;Quality of life improvements: updated pricing and a new dashboard for Workers AI&lt;/h2&gt;\n            &lt;a href=\&quot;#quality-of-life-improvements-updated-pricing-and-a-new-dashboard-for-workers-ai\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;While the team has been focused on large engineering milestones, we’ve also landed some quality of life improvements over the last few months. In case you missed it, we’ve announced &lt;a href=\&quot;https://developers.cloudflare.com/changelog/2025-02-20-updated-pricing-docs/\&quot;&gt;&lt;u&gt;an updated pricing model&lt;/u&gt;&lt;/a&gt; where usage will be shown in units such as tokens, audio seconds, image size/steps, etc. but still billed in neurons in the backend.&lt;/p&gt;&lt;p&gt;Today, we’re unveiling a new dashboard that allows users to see their usage in both units as well as neurons (built on &lt;a href=\&quot;https://blog.cloudflare.com/introducing-workers-observability-logs-metrics-and-queries-all-in-one-place/\&quot;&gt;&lt;u&gt;new Workers Observabilit&lt;/u&gt;&lt;/a&gt;y components!). Model pricing is also available via dashboard and developer docs on the models page. And if you use AI Gateway, Workers AI usage will also be displayed as metrics now.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2ABZi7EC8dedCY4ru0ffsA/8eb63a9f4a626ca70ce6101760d23900/image1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1145\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;new-models-available-in-workers-ai\&quot;&gt;New models available in Workers AI&lt;/h2&gt;\n            &lt;a href=\&quot;#new-models-available-in-workers-ai\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Lastly, we’ve steadily been adding new models on Workers AI, with over 10 new models and a few updates on existing models. Pricing is also now listed directly on the model page in the developer docs. To summarize, here are the new models we’ve added on Workers AI, including four new ones we’re releasing today:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/deepseek-r1-distill-qwen-32b/\&quot;&gt;&lt;u&gt;@cf/deepseek-ai/deepseek-r1-distill-qwen-32b&lt;/u&gt;&lt;/a&gt;: a version of Qwen 32B distilled from Deepseek’s R1 that is capable of doing chain-of-thought reasoning.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-m3/\&quot;&gt;&lt;u&gt;@cf/baai/bge-m3&lt;/u&gt;&lt;/a&gt;: a multi-lingual embeddings model that supports over 100 languages. It can also simultaneously perform dense retrieval, multi-vector retrieval, and sparse retrieval, with the ability to process inputs of different granularities.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-reranker-base/\&quot;&gt;&lt;u&gt;@cf/baai/bge-reranker-base&lt;/u&gt;&lt;/a&gt;: our first reranker model! Rerankers are a type of text classification model that takes a query and context, and outputs a similarity score between the two. When used in RAG systems, you can use a reranker after the initial vector search to find the most relevant documents to return to a user by reranking the outputs.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/whisper-large-v3-turbo/\&quot;&gt;&lt;u&gt;@cf/openai/whisper-large-v3-turbo&lt;/u&gt;&lt;/a&gt;: a faster, more accurate speech-to-text model. This model was added earlier but is graduating out of beta with pricing included today.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/melotts/\&quot;&gt;&lt;u&gt;@cf/myshell-ai/melotts&lt;/u&gt;&lt;/a&gt;: our first text-to-speech model that allows users to generate an MP3 with voice audio from text input.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-4-scout-17b-16e-instruct/\&quot;&gt;&lt;u&gt;@cf/meta/llama-4-scout-17b-16e-instruct&lt;/u&gt;&lt;/a&gt;: 17 billion parameter MoE model with 16 experts that is natively multimodal. Offers industry-leading performance in text and image understanding.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;[NEW] &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/mistral-small-3.1-24b-instruct\&quot;&gt;&lt;u&gt;@cf/mistralai/mistral-small-3.1-24b-instruct&lt;/u&gt;&lt;/a&gt;: a 24B parameter model achieving state-of-the-art capabilities comparable to larger models, with support for vision and tool calling.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;[NEW] &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/gemma-3-12b-it\&quot;&gt;&lt;u&gt;@cf/google/gemma-3-12b-it&lt;/u&gt;&lt;/a&gt;: well-suited for a variety of text generation and image understanding tasks, including question answering, summarization and reasoning, with a 128K context window, and multilingual support in over 140 languages.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;[NEW] &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/qwq-32b\&quot;&gt;&lt;u&gt;@cf/qwen/qwq-32b&lt;/u&gt;&lt;/a&gt;: a medium-sized reasoning model, which is capable of achieving competitive performance against state-of-the-art reasoning models, e.g., DeepSeek-R1, o1-mini.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;[NEW] &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/qwen2.5-coder-32b-instruct\&quot;&gt;&lt;u&gt;@cf/qwen/qwen2.5-coder-32b-instruct&lt;/u&gt;&lt;/a&gt;: the current state-of-the-art open-source code LLM, with its coding abilities matching those of GPT-4o.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;In addition, we are rolling out some in-place updates to existing models in our catalog:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-3.3-70b-instruct-fp8-fast/\&quot;&gt;&lt;u&gt;@cf/meta/llama-3.3-70b-instruct-fp8-fast&lt;/u&gt;&lt;/a&gt; - Llama 3.3 70b gets a speed boost with new techniques such as speculative decoding, prefix caching, and an updated server back end (&lt;a href=\&quot;#speeding-up-inference-by-2-4x-with-speculative-decoding-and-more\&quot;&gt;&lt;u&gt;see above&lt;/u&gt;&lt;/a&gt;).&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-small-en-v1.5\&quot;&gt;&lt;u&gt;@cf/baai/bge-small-en-v1.5&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-base-en-v1.5\&quot;&gt;&lt;u&gt;@cf/baai/bge-base-en-v1.5&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/bge-large-en-v1.5\&quot;&gt;&lt;u&gt;@cf/baai/bge-large-en-v1.5&lt;/u&gt;&lt;/a&gt; - get a new input parameter called “pooling” which takes either “cls” or “mean”&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;As we release these new models, we’ll be deprecating old models to encourage use of the state-of-the-art models and make room in our catalog. We will send out an email notice on this shortly. Stay up to date with our model releases and deprecation announcements by &lt;a href=\&quot;https://developers.cloudflare.com/changelog/\&quot;&gt;&lt;u&gt;subscribing to our Developer Docs changelog&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;were-still-just-getting-started\&quot;&gt;We’re (still) just getting started&lt;/h2&gt;\n            &lt;a href=\&quot;#were-still-just-getting-started\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Workers AI is one of Cloudflare’s newer products in a nascent industry, but we still operate with very traditional Cloudflare principles – learning how we can do more with less. Our engineering team is focused on solving the difficult problems that come with growing a distributed inference platform at a global scale, and we’re excited to release these new features today that we think will improve the platform as a whole for all our users. With faster inference times, better reliability, more customization possibilities, and better usability, we’re excited to see what you can do with more Workers AI — &lt;a href=\&quot;https://discord.com/invite/cloudflaredev\&quot;&gt;&lt;u&gt;let us know what you think&lt;/u&gt;&lt;/a&gt;!&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-11T14:00+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T20:39:36.383Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5yMNceIAv4wKsZLS21TKid/a9ec00fd7d60e934f19b41aa5cd205be/image2.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Michelle Chen&quot;],&quot;slug&quot;:[0,&quot;michelle&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1hrcl3aVtUbBuCMeuXETWy/93dbfbc7d41c09ba35d863312dbde89d/michelle.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@_mchenco&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Jesse Kipp&quot;],&quot;slug&quot;:[0,&quot;jesse&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/8yRqemLc8lLhE9Uwzd7G4/a303cca84c1840cc961831f1ea6b4213/jesse.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;We just made Workers AI inference faster with speculative decoding &amp; prefix caching. Use our new batch inference for handling large request volumes seamlessly. Build tailored AI apps with more LoRA options. Lastly, new models and a refreshed dashboard round out this Developer Week update for Workers AI.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/workers-ai-improvements&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Workers AI gets a speed boost, batch workload support, more LoRAs, new models, and a refreshed dashboard&quot;],&quot;description&quot;:[0,&quot;We just made Workers AI inference faster with speculative decoding &amp; prefix caching. Use our new batch inference for handling large request volumes seamlessly. Build tailored AI apps with more LoRA options. Lastly, new models and a refreshed dashboard round out this Developer Week update for Workers AI.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/244Y6Ze87XxbXrdy9L7lDb/65ea7dce90edb783f3eb5c4e7244cbe7/OG_Share_2024.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;6JFB9cHUOoMZnVmYIuTLzd&quot;],&quot;title&quot;:[0,&quot;R2 Data Catalog: Managed Apache Iceberg tables with zero egress fees&quot;],&quot;slug&quot;:[0,&quot;r2-data-catalog-public-beta&quot;],&quot;excerpt&quot;:[0,&quot;R2 Data Catalog is now in public beta: a managed Apache Iceberg data catalog built directly into your R2 bucket.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;&lt;a href=\&quot;https://iceberg.apache.org/\&quot;&gt;&lt;u&gt;Apache Iceberg&lt;/u&gt;&lt;/a&gt; is quickly becoming the standard table format for querying large analytic datasets in &lt;a href=\&quot;https://www.cloudflare.com/learning/cloud/what-is-object-storage/\&quot;&gt;object storage&lt;/a&gt;. We’re seeing this trend firsthand as more and more developers and data teams adopt Iceberg on &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;u&gt;Cloudflare R2&lt;/u&gt;&lt;/a&gt;. But until now, using Iceberg with R2 meant managing additional infrastructure or relying on external data catalogs.&lt;/p&gt;&lt;p&gt;So we’re fixing this. Today, we’re launching the &lt;a href=\&quot;https://developers.cloudflare.com/r2/data-catalog/\&quot;&gt;&lt;u&gt;R2 Data Catalog&lt;/u&gt;&lt;/a&gt; in open beta, a managed Apache Iceberg catalog built directly into your Cloudflare R2 bucket.&lt;/p&gt;&lt;p&gt;If you’re not already familiar with it, Iceberg is an open table format built for large-scale analytics on datasets stored in object storage. With R2 Data Catalog, you get the database-like capabilities Iceberg is known for – &lt;a href=\&quot;https://en.wikipedia.org/wiki/ACID\&quot;&gt;&lt;u&gt;ACID&lt;/u&gt;&lt;/a&gt; transactions, schema evolution, and efficient querying – without the overhead of managing your own external catalog.&lt;/p&gt;&lt;p&gt;R2 Data Catalog exposes a standard Iceberg REST catalog interface, so you can connect the engines you already use, like &lt;a href=\&quot;https://py.iceberg.apache.org/\&quot;&gt;&lt;u&gt;PyIceberg&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://www.snowflake.com/\&quot;&gt;&lt;u&gt;Snowflake&lt;/u&gt;&lt;/a&gt;, and &lt;a href=\&quot;https://spark.apache.org/\&quot;&gt;&lt;u&gt;Spark&lt;/u&gt;&lt;/a&gt;. And, as always with R2, there are no egress fees, meaning that no matter which cloud or region your data is consumed from, you won’t have to worry about growing data transfer costs.&lt;/p&gt;&lt;p&gt;Ready to query data in R2 right now? Jump into the &lt;a href=\&quot;https://developers.cloudflare.com/r2/data-catalog/\&quot;&gt;&lt;u&gt;developer docs&lt;/u&gt;&lt;/a&gt; and enable a data catalog on your R2 bucket in just a few clicks. Or keep reading to learn more about Iceberg, data catalogs, how metadata files work under the hood, and how to create your first Iceberg table.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;what-is-apache-iceberg\&quot;&gt;What is Apache Iceberg?&lt;/h2&gt;\n            &lt;a href=\&quot;#what-is-apache-iceberg\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;&lt;a href=\&quot;https://iceberg.apache.org/\&quot;&gt;&lt;u&gt;Apache Iceberg&lt;/u&gt;&lt;/a&gt; is an open table format for analyzing large datasets in object storage. It brings database-like features – ACID transactions, time travel, and schema evolution – to files stored in formats like &lt;a href=\&quot;https://parquet.apache.org/\&quot;&gt;&lt;u&gt;Parquet&lt;/u&gt;&lt;/a&gt; or &lt;a href=\&quot;https://orc.apache.org/\&quot;&gt;&lt;u&gt;ORC&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Historically, data lakes were just collections of raw files in object storage. However, without a unified metadata layer, datasets could easily become corrupted, were difficult to evolve, and queries often required expensive full-table scans.&lt;/p&gt;&lt;p&gt;Iceberg solves these problems by:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Providing ACID transactions for reliable, concurrent reads and writes.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Maintaining optimized metadata, so engines can skip irrelevant files and avoid unnecessary full-table scans.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Supporting schema evolution, allowing columns to be added, renamed, or dropped without rewriting existing data.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Iceberg is already &lt;a href=\&quot;https://iceberg.apache.org/vendors/\&quot;&gt;&lt;u&gt;widely supported&lt;/u&gt;&lt;/a&gt; by engines like Apache Spark, Trino, Snowflake, DuckDB, and ClickHouse, with a fast-growing community behind it.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;how-iceberg-tables-are-stored\&quot;&gt;How Iceberg tables are stored&lt;/h3&gt;\n            &lt;a href=\&quot;#how-iceberg-tables-are-stored\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        \n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/779M4zsH5QnpDwlTORk1fo/38e7732ca0e20645507bdc0c628f671b/1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1226\&quot; height=\&quot;1999\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;Internally, an Iceberg table is a collection of data files (typically stored in columnar formats like Parquet or ORC) and metadata files (typically stored in JSON or &lt;a href=\&quot;https://avro.apache.org/\&quot;&gt;&lt;u&gt;Avro&lt;/u&gt;&lt;/a&gt;) that describe table snapshots, schemas, and partition layouts.&lt;/p&gt;&lt;p&gt;To understand how query engines interact efficiently with Iceberg tables, it helps to look at an Iceberg metadata file (simplified):&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;{\n  &amp;quot;format-version&amp;quot;: 2,\n  &amp;quot;table-uuid&amp;quot;: &amp;quot;0195e49b-8f7c-7933-8b43-d2902c72720a&amp;quot;,\n  &amp;quot;location&amp;quot;: &amp;quot;s3://my-bucket/warehouse/0195e49b-79ca/table&amp;quot;,\n  &amp;quot;current-schema-id&amp;quot;: 0,\n  &amp;quot;schemas&amp;quot;: [\n    {\n      &amp;quot;schema-id&amp;quot;: 0,\n      &amp;quot;type&amp;quot;: &amp;quot;struct&amp;quot;,\n      &amp;quot;fields&amp;quot;: [\n        { &amp;quot;id&amp;quot;: 1, &amp;quot;name&amp;quot;: &amp;quot;id&amp;quot;, &amp;quot;required&amp;quot;: false, &amp;quot;type&amp;quot;: &amp;quot;long&amp;quot; },\n        { &amp;quot;id&amp;quot;: 2, &amp;quot;name&amp;quot;: &amp;quot;data&amp;quot;, &amp;quot;required&amp;quot;: false, &amp;quot;type&amp;quot;: &amp;quot;string&amp;quot; }\n      ]\n    }\n  ],\n  &amp;quot;current-snapshot-id&amp;quot;: 3567362634015106507,\n  &amp;quot;snapshots&amp;quot;: [\n    {\n      &amp;quot;snapshot-id&amp;quot;: 3567362634015106507,\n      &amp;quot;sequence-number&amp;quot;: 1,\n      &amp;quot;timestamp-ms&amp;quot;: 1743297158403,\n      &amp;quot;manifest-list&amp;quot;: &amp;quot;s3://my-bucket/warehouse/0195e49b-79ca/table/metadata/snap-3567362634015106507-0.avro&amp;quot;,\n      &amp;quot;summary&amp;quot;: {},\n      &amp;quot;schema-id&amp;quot;: 0\n    }\n  ],\n  &amp;quot;partition-specs&amp;quot;: [{ &amp;quot;spec-id&amp;quot;: 0, &amp;quot;fields&amp;quot;: [] }]\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;A few of the important components are:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;schemas&lt;/code&gt;: Iceberg tracks schema changes over time. Engines use schema information to safely read and write data without needing to rewrite underlying files.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;snapshots&lt;/code&gt;: Each snapshot references a specific set of data files that represent the state of the table at a point in time. This enables features like time travel.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;partition-specs&lt;/code&gt;: These define how the table is logically partitioned. Query engines leverage this information during planning to skip unnecessary partitions, greatly improving query performance.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;By reading Iceberg metadata, query engines can efficiently prune partitions, load only the relevant snapshots, and fetch only the data files it needs, resulting in faster queries.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;why-do-you-need-a-data-catalog\&quot;&gt;Why do you need a data catalog?&lt;/h3&gt;\n            &lt;a href=\&quot;#why-do-you-need-a-data-catalog\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Although the Iceberg data and metadata files themselves live directly in object storage (like &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;u&gt;R2&lt;/u&gt;&lt;/a&gt;), the list of tables and pointers to the current metadata need to be tracked centrally by a data catalog.&lt;/p&gt;&lt;p&gt;Think of a data catalog as a library&amp;#39;s index system. While books (your data) are physically distributed across shelves (object storage), the index provides a single source of truth about what books exist, their locations, and their latest editions. Without this index, readers (query engines) would waste time searching for books, might access outdated versions, or could accidentally shelve new books in ways that make them unfindable.&lt;/p&gt;&lt;p&gt;Similarly, data catalogs ensure consistent, coordinated access, allowing multiple query engines to safely read from and write to the same tables without conflicts or data corruption.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;create-your-first-iceberg-table-on-r2\&quot;&gt;Create your first Iceberg table on R2&lt;/h2&gt;\n            &lt;a href=\&quot;#create-your-first-iceberg-table-on-r2\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Ready to try it out? Here’s a quick example using &lt;a href=\&quot;https://py.iceberg.apache.org/\&quot;&gt;&lt;u&gt;PyIceberg&lt;/u&gt;&lt;/a&gt; and Python to get you started. For a detailed step-by-step guide, check out our &lt;a href=\&quot;https://developers.cloudflare.com/r2/data-catalog/get-started/\&quot;&gt;&lt;u&gt;developer docs&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;1. Enable R2 Data Catalog on your bucket:\n&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;npx wrangler r2 bucket catalog enable my-bucket&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Or use the Cloudflare dashboard: Navigate to &lt;b&gt;R2 Object Storage&lt;/b&gt; &amp;gt; &lt;b&gt;Settings&lt;/b&gt; &amp;gt; &lt;b&gt;R2 Data Catalog&lt;/b&gt; and click &lt;b&gt;Enable&lt;/b&gt;.&lt;/p&gt;&lt;p&gt;2. Create a &lt;a href=\&quot;https://developers.cloudflare.com/r2/api/s3/tokens/\&quot;&gt;&lt;u&gt;Cloudflare API token&lt;/u&gt;&lt;/a&gt; with permissions for both R2 storage and the data catalog.&lt;/p&gt;&lt;p&gt;3. Install &lt;a href=\&quot;https://py.iceberg.apache.org/\&quot;&gt;&lt;u&gt;PyIceberg&lt;/u&gt;&lt;/a&gt; and &lt;a href=\&quot;https://arrow.apache.org/docs/index.html\&quot;&gt;&lt;u&gt;PyArrow&lt;/u&gt;&lt;/a&gt;, then open a Python shell or notebook:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;pip install pyiceberg pyarrow&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;4. Connect to the catalog and create a table:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Python\&quot;&gt;&lt;code class=\&quot;language-Python\&quot;&gt;import pyarrow as pa\nfrom pyiceberg.catalog.rest import RestCatalog\n\n# Define catalog connection details (replace variables)\nWAREHOUSE = &amp;quot;&amp;lt;WAREHOUSE&amp;gt;&amp;quot;\nTOKEN = &amp;quot;&amp;lt;TOKEN&amp;gt;&amp;quot;\nCATALOG_URI = &amp;quot;&amp;lt;CATALOG_URI&amp;gt;&amp;quot;\n\n# Connect to R2 Data Catalog\ncatalog = RestCatalog(\n    name=&amp;quot;my_catalog&amp;quot;,\n    warehouse=WAREHOUSE,\n    uri=CATALOG_URI,\n    token=TOKEN,\n)\n\n# Create default namespace\ncatalog.create_namespace(&amp;quot;default&amp;quot;)\n\n# Create simple PyArrow table\ndf = pa.table({\n    &amp;quot;id&amp;quot;: [1, 2, 3],\n    &amp;quot;name&amp;quot;: [&amp;quot;Alice&amp;quot;, &amp;quot;Bob&amp;quot;, &amp;quot;Charlie&amp;quot;],\n})\n\n# Create an Iceberg table\ntable = catalog.create_table(\n    (&amp;quot;default&amp;quot;, &amp;quot;my_table&amp;quot;),\n    schema=df.schema,\n)&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;You can now append more data or run queries, just as you would with any Apache Iceberg table.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;pricing\&quot;&gt;Pricing&lt;/h2&gt;\n            &lt;a href=\&quot;#pricing\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;While R2 Data Catalog is in open beta, there will be no additional charges beyond standard R2 storage and operations costs incurred by query engines accessing data. &lt;a href=\&quot;https://developers.cloudflare.com/r2/pricing/\&quot;&gt;&lt;u&gt;Storage pricing&lt;/u&gt;&lt;/a&gt; for buckets with R2 Data Catalog enabled remains the same as standard R2 buckets – \\$0.015 per GB-month. As always, egress directly from R2 buckets remains \\$0.&lt;/p&gt;&lt;p&gt;In the future, we plan to introduce pricing for catalog operations (e.g., creating tables, retrieving table metadata, etc.) and data compaction.&lt;/p&gt;&lt;p&gt;Below is our current thinking on future pricing. We’ll communicate more details around timing well before billing begins, so you can confidently plan your workloads.&lt;/p&gt;&lt;div style=\&quot;margin-left:0pt;\&quot; dir=\&quot;ltr\&quot; align=\&quot;left\&quot;&gt;\n    &lt;figure class=\&quot;table\&quot; style=\&quot;width:468pt;\&quot;&gt;\n        &lt;table class=\&quot;ck-table-resized\&quot; style=\&quot;border-collapse:collapse;border-style:none;table-layout:fixed;\&quot;&gt;\n            &lt;colgroup&gt;\n                &lt;col style=\&quot;width:50%;\&quot;&gt;\n                &lt;col style=\&quot;width:50%;\&quot;&gt;\n            &lt;/colgroup&gt;\n            &lt;tbody&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;&amp;nbsp;&lt;/td&gt;\n                    &lt;td style=\&quot;background-color:#1155cc;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#ffffff;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;&lt;strong&gt;Pricing&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;R2 storage&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#434343;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;For standard storage class&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;$0.015 per GB-month (no change)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;R2 Class A operations&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;$4.50 per million operations (no change)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;R2 Class B operations&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;$0.36 per million operations (no change)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;Data Catalog operations&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#434343;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;e.g., create table, get table metadata, update table properties&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;$9.00 per million catalog operations&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;Data Catalog compaction data processed&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;$0.05 per GB processed&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;$4.00 per million objects processed&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;Data egress&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-color:#000000;border-width:1pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:center;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;$0 (no change, always free)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/figure&gt;\n&lt;/div&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;whats-next\&quot;&gt;What’s next?&lt;/h2&gt;\n            &lt;a href=\&quot;#whats-next\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We’re excited to see how you use R2 Data Catalog! If you’ve never worked with Iceberg – or even analytics data – before, we think this is the easiest way to get started.&lt;/p&gt;&lt;p&gt;Next on our roadmap is tackling compaction and table optimization. Query engines typically perform better when dealing with fewer, but larger data files. We will automatically re-write collections of small data files into larger files to deliver even faster query performance. &lt;/p&gt;&lt;p&gt;We’re also collaborating with the broad Apache Iceberg community to expand query-engine compatibility with the Iceberg REST Catalog spec.&lt;/p&gt;&lt;p&gt;We’d love your feedback. Join the &lt;a href=\&quot;https://discord.cloudflare.com/\&quot;&gt;&lt;u&gt;Cloudflare Developer Discord&lt;/u&gt;&lt;/a&gt; to ask questions and share your thoughts during the public beta. For more details, examples, and guides, visit our &lt;a href=\&quot;https://developers.cloudflare.com/r2/data-catalog/get-started/\&quot;&gt;&lt;u&gt;developer documentation&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-10T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-16T15:43:33.601Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3DLiKvo4JZk27ITbyBcZHm/b49fe94354e7f89b5e55cdf722fe2732/Feature_Image.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;419aJYheeNglKZlN8yunB6&quot;],&quot;name&quot;:[0,&quot;R2&quot;],&quot;slug&quot;:[0,&quot;r2&quot;]}],[0,{&quot;id&quot;:[0,&quot;aHsK2p2ryRcfUSs4nMge0&quot;],&quot;name&quot;:[0,&quot;Data Catalog&quot;],&quot;slug&quot;:[0,&quot;data-catalog&quot;]}],[0,{&quot;id&quot;:[0,&quot;7lB8a8hOPXzjt99X5Ye9wb&quot;],&quot;name&quot;:[0,&quot;Storage&quot;],&quot;slug&quot;:[0,&quot;storage&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;6QktrXeEFcl4e2dZUTZVGl&quot;],&quot;name&quot;:[0,&quot;Product News&quot;],&quot;slug&quot;:[0,&quot;product-news&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Phillip Jones&quot;],&quot;slug&quot;:[0,&quot;phillip&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5KTNNpw9VHuwoZlwWsA7MN/c50f3f98d822a0fdce3196d7620d714e/phillip.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@akaphill&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Garvit Gupta&quot;],&quot;slug&quot;:[0,&quot;garvit-gupta&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5bHj4wTbnOq2jqn0UloCz8/061a096c9f0e2c7dafafa36eccff32d1/Garvit_Gupta.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0,&quot;linkedin.com/in/garvitg/&quot;],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Alex Graham&quot;],&quot;slug&quot;:[0,&quot;alex-graham&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7JHQi5kSLLLe5Xv3UF3Wpu/78b42f6f5628c41a83ac08c537cda62f/_tmp_mini_magick20240416-2-nemxat.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Garrett Gu&quot;],&quot;slug&quot;:[0,&quot;garrett-gu&quot;],&quot;bio&quot;:[0,&quot;Passionate about compilers, security, web, and audio.&quot;],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/73rzJLaDaPLOFGzOEVYmsX/d0d6b2e6f8d19e70bc3d35fb52ed682a/garrett-gu.jpg&quot;],&quot;location&quot;:[0,&quot;Austin, TX&quot;],&quot;website&quot;:[0,&quot;garrettgu.com&quot;],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;R2 Data Catalog is now in public beta: a managed Apache Iceberg data catalog built directly into your R2 bucket.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/r2-data-catalog-public-beta&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;R2 Data Catalog: Managed Apache Iceberg tables with zero egress fees&quot;],&quot;description&quot;:[0,&quot;R2 Data Catalog is now in public beta: a managed Apache Iceberg data catalog built directly into your R2 bucket.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3INh24m5qXpQPIsiXNpIzt/220e0b83803496d3724d5698cf1ce55e/OG_Share_2024__42_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;2qUAO70BqnRBomg83fCRPe&quot;],&quot;title&quot;:[0,&quot;Sequential consistency without borders: how D1 implements global read replication&quot;],&quot;slug&quot;:[0,&quot;d1-read-replication-beta&quot;],&quot;excerpt&quot;:[0,&quot;D1, Cloudflare’s managed SQL database, announces read replication beta. Here&#39;s a deep dive of the read replication implementation and how your queries can remain consistent across all regions.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;Read replication of &lt;a href=\&quot;https://developers.cloudflare.com/d1/\&quot;&gt;&lt;u&gt;D1&lt;/u&gt;&lt;/a&gt; databases is in public beta!&lt;/p&gt;&lt;p&gt;D1 read replication makes read-only copies of your database available in multiple regions across Cloudflare’s network.  For busy, read-heavy applications like e-commerce websites, content management tools, and mobile apps:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;D1 read replication lowers average latency by routing user requests to read replicas in nearby regions.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;D1 read replication increases overall throughput by offloading read queries to read replicas, allowing the primary database to handle more write queries.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The main copy of your database is called the primary database and the read-only copies are called read replicas.  When you enable replication for a D1 database, the D1 service automatically creates and maintains read replicas of your primary database.  As your users make requests, D1 routes those requests to an appropriate copy of the database (either the primary or a replica) based on performance heuristics, the type of queries made in those requests, and the query consistency needs as expressed by your application.&lt;/p&gt;&lt;p&gt;All of this global replica creation and request routing is handled by Cloudflare at no additional cost.&lt;/p&gt;&lt;p&gt;To take advantage of read replication, your Worker needs to use the new D1 &lt;a href=\&quot;https://developers.cloudflare.com/d1/best-practices/read-replication/\&quot;&gt;&lt;u&gt;Sessions API&lt;/u&gt;&lt;/a&gt;. Click the button below to run a Worker using D1 read replication with this &lt;a href=\&quot;https://github.com/cloudflare/templates/tree/main/d1-starter-sessions-api-template\&quot;&gt;&lt;u&gt;code example&lt;/u&gt;&lt;/a&gt; to see for yourself!&lt;/p&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/templates/tree/main/d1-starter-sessions-api-template\&quot;&gt;&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;\n&lt;p&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;d1-sessions-api\&quot;&gt;D1 Sessions API&lt;/h2&gt;\n            &lt;a href=\&quot;#d1-sessions-api\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;D1’s read replication feature is built around the concept of database &lt;i&gt;sessions&lt;/i&gt;.  A session encapsulates all the queries representing one logical session for your application. For example, a session might represent all requests coming from a particular web browser or all requests coming from a mobile app used by one of your users. If you use sessions, your queries will use the appropriate copy of the D1 database that makes the most sense for your request, be that the primary database or a nearby replica.&lt;/p&gt;&lt;p&gt;The sessions implementation ensures &lt;a href=\&quot;https://jepsen.io/consistency/models/sequential\&quot;&gt;&lt;u&gt;sequential consistency&lt;/u&gt;&lt;/a&gt; for all queries in the session, no matter what copy of the database each query is routed to.  The sequential consistency model has important properties like &amp;quot;&lt;a href=\&quot;https://jepsen.io/consistency/models/read-your-writes\&quot;&gt;&lt;u&gt;read my own writes&lt;/u&gt;&lt;/a&gt;&amp;quot; and &amp;quot;&lt;a href=\&quot;https://jepsen.io/consistency/models/writes-follow-reads\&quot;&gt;&lt;u&gt;writes follow reads&lt;/u&gt;&lt;/a&gt;,&amp;quot; as well as a total ordering of writes. The total ordering of writes means that every replica will see transactions committed in the same order, which is exactly the behavior we want in a transactional system.  Said another way, sequential consistency guarantees that the reads and writes are executed in the order in which you write them in your code.&lt;/p&gt;&lt;p&gt;Some examples of consistency implications in real-world applications:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;You are using an online store and just placed an order (write query), followed by a visit to the account page to list all your orders (read query handled by a replica). You want the newly placed order to be listed there as well.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;You are using your bank’s web application and make a transfer to your electricity provider (write query), and then immediately navigate to the account balance page (read query handled by a replica) to check the latest balance of your account, including that last payment.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Why do we need the Sessions API? Why can we not just query replicas directly?&lt;/p&gt;&lt;p&gt;Applications using D1 read replication need the Sessions API because D1 runs on Cloudflare’s global network and there’s no way to ensure that requests from the same client get routed to the same replica for every request. For example, the client may switch from WiFi to a mobile network in a way that changes how their requests are routed to Cloudflare. Or the data center that handled previous requests could be down because of an outage or maintenance.&lt;/p&gt;&lt;p&gt;D1’s read replication is asynchronous, so it’s possible that when you switch between replicas, the replica you switch to lags behind the replica you were using. This could mean that, for example, the new replica hasn’t learned of the writes you just completed.  We could no longer guarantee useful properties like “read your own writes”.  In fact, in the presence of shifty routing, the only consistency property we could guarantee is that what you read had been committed at some point in the past (&lt;a href=\&quot;https://jepsen.io/consistency/models/read-committed\&quot;&gt;&lt;u&gt;read committed&lt;/u&gt;&lt;/a&gt; consistency), which isn’t very useful at all!&lt;/p&gt;&lt;p&gt;Since we can’t guarantee routing to the same replica, we flip the script and use the information we get from the Sessions API to make sure whatever replica we land on can handle the request in a sequentially-consistent manner.&lt;/p&gt;&lt;p&gt;Here’s what the Sessions API looks like in a Worker:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;export default {\n  async fetch(request: Request, env: Env) {\n    // A. Create the session.\n    // When we create a D1 session, we can continue where we left off from a previous    \n    // session if we have that session&amp;#039;s last bookmark or use a constraint.\n    const bookmark = request.headers.get(&amp;#039;x-d1-bookmark&amp;#039;) ?? &amp;#039;first-unconstrained&amp;#039;\n    const session = env.DB.withSession(bookmark)\n\n    // Use this session for all our Workers&amp;#039; routes.\n    const response = await handleRequest(request, session)\n\n    // B. Return the bookmark so we can continue the session in another request.\n    response.headers.set(&amp;#039;x-d1-bookmark&amp;#039;, session.getBookmark())\n\n    return response\n  }\n}\n\nasync function handleRequest(request: Request, session: D1DatabaseSession) {\n  const { pathname } = new URL(request.url)\n\n  if (request.method === &amp;quot;GET&amp;quot; &amp;amp;&amp;amp; pathname === &amp;#039;/api/orders&amp;#039;) {\n    // C. Session read query.\n    const { results } = await session.prepare(&amp;#039;SELECT * FROM Orders&amp;#039;).all()\n    return Response.json(results)\n\n  } else if (request.method === &amp;quot;POST&amp;quot; &amp;amp;&amp;amp; pathname === &amp;#039;/api/orders&amp;#039;) {\n    const order = await request.json&amp;lt;Order&amp;gt;()\n\n    // D. Session write query.\n    // Since this is a write query, D1 will transparently forward it to the primary.\n    await session\n      .prepare(&amp;#039;INSERT INTO Orders VALUES (?, ?, ?)&amp;#039;)\n      .bind(order.orderId, order.customerId, order.quantity)\n      .run()\n\n    // E. Session read-after-write query.\n    // In order for the application to be correct, this SELECT statement must see\n    // the results of the INSERT statement above.\n    const { results } = await session\n      .prepare(&amp;#039;SELECT * FROM Orders&amp;#039;)\n      .all()\n\n    return Response.json(results)\n  }\n\n  return new Response(&amp;#039;Not found&amp;#039;, { status: 404 })\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;To use the Session API, you first need to create a session using the &lt;code&gt;withSession&lt;/code&gt; method (&lt;b&gt;&lt;i&gt;step A&lt;/i&gt;&lt;/b&gt;).  The &lt;code&gt;withSession&lt;/code&gt; method takes a bookmark as a parameter, or a constraint.  The provided constraint instructs D1 where to forward the first query of the session. Using &lt;code&gt;first-unconstrained&lt;/code&gt; allows the first query to be processed by any replica without any restriction on how up-to-date it is. Using &lt;code&gt;first-primary&lt;/code&gt; ensures that the first query of the session will be forwarded to the primary.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;// A. Create the session.\nconst bookmark = request.headers.get(&amp;#039;x-d1-bookmark&amp;#039;) ?? &amp;#039;first-unconstrained&amp;#039;\nconst session = env.DB.withSession(bookmark)&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Providing an explicit bookmark instructs D1 that whichever database instance processes the query has to be at least as up-to-date as the provided bookmark (in case of a replica; the primary database is always up-to-date by definition).  Explicit bookmarks are how we can continue from previously-created sessions and maintain sequential consistency across user requests.&lt;/p&gt;&lt;p&gt;Once you’ve created the session, make queries like you normally would with D1.  The session object ensures that the queries you make are sequentially consistent with regards to each other.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;// C. Session read query.\nconst { results } = await session.prepare(&amp;#039;SELECT * FROM Orders&amp;#039;).all()&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;For example, in the code example above, the session read query for listing the orders (&lt;b&gt;&lt;i&gt;step C&lt;/i&gt;&lt;/b&gt;) will return results that are at least as up-to-date as the bookmark used to create the session (&lt;b&gt;&lt;i&gt;step A&lt;/i&gt;&lt;/b&gt;&lt;i&gt;)&lt;/i&gt;.&lt;/p&gt;&lt;p&gt;More interesting is the write query to add a new order (&lt;b&gt;&lt;i&gt;step D&lt;/i&gt;&lt;/b&gt;) followed by the read query to list all orders (&lt;b&gt;&lt;i&gt;step E&lt;/i&gt;&lt;/b&gt;). Because both queries are executed on the same session, it is guaranteed that the read query will observe a database copy that includes the write query, thus maintaining sequential consistency.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;// D. Session write query.\nawait session\n  .prepare(&amp;#039;INSERT INTO Orders VALUES (?, ?, ?)&amp;#039;)\n  .bind(order.orderId, order.customerId, order.quantity)\n  .run()\n\n// E. Session read-after-write query.\nconst { results } = await session\n  .prepare(&amp;#039;SELECT * FROM Orders&amp;#039;)\n  .all()&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Note that we could make a single batch query to the primary including both the write and the list, but the benefit of using the new Sessions API is that you can use the extra read replica databases for your read queries and allow the primary database to handle more write queries.&lt;/p&gt;&lt;p&gt;The session object does the necessary bookkeeping to maintain the latest bookmark observed across all queries executed using that specific session, and always includes that latest bookmark in requests to D1. Note that any query executed without using the session object is not guaranteed to be sequentially consistent with the queries executed in the session.&lt;/p&gt;&lt;p&gt;When possible, we suggest continuing sessions across requests by including bookmarks in your responses to clients (&lt;b&gt;&lt;i&gt;step B&lt;/i&gt;&lt;/b&gt;), and having clients passing previously received bookmarks in their future requests.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;// B. Return the bookmark so we can continue the session in another request.\nresponse.headers.set(&amp;#039;x-d1-bookmark&amp;#039;, session.getBookmark())&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;This allows &lt;i&gt;all&lt;/i&gt; of a client’s requests to be in the same session. You can do this by grabbing the session’s current bookmark at the end of the request (&lt;code&gt;session.getBookmark()&lt;/code&gt;) and sending the bookmark in the response back to the client in HTTP headers, in HTTP cookies, or in the response body itself.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;consistency-with-and-without-sessions-api\&quot;&gt;Consistency with and without Sessions API&lt;/h3&gt;\n            &lt;a href=\&quot;#consistency-with-and-without-sessions-api\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;In this section, we will explore the classic scenario of a read-after-write query to showcase how using the new D1 Sessions API ensures that we get sequential consistency and avoid any issues with inconsistent results in our application.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1zIBf3V1YIogYJKeWm1kDn/f484faf38cc0f8d7227f9db1fa386354/1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1323\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;The Client, a user Worker, sends a D1 write query that gets processed by the database primary and gets the results back. However, the subsequent read query ends up being processed by a database replica. If the database replica is lagging far enough behind the database primary, such that it does not yet include the first write query, then the returned results will be inconsistent, and probably incorrect for your application business logic.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1w81ec5tNGWJ7sQyFBZQ6l/d487ccf225a097a0e48054d88df0ba1f/2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1323\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;Using the Sessions API fixes the inconsistency issue. The first write query is again processed by the database primary, and this time the response includes “&lt;b&gt;Bookmark 100&lt;/b&gt;”. The session object will store this bookmark for you transparently.&lt;/p&gt;&lt;p&gt;The subsequent read query is processed by database replica as before, but now since the query includes the previously received “&lt;b&gt;Bookmark 100&lt;/b&gt;”, the database replica will wait until its database copy is at least up-to-date as “&lt;b&gt;Bookmark 100&lt;/b&gt;”. Only once it’s up-to-date, the read query will be processed and the results returned, including the replica’s latest bookmark “&lt;b&gt;Bookmark 104&lt;/b&gt;”.&lt;/p&gt;&lt;p&gt;Notice that the returned bookmark for the read query is “&lt;b&gt;Bookmark 104&lt;/b&gt;”, which is different from the one passed in the query request. This can happen if there were other writes from other client requests that also got replicated to the database replica in-between the two queries our own client executed.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;enabling-read-replication\&quot;&gt;Enabling read replication&lt;/h2&gt;\n            &lt;a href=\&quot;#enabling-read-replication\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;To start using D1 read replication:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;Update your Worker to use the D1 Sessions API to tell D1 what queries are part of the same database session. The Sessions API works with databases that do not have read replication enabled as well, so it’s safe to ship this code even before you enable replicas. Here’s &lt;a href=\&quot;http://developers.cloudflare.com/d1/best-practices/read-replication/\&quot;&gt;&lt;u&gt;an example&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/d1/best-practices/read-replication/#enable-read-replication\&quot;&gt;&lt;u&gt;Enable replicas&lt;/u&gt;&lt;/a&gt; for your database via &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/workers/d1\&quot;&gt;&lt;u&gt;Cloudflare dashboard&lt;/u&gt;&lt;/a&gt; &amp;gt; Select D1 database &amp;gt; Settings.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;D1 read replication is built into D1, and you don’t pay extra storage or compute costs for replicas. You incur the exact same D1 usage with or without replicas, based on &lt;code&gt;rows_read&lt;/code&gt; and &lt;code&gt;rows_written&lt;/code&gt; by your queries. Unlike other traditional database systems with replication, you don’t have to manually create replicas, including where they run, or decide how to route requests between the primary database and read replicas. Cloudflare handles this when using the Sessions API while ensuring sequential consistency.&lt;/p&gt;&lt;p&gt;Since D1 read replication is in beta, we recommend trying D1 read replication on a non-production database first, and migrate to your production workloads after validating read replication works for your use case.&lt;/p&gt;&lt;p&gt;If you don’t have a D1 database and want to try out D1 read replication, &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/workers/d1/create\&quot;&gt;&lt;u&gt;create a test database&lt;/u&gt;&lt;/a&gt; in the Cloudflare dashboard.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;observing-your-replicas\&quot;&gt;Observing your replicas&lt;/h3&gt;\n            &lt;a href=\&quot;#observing-your-replicas\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Once you’ve enabled D1 read replication, read queries will start to be processed by replica database instances. The response of each query includes information in the nested &lt;code&gt;meta&lt;/code&gt; object relevant to read replication, like &lt;code&gt;served_by_region&lt;/code&gt; and &lt;code&gt;served_by_primary&lt;/code&gt;. The first denotes the region of the database instance that processed the query, and the latter will be &lt;code&gt;true&lt;/code&gt; if-and-only-if your query was processed by the primary database instance.&lt;/p&gt;&lt;p&gt;In addition, the &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/workers/d1/\&quot;&gt;&lt;u&gt;D1 dashboard overview&lt;/u&gt;&lt;/a&gt; for a database now includes information about the database instances handling your queries. You can see how many queries are handled by the primary instance or by a replica, and a breakdown of the queries processed by region. The example screenshots below show graphs displaying the number of queries executed  and number of rows read by each region.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1ChIlqQ5xgJfiftOHw9Egg/b583d00d22dcea60e7439dfbfa1761df/image10.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;859\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4Zze5y22759fOIYPOqrK1Y/6cd3c684006ca8234db20924cae8b960/image1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;857\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;under-the-hood-how-d1-read-replication-is-implemented\&quot;&gt;Under the hood: how D1 read replication is implemented&lt;/h2&gt;\n            &lt;a href=\&quot;#under-the-hood-how-d1-read-replication-is-implemented\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;D1 is implemented on top of SQLite-backed Durable Objects running on top of Cloudflare’s &lt;a href=\&quot;https://blog.cloudflare.com/sqlite-in-durable-objects/#under-the-hood-storage-relay-service\&quot;&gt;&lt;u&gt;Storage Relay Service&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3GWWL8goIzrGTmkH54O416/aabd47fcd94bfc73492556b19ac6069f/5.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;741\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;D1 is structured with a 3-layer architecture.  First is the binding API layer that runs in the customer’s Worker.  Next is a stateless Worker layer that routes requests based on database ID to a layer of Durable Objects that handle the actual SQL operations behind D1.  This is similar to how &lt;a href=\&quot;https://developers.cloudflare.com/durable-objects/what-are-durable-objects/#durable-objects-in-cloudflare\&quot;&gt;&lt;u&gt;most applications using Cloudflare Workers and Durable Objects are structured&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;For a non-replicated database, there is exactly one Durable Object per database.  When a user’s Worker makes a request with the D1 binding for the database, that request is first routed to a D1 Worker running in the same location as the user’s Worker.  The D1 Worker figures out which D1 Durable Object backs the user’s D1 database and fetches an RPC stub to that Durable Object.  The Durable Objects routing layer figures out where the Durable Object is located, and opens an RPC connection to it.  Finally, the D1 Durable Object then handles the query on behalf of the user’s Worker using the Durable Objects SQL API.&lt;/p&gt;&lt;p&gt;In the Durable Objects SQL API, all queries go to a SQLite database on the local disk of the server where the Durable Object is running.  Durable Objects run &lt;a href=\&quot;https://www.sqlite.org/wal.html\&quot;&gt;&lt;u&gt;SQLite in WAL mode&lt;/u&gt;&lt;/a&gt;.  In WAL mode, every write query appends to a write-ahead log (the WAL).  As SQLite appends entries to the end of the WAL file, a database-specific component called the Storage Relay Service &lt;i&gt;leader&lt;/i&gt; synchronously replicates the entries to 5 &lt;i&gt;durability followers&lt;/i&gt; on servers in different datacenters.  When a quorum (at least 3 out of 5) of the durability followers acknowledge that they have safely stored the data, the leader allows SQLite’s write queries to commit and opens the Durable Object’s output gate, so that the Durable Object can respond to requests.&lt;/p&gt;&lt;p&gt;Our implementation of WAL mode allows us to have a complete log of all of the committed changes to the database. This enables a couple of important features in SQLite-backed Durable Objects and D1:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;We identify each write with a &lt;a href=\&quot;https://en.wikipedia.org/wiki/Lamport_timestamp\&quot;&gt;&lt;u&gt;Lamport timestamp&lt;/u&gt;&lt;/a&gt; we call a &lt;a href=\&quot;https://developers.cloudflare.com/d1/reference/time-travel/#bookmarks\&quot;&gt;&lt;u&gt;bookmark&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;We construct databases anywhere in the world by downloading all of the WAL entries from cold storage and replaying each WAL entry in order.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;We implement &lt;a href=\&quot;https://developers.cloudflare.com/d1/reference/time-travel/\&quot;&gt;&lt;u&gt;Point-in-time recovery (PITR)&lt;/u&gt;&lt;/a&gt; by replaying WAL entries up to a specific bookmark rather than to the end of the log.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Unfortunately, having the main data structure of the database be a log is not ideal.  WAL entries are in write order, which is often neither convenient nor fast.  In order to cut down on the overheads of the log, SQLite &lt;i&gt;checkpoints&lt;/i&gt; the log by copying the WAL entries back into the main database file.  Read queries are serviced directly by SQLite using files on disk — either the main database file for checkpointed queries, or the WAL file for writes more recent than the last checkpoint.  Similarly, the Storage Relay Service snapshots the database to cold storage so that we can replay a database by downloading the most recent snapshot and replaying the WAL from there, rather than having to download an enormous number of individual WAL entries.&lt;/p&gt;&lt;p&gt;WAL mode is the foundation for implementing read replication, since we can stream writes to locations other than cold storage in real time.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/ezp8gcf3gXqkvumzufGfP/1a54fc6f434290968c7e695c2e5bb0c9/6.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1280\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;We implemented read replication in 5 major steps.&lt;/p&gt;&lt;p&gt;First, we made it possible to make replica Durable Objects with a read-only copy of the database.  These replica objects boot by fetching the latest snapshot and replaying the log from cold storage to whatever bookmark primary database’s leader last committed. This basically gave us point-in-time replicas, since without continuous updates, the replicas never updated until the Durable Object restarted.&lt;/p&gt;&lt;p&gt;Second, we registered the replica leader with the primary’s leader so that the primary leader sends the replicas every entry written to the WAL at the same time that it sends the WAL entries to the durability followers.  Each of the WAL entries is marked with a bookmark that uniquely identifies the WAL entry in the sequence of WAL entries.  We’ll use the bookmark later.&lt;/p&gt;&lt;p&gt;Note that since these writes are sent to the replicas &lt;i&gt;before&lt;/i&gt; a quorum of durability followers have confirmed them, the writes are actually unconfirmed writes, and the replica leader must be careful to keep the writes hidden from the replica Durable Object until they are confirmed.  The replica leader in the Storage Relay Service does this by implementing enough of SQLite’s &lt;a href=\&quot;https://www.sqlite.org/walformat.html#the_wal_index_file_format\&quot;&gt;&lt;u&gt;WAL-index protocol&lt;/u&gt;&lt;/a&gt;, so that the unconfirmed writes coming from the primary leader look to SQLite as though it’s just another SQLite client doing unconfirmed writes.  SQLite knows to ignore the writes until they are confirmed in the log.  The upshot of this is that the replica leader can write WAL entries to the SQLite WAL &lt;i&gt;immediately,&lt;/i&gt; and then “commit” them when the primary leader tells the replica that the entries have been confirmed by durability followers.&lt;/p&gt;&lt;p&gt;One neat thing about this approach is that writes are sent from the primary to the replica as quickly as they are generated by the primary, helping to minimize lag between replicas.  In theory, if the write query was proxied through a replica to the primary, the response back to the replica will arrive at almost the same time as the message that updates the replica.  In such a case, it looks like there’s no replica lag at all!&lt;/p&gt;&lt;p&gt;In practice, we find that replication is really fast.  Internally, we measure &lt;i&gt;confirm lag&lt;/i&gt;, defined as the time from when a primary confirms a change to when the replica confirms a change.  The table below shows the confirm lag for two D1 databases whose primaries are in different regions.&lt;/p&gt;&lt;div style=\&quot;margin-left:0pt;\&quot; dir=\&quot;ltr\&quot; align=\&quot;center\&quot;&gt;\n    &lt;figure class=\&quot;table\&quot;&gt;\n        &lt;table class=\&quot;ck-table-resized\&quot; style=\&quot;border-collapse:collapse;border-style:none;\&quot;&gt;\n            &lt;colgroup&gt;\n                &lt;col style=\&quot;width:33.33%;\&quot; width=\&quot;233\&quot;&gt;\n                &lt;col style=\&quot;width:33.33%;\&quot; width=\&quot;233\&quot;&gt;\n                &lt;col style=\&quot;width:33.34%;\&quot; width=\&quot;233\&quot;&gt;\n            &lt;/colgroup&gt;\n            &lt;tbody&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-bottom:2.25pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;br&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;Replica Region&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:2.25pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;Database A&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;(Primary region: ENAM)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:2.25pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;Database B&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;(Primary region: WNAM)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:2.25pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;ENAM&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:2.25pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;N/A&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:2.25pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;30 ms&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;WNAM&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;45 ms&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;N/A&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;WEUR&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;55 ms&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:0.5pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;75 ms&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr style=\&quot;height:0pt;\&quot;&gt;\n                    &lt;td style=\&quot;border-bottom:2.25pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;EEUR&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:2.25pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;67 ms&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\&quot;border-bottom:2.25pt solid #000000;border-top:0.5pt solid #000000;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\&quot;&gt;\n                        &lt;p style=\&quot;line-height:1.2;margin-bottom:0pt;margin-top:0pt;text-align:right;\&quot; dir=\&quot;ltr\&quot;&gt;&lt;span style=\&quot;background-color:transparent;color:#000000;font-family:Arial,sans-serif;\&quot;&gt;&lt;span style=\&quot;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\&quot;&gt;75 ms&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/figure&gt;\n&lt;/div&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Confirm lag for 2 replicated databases.  N/A means that we have no data for this combination.  The region abbreviations are the same ones used for &lt;/i&gt;&lt;/sup&gt;&lt;a href=\&quot;https://developers.cloudflare.com/durable-objects/reference/data-location/#supported-locations-1\&quot;&gt;&lt;sup&gt;&lt;i&gt;&lt;u&gt;Durable Object location hints&lt;/u&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt;&lt;sup&gt;&lt;i&gt;.&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;The table shows that confirm lag is correlated with the network round-trip time between the data centers hosting the primary databases and their replicas.  This is clearly visible in the difference between the confirm lag for the European replicas of the two databases.  As airline route planners know, EEUR is &lt;a href=\&quot;http://www.gcmap.com/mapui?P=ewr-lhr,+ewr-waw\&quot;&gt;&lt;u&gt;appreciably further away&lt;/u&gt;&lt;/a&gt; from ENAM than WEUR is, but from WNAM, both European regions (WEUR and EEUR) are &lt;a href=\&quot;http://www.gcmap.com/mapui?P=sjc-lhr,+sjc-waw\&quot;&gt;&lt;u&gt;about equally as far away&lt;/u&gt;&lt;/a&gt;.  We see that in our replication numbers.&lt;/p&gt;&lt;p&gt;The exact placement of the D1 database in the region matters too.  Regions like ENAM and WNAM are quite large in themselves.  Database A’s placement in ENAM happens to be further away from most data centers in WNAM compared to database B’s placement in WNAM relative to the ENAM data centers.  As such, database B sees slightly lower confirm lag.&lt;/p&gt;&lt;p&gt;Try as we might, we can’t beat the speed of light!&lt;/p&gt;&lt;p&gt;Third, we updated the Durable Object routing system to be aware of Durable Object replicas.  When read replication is enabled on a Durable Object, two things happen.  First, we create a set of replicas according to a replication policy.  The current replication policy that D1 uses is simple: a static set of replicas in &lt;a href=\&quot;https://developers.cloudflare.com/d1/configuration/data-location/#available-location-hints\&quot;&gt;&lt;u&gt;every region that D1 supports&lt;/u&gt;&lt;/a&gt;.  Second, we turn on a routing policy for the Durable Object.  The current policy that D1 uses is also simple: route to the Durable Object replica in the region close to where the user request is.  With this step, we have updateable read-only replicas, and can route requests to them!&lt;/p&gt;&lt;p&gt;Fourth, we updated D1’s Durable Object code to handle write queries on replicas. D1 uses SQLite to figure out whether a request is a write query or a read query.  This means that the determination of whether something is a read or write query happens &lt;i&gt;after&lt;/i&gt; the request is routed.  Read replicas will have to handle write requests!  We solve this by instantiating each replica D1 Durable Object with a reference to its primary.  If the D1 Durable Object determines that the query is a write query, it forwards the request to the primary for the primary to handle. This happens transparently, keeping the user code simple.&lt;/p&gt;&lt;p&gt;As of this fourth step, we can handle read and write queries at every copy of the D1 Durable Object, whether it&amp;#39;s a primary or not.  Unfortunately, as outlined above, if a user&amp;#39;s requests get routed to different read replicas, they may see different views of the database, leading to a very weak consistency model.  So the last step is to implement the Sessions API across the D1 Worker and D1 Durable Object.  Recall that every WAL entry is marked with a bookmark.  These bookmarks uniquely identify a point in (logical) time in the database.  Our bookmarks are strictly monotonically increasing; every write to a database makes a new bookmark with a value greater than any other bookmark for that database.&lt;/p&gt;&lt;p&gt;Using bookmarks, we implement the Sessions API with the following algorithm split across the D1 binding implementation, the D1 Worker, and D1 Durable Object.&lt;/p&gt;&lt;p&gt;First up in the D1 binding, we have code that creates the &lt;code&gt;D1DatabaseSession&lt;/code&gt; object and code within the &lt;code&gt;D1DatabaseSession&lt;/code&gt; object to keep track of the latest bookmark.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;// D1Binding is the binding code running within the user&amp;#039;s Worker\n// that provides the existing D1 Workers API and the new withSession method.\nclass D1Binding {\n  // Injected by the runtime to the D1 Binding.\n  d1Service: D1ServiceBinding\n\n  function withSession(initialBookmark) {\n    return D1DatabaseSession(this.d1Service, this.databaseId, initialBookmark);\n  }\n}\n\n// D1DatabaseSession holds metadata about the session, most importantly the\n// latest bookmark we know about for this session.\nclass D1DatabaseSession {\n  constructor(d1Service, databaseId, initialBookmark) {\n    this.d1Service = d1Service;\n    this.databaseId = databaseId;\n    this.bookmark = initialBookmark;\n  }\n\n  async exec(query) {\n    // The exec method in the binding sends the query to the D1 Worker\n    // and waits for the the response, updating the bookmark as\n    // necessary so that future calls to exec use the updated bookmark.\n    var resp = await this.d1Service.handleUserQuery(databaseId, query, bookmark);\n    if (isNewerBookmark(this.bookmark, resp.bookmark)) {\n      this.bookmark = resp.bookmark;\n    }\n    return resp;\n  }\n\n  // batch and other SQL APIs are implemented similarly.\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;The binding code calls into the D1 stateless Worker (&lt;code&gt;d1Service&lt;/code&gt; in the snippet above), which figures out which Durable Object to use, and proxies the request to the Durable Object.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;class D1Worker {\n  async handleUserQuery(databaseId, query) {\n    var doId = /* look up Durable Object for databaseId */;\n    return await this.D1_DO.get(doId).handleWorkerQuery(query, bookmark)\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Finally, we reach the Durable Objects layer, which figures out how to actually handle the request.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;class D1DurableObject {\n  async handleWorkerQuery(queries, bookmark) {\n    var bookmark = bookmark ?? &amp;quot;first-primary&amp;quot;;\n    var results = {};\n\n    if (this.isPrimaryDatabase()) {\n      // The primary always has the latest data so we can run the\n      // query without checking the bookmark.\n      var result = /* execute query directly */;\n      bookmark = getCurrentBookmark();\n      results = result;\n    } else {\n      // This is running on a replica.\n      if (bookmark === &amp;quot;first-primary&amp;quot; || isWriteQuery(query)) {\n        // The primary must handle this request, so we&amp;#039;ll proxy the\n        // request to the primary.\n        var resp = await this.primary.handleWorkerQuery(query, bookmark);\n        bookmark = resp.bookmark;\n        results = resp.results;\n      } else {\n        // The replica can handle this request, but only after the\n        // database is up-to-date with the bookmark.\n        if (bookmark !== &amp;quot;first-unconstrained&amp;quot;) {\n          await waitForBookmark(bookmark);\n        }\n        var result = /* execute query locally */;\n        bookmark = getCurrentBookmark();\n        results = result;\n      }\n    }\n    return { results: results, bookmark: bookmark };\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;The D1 Durable Object first figures out if this instance can handle the query, or if the query needs to be sent to the primary.  If the Durable Object can execute the query, it ensures that we execute the query with a bookmark at least as up-to-date as the bookmark requested by the binding.&lt;/p&gt;&lt;p&gt;The upshot is that the three pieces of code work together to ensure that all of the queries in the session see the database in a sequentially consistent order, because each new query will be blocked until it has seen the results of previous queries within the same session.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;conclusion\&quot;&gt;Conclusion&lt;/h2&gt;\n            &lt;a href=\&quot;#conclusion\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;D1’s new read replication feature is a significant step towards making globally distributed databases easier to use without sacrificing consistency. With automatically provisioned replicas in every region, your applications can now serve read queries faster while maintaining strong sequential consistency across requests, and keeping your application Worker code simple.&lt;/p&gt;&lt;p&gt;We’re excited for developers to explore this feature and see how it improves the performance of your applications. The public beta is just the beginning—we’re actively refining and expanding D1’s capabilities, including evolving replica placement policies, and your feedback will help shape what’s next.&lt;/p&gt;&lt;p&gt;Note that the Sessions API is only available through the &lt;a href=\&quot;https://developers.cloudflare.com/d1/worker-api/\&quot;&gt;&lt;u&gt;D1 Worker Binding&lt;/u&gt;&lt;/a&gt; for now, and support for the HTTP REST API will follow soon.&lt;/p&gt;&lt;p&gt;Try out D1 read replication today by clicking the “Deploy to Cloudflare&amp;quot; button, check out &lt;a href=\&quot;http://developers.cloudflare.com/d1/best-practices/read-replication/\&quot;&gt;&lt;u&gt;documentation and examples&lt;/u&gt;&lt;/a&gt;, and let us know what you build in the &lt;a href=\&quot;https://discord.com/channels/595317990191398933/992060581832032316\&quot;&gt;&lt;u&gt;D1 Discord channel&lt;/u&gt;&lt;/a&gt;!&lt;/p&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/templates/tree/main/d1-starter-sessions-api-template\&quot;&gt;&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;\n&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-10T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-12T18:03:02.136Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2SWdpbhtoHkEeBL0KLzmWn/d1e067d4eef463a5ecf3eb5daf8cbe02/image2.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;UKt2GEAUQsbObsNqZ3Pr7&quot;],&quot;name&quot;:[0,&quot;D1&quot;],&quot;slug&quot;:[0,&quot;d1&quot;]}],[0,{&quot;id&quot;:[0,&quot;2UVIYusJwlvsmPYl2AvSuR&quot;],&quot;name&quot;:[0,&quot;Deep Dive&quot;],&quot;slug&quot;:[0,&quot;deep-dive&quot;]}],[0,{&quot;id&quot;:[0,&quot;3RrKxQpSeoUVWXO1gT9jsU&quot;],&quot;name&quot;:[0,&quot;Edge Database&quot;],&quot;slug&quot;:[0,&quot;edge-database&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;1pPf2NNj9SXrC0A0ERKp9v&quot;],&quot;name&quot;:[0,&quot;SQL&quot;],&quot;slug&quot;:[0,&quot;sql&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Justin Mazzola Paluska&quot;],&quot;slug&quot;:[0,&quot;justin-mazzola-paluska&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/kWY2RGoxbmCclJWHvUydC/527ed544883a38459996e2c89a33147d/justin-mazzola-paluska.png&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Lambros Petrou&quot;],&quot;slug&quot;:[0,&quot;lambros-petrou&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/63Ww3YmwYCAZwWWCuoJOYT/cce31b0d7c22067b39840727892cd7f2/Lambros_Petrou.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;D1, Cloudflare’s managed SQL database, announces read replication beta. In this post, we do a technical deep dive of the read replication implementation and how your queries can remain consistent across all regions.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/d1-read-replication-beta&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Sequential consistency without borders: How D1 implements global read replication&quot;],&quot;description&quot;:[0,&quot;D1, Cloudflare’s managed SQL database, announces read replication beta. In this post, we do a technical deep dive of the read replication implementation and how your queries can remain consistent across all regions.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4quATrNSJ5R7dmiEUIgFfS/6e82e75b37b8b3d53a55027a3bee58a1/OG_Share_2024__43_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;7rKz4iUFCDuhtjGXVbgFzl&quot;],&quot;title&quot;:[0,&quot;Just landed: streaming ingestion on Cloudflare with Arroyo and Pipelines&quot;],&quot;slug&quot;:[0,&quot;cloudflare-acquires-arroyo-pipelines-streaming-ingestion-beta&quot;],&quot;excerpt&quot;:[0,&quot;We’ve just shipped our new streaming ingestion service, Pipelines — and we’ve acquired Arroyo, enabling us to bring new SQL-based, stateful transformations to Pipelines and R2.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;Today, we’re launching the open beta of Pipelines, our streaming ingestion product. Pipelines allows you to ingest high volumes of structured, real-time data, and load it into our &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;u&gt;object storage service, R2&lt;/u&gt;&lt;/a&gt;. You don’t have to manage any of the underlying infrastructure, worry about scaling shards or metadata services, and you pay for the data processed (and not by the hour). Anyone on a Workers paid plan can start using it to ingest and batch data — at tens of thousands of requests per second (RPS) — directly into R2.&lt;/p&gt;&lt;p&gt;But this is just the tip of the iceberg: you often want to transform the data you’re ingesting, hydrate it on-the-fly from other sources, and write it to an open table format (such as Apache Iceberg), so that you can efficiently query that data once you’ve landed it in object storage.&lt;/p&gt;&lt;p&gt;The good news is that we’ve thought about that too, and we’re excited to announce that we’ve acquired &lt;a href=\&quot;https://www.arroyo.dev/\&quot;&gt;&lt;u&gt;Arroyo&lt;/u&gt;&lt;/a&gt;, a cloud-native, distributed stream processing engine, to make that happen.&lt;/p&gt;&lt;p&gt;With Arroyo &lt;i&gt;and &lt;/i&gt;our just announced &lt;a href=\&quot;https://blog.cloudflare.com/r2-data-catalog-public-beta/\&quot;&gt;R2 Data Catalog&lt;/a&gt;, we’re getting increasingly serious about building a data platform that allows you to ingest data across the planet, store it at scale, and &lt;i&gt;run compute over it&lt;/i&gt;. &lt;/p&gt;&lt;p&gt;To get started, you can dive into the &lt;a href=\&quot;http://developers.cloudflare.com/pipelines/\&quot;&gt;&lt;u&gt;Pipelines developer docs&lt;/u&gt;&lt;/a&gt; or just run this &lt;a href=\&quot;https://developers.cloudflare.com/workers/wrangler/\&quot;&gt;&lt;u&gt;Wrangler&lt;/u&gt;&lt;/a&gt; command to create your first pipeline:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;$ npx wrangler@latest pipelines create my-clickstream-pipeline --r2-bucket my-bucket\n\n...\n✅ Successfully created Pipeline my-clickstream-pipeline with ID 0e00c5ff09b34d018152af98d06f5a1xv&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;… and then write your first record(s):&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;$ curl -d &amp;#039;[{&amp;quot;payload&amp;quot;: [],&amp;quot;id&amp;quot;:&amp;quot;abc-def&amp;quot;}]&amp;#039; \n&amp;quot;https://0e00c5ff09b34d018152af98d06f5a1xvc.pipelines.cloudflarestorage.com/&amp;quot;&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;However, the true power comes from the processing of data streams between ingestion and when they’re written to sinks like R2. Being able to write SQL that acts on windows of data &lt;i&gt;as it’s being ingested&lt;/i&gt;, that can transform &amp;amp; aggregate it, and even extract insights from the data in real-time, turns out to be extremely powerful.&lt;/p&gt;&lt;p&gt;This is where Arroyo comes in, and we’re going to be bringing the best parts of Arroyo into Pipelines and deeply integrate it with Workers, R2, and the rest of our Developer Platform.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;the-arroyo-origin-story\&quot;&gt;The Arroyo origin story &lt;/h2&gt;\n            &lt;a href=\&quot;#the-arroyo-origin-story\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;&lt;i&gt;(By Micah Wylde, founder of Arroyo)&lt;/i&gt;&lt;/p&gt;&lt;p&gt;We started Arroyo in 2023 to bring real-time (&lt;i&gt;stream&lt;/i&gt;) processing to everyone who works with data. Modern companies rely on data pipelines to power their applications and businesses — from user customization, recommendations, and anti-fraud, to the emerging world of AI agents.&lt;/p&gt;&lt;p&gt;But today, most of these pipelines operate in batch, running once per hour, day, or even month. After spending many years working on stream processing at companies like Lyft and Splunk, it was no mystery why: it was just too hard for developers and data scientists to build correct, performant, and reliable pipelines. Large tech companies hire streaming experts to build and operate these systems, but everyone else is stuck waiting for batches to arrive. &lt;/p&gt;&lt;p&gt;When we started, the dominant solution for streaming pipelines — and what we ran at Lyft and Splunk — was Apache Flink. Flink was the first system that successfully combined a fault-tolerant (able to recover consistently from failures), distributed (across multiple machines), stateful (and remember data about past events) dataflow with a graph-construction API. This combination of features meant that we could finally build powerful real-time data applications, with capabilities like windows, aggregations, and joins. But while Flink had the necessary power, in practice the API proved too hard and low-level for non-expert users, and the stateful nature of the resulting services required endless operations.&lt;/p&gt;&lt;p&gt;We realized we would need to build a new streaming engine — one with the power of Flink, but designed for product engineers and data scientists and to run on modern cloud infrastructure. We started with SQL as our API because it’s easy to use, widely known, and declarative. We built it in Rust for speed and operational simplicity (no JVM tuning required!). We constructed an object-storage-native state backend, simplifying the challenge of running stateful pipelines — which each are like a weird, specialized database. And then in the summer of 2023, we open-sourced it. Today, dozens of companies are running Arroyo pipelines with use cases including data ingestion, anti-fraud, IoT observability, and financial trading. &lt;/p&gt;&lt;p&gt;But we always knew that the engine was just one piece of the puzzle. To make streaming as easy as batch, users need to be able to develop and test query logic, backfill on historical data, and deploy serverlessly without having to worry about cluster sizing or ongoing operations. Democratizing streaming ultimately meant building a complete data platform. And when we started talking with Cloudflare, we realized they already had all of the pieces in place: R2 provides object storage for state and data at rest, Cloudflare &lt;a href=\&quot;https://developers.cloudflare.com/queues/\&quot;&gt;&lt;u&gt;Queues&lt;/u&gt;&lt;/a&gt; for data in transit, and Workers to safely and efficiently run user code. And Cloudflare, uniquely, allows us to push these systems all the way to the edge, enabling a new paradigm of local stream processing that will be key for a future of data sovereignty and AI.&lt;/p&gt;&lt;p&gt;That’s why we’re incredibly excited to join with the Cloudflare team to make this vision a reality.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;ingestion-at-scale\&quot;&gt;Ingestion at scale&lt;/h2&gt;\n            &lt;a href=\&quot;#ingestion-at-scale\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;While transformations and a streaming SQL API are on the way for Pipelines, it already solves two critical parts of the data journey: globally distributed, high-throughput ingestion and efficient loading into object storage. &lt;/p&gt;&lt;p&gt;Creating a pipeline is as simple as running one command: &lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;$ npx wrangler@latest pipelines create my-clickstream-pipeline --r2-bucket my-bucket\n\n🌀 Creating pipeline named &amp;quot;my-clickstream-pipeline&amp;quot;\n✅ Successfully created pipeline my-clickstream-pipeline with ID \n0e00c5ff09b34d018152af98d06f5a1xvc\n\nId:    0e00c5ff09b34d018152af98d06f5a1xvc\nName:  my-clickstream-pipeline\nSources:\n  HTTP:\n    Endpoint:        https://0e00c5ff09b34d018152af98d06f5a1xvc.pipelines.cloudflare.com/\n    Authentication:  off\n    Format:          JSON\n  Worker:\n    Format:  JSON\nDestination:\n  Type:         R2\n  Bucket:       my-bucket\n  Format:       newline-delimited JSON\n  Compression:  GZIP\nBatch hints:\n  Max bytes:     100 MB\n  Max duration:  300 seconds\n  Max records:   100,000\n\n🎉 You can now send data to your pipeline!\n\nSend data to your pipeline&amp;#039;s HTTP endpoint:\ncurl &amp;quot;https://0e00c5ff09b34d018152af98d06f5a1xvc.pipelines.cloudflare.com/&amp;quot; -d &amp;#039;[{ ...JSON_DATA... }]&amp;#039;&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;By default, a pipeline can ingest data from two sources – Workers and an HTTP endpoint – and load batched events into an R2 bucket. This gives you an out-of-the-box solution for streaming raw event data into object storage. If the defaults don’t work, you can configure pipelines during creation or anytime after. Options include: adding authentication to the HTTP endpoint, configuring CORS to allow browsers to make cross-origin requests, and specifying output file compression and batch settings.&lt;/p&gt;&lt;p&gt;We’ve built Pipelines for high ingestion volumes from day 1. Each pipeline can scale to ~100,000 records per second (and we’re just getting started here). Once records are written to a Pipeline, they are then durably stored, batched, and written out as files in an R2 bucket. Batching is critical here: if you’re going to act on and query that data, you don’t want your query engine querying millions (or tens of millions) of tiny files. It’s slow (per-file &amp;amp; request overheads), inefficient (more files to read), and costly (more operations). Instead, you want to find the right balance between batch size for your query engine and latency (not waiting too long for a batch): Pipelines allows you to configure this.&lt;/p&gt;&lt;p&gt;To further optimize queries, output files are partitioned by date and time, using the standard Hive partitioning scheme. This can optimize queries even further, because your query engine can just skip data that is irrelevant to the query you’re running. The output in your R2 bucket might look like this:&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7q63u2kRoYBAZJtgfcF874/2a7341e1cba6e371e0eed311e89fec6a/image1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;650\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Hive-partioned files from Pipelines in an R2 bucket&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;Output files are stored as new-line delimited JSON (NDJSON) — which makes it easy to materialize a stream from these files (hint: in the future you’ll be able to use R2 as a pipeline source too). Finally, the file names are &lt;a href=\&quot;https://github.com/ulid/spec\&quot;&gt;&lt;u&gt;ULIDs&lt;/u&gt;&lt;/a&gt; - so they’re sorted by time by default.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;first-you-shard-then-you-shard-some-more\&quot;&gt;First you shard, then you shard some more&lt;/h2&gt;\n            &lt;a href=\&quot;#first-you-shard-then-you-shard-some-more\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;What makes Pipelines so horizontally scalable &lt;i&gt;and&lt;/i&gt; able to acknowledge writes quickly is how we built it: we use Durable Objects and the &lt;a href=\&quot;https://blog.cloudflare.com/sqlite-in-durable-objects/\&quot;&gt;&lt;u&gt;embedded, zero-latency SQLite&lt;/u&gt;&lt;/a&gt; storage within each Durable Object to immediately persist data as it’s written, before then processing it and writing it to R2.&lt;/p&gt;&lt;p&gt;For example: imagine you’re an e-commerce or SaaS site and need to ingest website usage data (known as &lt;i&gt;clickstream data&lt;/i&gt;), and make it available to your data science team to query. The infrastructure which handles this workload has to be resilient to several failure scenarios. The ingestion service needs to maintain high availability in the face of bursts in traffic. Once ingested, the data needs to be buffered, to minimize downstream invocations and thus downstream cost. Finally, the buffered data needs to be delivered to a sink, with appropriate retry &amp;amp; failure handling if the sink is unavailable. Each step of this process needs to signal backpressure upstream when overloaded. It also needs to scale: up during major sales or events, and down during the quieter periods of the day.&lt;/p&gt;&lt;p&gt;Data engineers reading this post might be familiar with the status quo of using Kafka and the associated ecosystem to handle this. But if you’re an application engineer: you use Pipelines to build an ingestion service &lt;i&gt;without &lt;/i&gt;learning about Kafka, Zookeeper, and Kafka streams.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/eRIUocbyvY2oHwEK34pzE/e2ef72b2858c02e890446cfd34accb45/image3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;860\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Pipelines horizontal sharding&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;The diagram above shows how Pipelines splits the control plane, which is responsible for accounting, tracking shards, and Pipelines lifecycle events, and the data path, which is a scalable group of Durable Objects shards.&lt;/p&gt;&lt;p&gt;When a record (or batch of records) is written to Pipelines:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;The Pipelines Worker receives the records either through the fetch handler or worker binding.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Contacts the Coordinator, based upon the &lt;code&gt;pipeline_id&lt;/code&gt; to get the execution plan: subsequent reads are cached to reduce pressure on the coordinator.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Executes the plan, which first shards to a set of Executors, while are primarily serving to scale read request handling&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;These then re-shard to another set of executors that are actually handling the writes, beginning with persisting to Durable Object storage, which will be replicated for durability and availability by the &lt;a href=\&quot;https://blog.cloudflare.com/sqlite-in-durable-objects/#under-the-hood-storage-relay-service\&quot;&gt;&lt;u&gt;Storage Relay Service&lt;/u&gt;&lt;/a&gt; (SRS). &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;After SRS, we pass to any configured Transform Workers to customize the data.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;The data is batched, written to output files, and compressed (if applicable).&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;The files are compressed, data is packaged into the final batches, and written to the configured R2 bucket.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Each step of this pipeline can signal backpressure upstream. We do this by leveraging &lt;a href=\&quot;https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\&quot;&gt;&lt;u&gt;ReadableStreams&lt;/u&gt;&lt;/a&gt; and responding with &lt;a href=\&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/429\&quot;&gt;&lt;u&gt;429s&lt;/u&gt;&lt;/a&gt; when the total number of bytes awaiting write exceeds a threshold. Each ReadableStream is able to cross Durable Object boundaries by using &lt;a href=\&quot;https://developers.cloudflare.com/workers/runtime-apis/rpc/\&quot;&gt;&lt;u&gt;JSRPC&lt;/u&gt;&lt;/a&gt; calls between Durable Objects. To improve performance, we use RPC stubs for connection reuse between Durable Objects. Each step is also able to retry operations, to handle any temporary unavailability in the Durable Objects or R2.&lt;/p&gt;&lt;p&gt;We also guarantee delivery even while updating an existing pipeline. When you update an existing pipeline, we create a new deployment, including all the shards and Durable Objects described above. Requests are gracefully re-routed to the new pipeline. The old pipeline continues to write data into R2, until all the Durable Object storage is drained. We spin down the old pipeline only after all the data has been written out. This way, you won’t lose data even while updating a pipeline.&lt;/p&gt;&lt;p&gt;You’ll notice there’s one interesting part in here — the Transform Workers — which we haven’t yet exposed. As we work to integrate Arroyo’s streaming engine with Pipelines, this will be a key part of how we hand over data for Arroyo to process.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;so-whats-it-cost\&quot;&gt;So, what’s it cost?&lt;/h2&gt;\n            &lt;a href=\&quot;#so-whats-it-cost\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;During the first phase of the open beta, there will be no additional charges beyond standard R2 storage and operation costs incurred when loading and accessing data. And as always, egress directly from R2 buckets is free, so you can process and query your data from any cloud or region without worrying about data transfer costs adding up.&lt;/p&gt;&lt;p&gt;In the future, we plan to introduce pricing based on volume of data ingested into Pipelines and delivered from Pipelines:&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;\n&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Workers Paid ($5 / month)&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Ingestion&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;First 50 GB per month included&lt;/p&gt;&lt;p&gt;\\$0.02 per additional GB&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Delivery to R2&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;First 50 GB per month included&lt;/p&gt;&lt;p&gt;\\$0.02 per additional GB&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;We’re also planning to make Pipelines available on the Workers Free plan as the beta progresses.&lt;/p&gt;&lt;p&gt;We’ll be sharing more as we bring transformations and additional sinks to Pipelines. We’ll provide at least 30 days notice before we make any changes or start charging for usage, which we expect to do by September 15, 2025.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;whats-next\&quot;&gt;What’s next?&lt;/h2&gt;\n            &lt;a href=\&quot;#whats-next\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;There’s a lot to build here, and we’re keen to build on a lot of the powerful components that Arroyo has built: integrating Workers as UDFs (User-Defined Functions), adding new sources like Kafka clients, and extending Pipelines with new sinks (beyond R2).&lt;/p&gt;&lt;p&gt;We’ll also be integrating Pipelines with our just-launched &lt;a href=\&quot;https://blog.cloudflare.com/r2-data-catalog-public-beta/\&quot;&gt;R2 Data Catalog&lt;/a&gt;: enabling you ingest streams of data directly into Iceberg tables and immediately query them, without needing to rely on other systems.&lt;/p&gt;&lt;p&gt;In the meantime, you can:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Get started and &lt;a href=\&quot;http://developers.cloudflare.com/pipelines/getting-started/\&quot;&gt;&lt;u&gt;create your first Pipeline&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;http://developers.cloudflare.com/pipelines/\&quot;&gt;&lt;u&gt;Read the docs&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Join the &lt;code&gt;#pipelines-beta&lt;/code&gt; channel on &lt;a href=\&quot;http://discord.cloudflare.com/\&quot;&gt;&lt;u&gt;our Developer Discord&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;… or deploy the example project directly: &lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;$ npm create cloudflare@latest -- pipelines-starter \n--template=&amp;quot;cloudflare/pipelines-starter&amp;quot;&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-10T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-16T05:12:54.456Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4vpFmGVqolJDm5PbgMWd2z/6f664899bc3f26019deee5805008612d/Feature_Image.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;419aJYheeNglKZlN8yunB6&quot;],&quot;name&quot;:[0,&quot;R2&quot;],&quot;slug&quot;:[0,&quot;r2&quot;]}],[0,{&quot;id&quot;:[0,&quot;rAzWWCaCTfDAWxajmI0Pg&quot;],&quot;name&quot;:[0,&quot;Pipelines&quot;],&quot;slug&quot;:[0,&quot;pipelines&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Micah Wylde&quot;],&quot;slug&quot;:[0,&quot;micah-wylde&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6dNAJz7jGVVrLShwntRHpG/feab4139273bebe024bbfd0db44e7c89/Micah_Wylde.jpeg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Matt Silverlock&quot;],&quot;slug&quot;:[0,&quot;silverlock&quot;],&quot;bio&quot;:[0,&quot;Director of Product at Cloudflare.&quot;],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7xP5qePZD9eyVtwIesXYxh/e714aaa573161ec9eb48d59bd1aa6225/silverlock.jpeg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@elithrar&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Pranshu Maheshwari&quot;],&quot;slug&quot;:[0,&quot;pranshu-maheshwari&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/uvyJ2RWjiLA25kglsiQBv/06acca0147686d8c076ff771cc923a57/IMG_7400.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;We’ve just shipped our new streaming ingestion service, Pipelines — and we’ve acquired Arroyo, enabling us to bring new SQL-based, stateful transformations to Pipelines and R2.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/cloudflare-acquires-arroyo-pipelines-streaming-ingestion-beta&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Just landed: streaming ingestion on Cloudflare with Arroyo and Pipelines&quot;],&quot;description&quot;:[0,&quot;We’ve just shipped our new streaming ingestion service, Pipelines — and we’ve acquired Arroyo, enabling us to bring new SQL-based, stateful transformations to Pipelines and R2.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3jCB0RnUYOihb1Uqcsx7n3/d1d611c4039f709d82d87fa4e3f86b4e/OG_Share_2024__38_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;3YedZXQKWaCm2jUQPvAeQv&quot;],&quot;title&quot;:[0,&quot;Pools across the sea: how Hyperdrive speeds up access to databases and why we’re making it free&quot;],&quot;slug&quot;:[0,&quot;how-hyperdrive-speeds-up-database-access&quot;],&quot;excerpt&quot;:[0,&quot;Hyperdrive, Cloudflare&#39;s global connection pooler, relies on some key innovations to make your database connections work. Let&#39;s dive deeper, in celebration of its availability for Free Plan customers.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;free-as-in-beer\&quot;&gt;Free as in beer&lt;/h2&gt;\n            &lt;a href=\&quot;#free-as-in-beer\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;In acknowledgement of its pivotal role in building distributed applications that rely on regional databases, we’re making Hyperdrive available on the free plan of Cloudflare Workers!&lt;/p&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/hyperdrive/\&quot;&gt;&lt;u&gt;Hyperdrive&lt;/u&gt;&lt;/a&gt; enables you to build performant, global apps on Workers with &lt;a href=\&quot;https://developers.cloudflare.com/hyperdrive/examples/\&quot;&gt;&lt;u&gt;your existing SQL databases&lt;/u&gt;&lt;/a&gt;. Tell it your database connection string, bring your existing drivers, and Hyperdrive will make connecting to your database faster. No major &lt;a href=\&quot;https://www.cloudflare.com/learning/cloud/how-to-refactor-applications/\&quot;&gt;refactors&lt;/a&gt; or convoluted configuration required.&lt;/p&gt;&lt;p&gt;Over the past year, Hyperdrive has become a key service for teams that want to build their applications on Workers and connect to SQL databases. This includes our own engineering teams, with Hyperdrive serving as the tool of choice to connect from Workers to our own Postgres clusters for many of the control-plane actions of our billing, &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/d1/\&quot;&gt;&lt;u&gt;D1&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/r2/\&quot;&gt;&lt;u&gt;R2&lt;/u&gt;&lt;/a&gt;, and &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/workers-kv/\&quot;&gt;&lt;u&gt;Workers KV&lt;/u&gt;&lt;/a&gt; teams (just to name a few). &lt;/p&gt;&lt;p&gt;This has highlighted for us that Hyperdrive is a fundamental building block, and it solves a common class of problems for which there isn’t a great alternative. We want to make it possible for everyone building on Workers to connect to their database of choice with the best performance possible, using the drivers and frameworks they already know and love.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;performance-is-a-feature\&quot;&gt;Performance is a feature&lt;/h3&gt;\n            &lt;a href=\&quot;#performance-is-a-feature\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;To illustrate how much Hyperdrive can improve your application’s performance, let’s write the world’s simplest benchmark. This is obviously not production code, but is meant to be reflective of a common application you’d bring to the Workers platform. We’re going to use a simple table, a very popular OSS driver (&lt;a href=\&quot;https://github.com/porsager/postgres\&quot;&gt;&lt;u&gt;postgres.js&lt;/u&gt;&lt;/a&gt;), and run a standard OLTP workload from a Worker. We’re going to keep our origin database in London, and query it from Chicago (those locations will come back up later, so keep them in mind).&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;// This is the test table we&amp;#039;re using\n// CREATE TABLE IF NOT EXISTS test_data(userId bigint, userText text, isActive bool);\n\nimport postgres from &amp;#039;postgres&amp;#039;;\n\nlet direct_conn = &amp;#039;&amp;lt;direct connection string here!&amp;gt;&amp;#039;;\nlet hyperdrive_conn = env.HYPERDRIVE.connectionString;\n\nasync function measureLatency(connString: string) {\n\tlet beginTime = Date.now();\n\tlet sql = postgres(connString);\n\n\tawait sql`INSERT INTO test_data VALUES (${999}, &amp;#039;lorem_ipsum&amp;#039;, ${true})`;\n\tawait sql`SELECT userId, userText, isActive FROM test_data WHERE userId = ${999}`;\n\n\tlet latency = Date.now() - beginTime;\n\tctx.waitUntil(sql.end());\n\treturn latency;\n}\n\nlet directLatency = await measureLatency(direct_conn);\nlet hyperdriveLatency = await measureLatency(hyperdrive_conn);&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;The code above&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;Takes a standard database connection string, and uses it to create a database connection.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Loads a user record into the database.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Queries all records for that user.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Measures how long this takes to do with a direct connection, and with Hyperdrive.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;When connecting directly to the origin database, this set of queries takes an average of 1200 ms. With absolutely no other changes, just swapping out the connection string for &lt;code&gt;env.HYPERDRIVE.connectionString&lt;/code&gt;, this number is cut down to 500 ms (an almost 60% reduction). If you enable Hyperdrive’s caching, so that the SELECT query is served from cache, this takes only 320 ms. With this one-line change, Hyperdrive will reduce the latency of this Worker by almost 75%! In addition to this speedup, you also get secure auth and transport, as well as a connection pool to help protect your database from being overwhelmed when your usage scales up. See it for yourself using our &lt;a href=\&quot;https://hyperdrive-demo.pages.dev/\&quot;&gt;&lt;u&gt;demo application&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6TTbEV9d7NClGk0iRmkEG3/4d5e4fdeb195337a92942bc7e13dbb6f/image7.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1165\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;A demo application comparing latencies between Hyperdrive and direct-to-database connections.&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;Traditional SQL databases are familiar and powerful, but they are designed to be colocated with long-running compute. They were not conceived in the era of modern serverless applications, and have connection models that don&amp;#39;t take the constraints of such an environment into account. Instead, they require highly stateful connections that do not play well with Workers’ global and stateless model. Hyperdrive solves this problem by maintaining database connections across Cloudflare’s network ready to be used at a moment’s notice, caching your queries for fast access, and eliminating round trips to minimize network latency.&lt;/p&gt;&lt;p&gt;With this announcement, many developers are going to be taking a look at Hyperdrive for the first time over the coming weeks and months. To help people dive in and try it out, we think it’s time to talk about how Hyperdrive actually works.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;staying-warm-in-the-pool\&quot;&gt;Staying warm in the pool&lt;/h2&gt;\n            &lt;a href=\&quot;#staying-warm-in-the-pool\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Let’s talk a bit about database connection poolers, how they work, and what problems they already solve. They are &lt;a href=\&quot;https://github.com/pgbouncer/pgbouncer/commit/a0d2b294e0270f8a246e5b98f0700716c0672b0d\&quot;&gt;&lt;u&gt;hardly a new technology&lt;/u&gt;&lt;/a&gt;, after all. &lt;/p&gt;&lt;p&gt;The point of any connection pooler, Hyperdrive or others, is to minimize the overhead of establishing and coordinating database connections. Every new database connection requires additional &lt;a href=\&quot;https://blog.anarazel.de/2020/10/07/measuring-the-memory-overhead-of-a-postgres-connection/\&quot;&gt;&lt;u&gt;memory&lt;/u&gt;&lt;/a&gt; and CPU time from the database server, and this can only scale just so well as the number of concurrent connections climbs. So the question becomes, how should database connections be shared across clients? &lt;/p&gt;&lt;p&gt;There are three &lt;a href=\&quot;https://www.pgbouncer.org/features.html\&quot;&gt;&lt;u&gt;commonly-used approaches&lt;/u&gt;&lt;/a&gt; for doing so. These are:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Session mode:&lt;/b&gt; whenever a client connects, it is assigned a connection of its own until it disconnects. This dramatically reduces the available concurrency, in exchange for much simpler implementation and a broader selection of supported features&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Transaction mode:&lt;/b&gt; when a client is ready to send a query or open a transaction, it is assigned a connection on which to do so. This connection will be returned to the pool when the query or transaction concludes. Subsequent queries during the same client session may (or may not) be assigned a different connection.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Statement mode:&lt;/b&gt; Like transaction mode, but a connection is given out and returned for each statement. Multi-statement transactions are disallowed.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;When building Hyperdrive, we had to decide which of these modes we wanted to use. Each of the approaches implies some &lt;a href=\&quot;https://jpcamara.com/2023/04/12/pgbouncer-is-useful.html\&quot;&gt;&lt;u&gt;fairly serious tradeoffs&lt;/u&gt;&lt;/a&gt;, so what’s the right choice? For a service intended to make using a database from Workers as pleasant as possible we went with the choice that balances features and performance, and designed Hyperdrive as a transaction-mode pooler. This best serves the goals of supporting a large number of short-lived clients (and therefore very high concurrency), while still supporting the transactional semantics that cause so many people to reach for an RDBMS in the first place.&lt;/p&gt;&lt;p&gt;In terms of this part of its design, Hyperdrive takes its cues from many pre-existing popular connection poolers, and manages operations to allow our users to focus on designing their full-stack applications. There is a configured limit to the number of connections the pool will give out, limits to how long a connection will be held idle until it is allowed to drop and return resources to the database, bookkeeping around &lt;a href=\&quot;https://blog.cloudflare.com/elephants-in-tunnels-how-hyperdrive-connects-to-databases-inside-your-vpc-networks/\&quot;&gt;&lt;u&gt;prepared statements&lt;/u&gt;&lt;/a&gt; being shared across pooled connections, and other traditional concerns of the management of these resources to help ensure the origin database is able to run smoothly. These are all described in &lt;a href=\&quot;https://developers.cloudflare.com/hyperdrive/platform/limits/\&quot;&gt;&lt;u&gt;our documentation&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;round-and-round-we-go\&quot;&gt;Round and round we go&lt;/h2&gt;\n            &lt;a href=\&quot;#round-and-round-we-go\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Ok, so why build Hyperdrive then? Other poolers that solve these problems already exist — couldn’t developers using Workers just run one of those and call it a day? It turns out that connecting to regional poolers from Workers has the same major downside as connecting to regional databases: network latency and round trips.&lt;/p&gt;&lt;p&gt;Establishing a connection, whether to a database or a pool, requires many exchanges between the client and server. While this is true for all fully-fledged client-server databases (e.g. &lt;a href=\&quot;https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_connection_phase.html\&quot;&gt;&lt;u&gt;MySQL&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://github.com/mongodb/specifications/blob/master/source/auth/auth.md\&quot;&gt;&lt;u&gt;MongoDB&lt;/u&gt;&lt;/a&gt;), we are going to focus on the &lt;a href=\&quot;https://www.postgresql.org/docs/current/protocol-flow.html#PROTOCOL-FLOW-START-UP\&quot;&gt;&lt;u&gt;PostgreSQL&lt;/u&gt;&lt;/a&gt; connection protocol flow in this post. As we work through all of the steps involved, what we most want to keep track of is how many round trips it takes to accomplish. Note that we’re mostly concerned about having to wait around while these happen, so “half” round trips such as in the first diagram are not counted. This is because we can send off the message and then proceed without waiting.&lt;/p&gt;&lt;p&gt;The first step to establishing a connection between Postgres client and server is very familiar ground to anyone who’s worked much with networks: &lt;a href=\&quot;https://www.cloudflare.com/learning/ddos/glossary/tcp-ip/\&quot;&gt;&lt;u&gt;a TCP startup handshake&lt;/u&gt;&lt;/a&gt;. Postgres uses TCP for its underlying transport, and so we must have that connection before anything else can happen on top of it.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/58qrxBsbOXbFCFBzkZFIff/19caf62d24cdbf9c4ad69bfd8286e022/image5.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;732\&quot; height=\&quot;346\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;With our transport layer in place, the next step is to &lt;a href=\&quot;https://www.postgresql.org/docs/current/protocol-flow.html#PROTOCOL-FLOW-SSL\&quot;&gt;&lt;u&gt;encrypt&lt;/u&gt;&lt;/a&gt; the connection. The &lt;a href=\&quot;https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/\&quot;&gt;&lt;u&gt;TLS Handshake&lt;/u&gt;&lt;/a&gt; involves some back-and-forth in its own right, though this has been reduced to just one round trip for TLS 1.3. Below is the simplest and fastest version of this exchange, but there are certainly scenarios where it can be much more complex.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5q7fVVQkB9Q43X3eaE76GP/b69c0ce964df370bd0609242f8e3de0c/image4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;732\&quot; height=\&quot;428\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;After the underlying transport is established and secured, the application-level traffic can actually start! However, we’re not quite ready for queries, the client still needs to authenticate to a specific user and database. Again, there are multiple supported approaches that offer varying levels of speed and security. To make this comparison as fair as possible, we’re again going to consider the version that offers the fastest startup (password-based authentication).&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7KU6NHgZAW95nQyobo9Zwn/5f61d6e9ab6233186c865a9093a7f352/image8.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;732\&quot; height=\&quot;388\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;So, for those keeping score, establishing a new connection to your database takes a bare minimum of 5 round trips, and can very quickly climb from there. &lt;/p&gt;&lt;p&gt;While the latency of any given network round trip is going to vary based on so many factors that “it depends” is the only meaningful measurement available, some quick benchmarking during the writing of this post shows ~125 ms from Chicago to London. Now multiply that number by 5 round trips and the problem becomes evident: 625 ms to start up a connection is not viable in a distributed serverless environment. So how does Hyperdrive solve it? What if I told you the trick is that we do it all twice? To understand Hyperdrive’s secret sauce, we need to dive into Hyperdrive’s architecture.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/291ua8XgVnowWDOfEm05eR/a2674a9a393fcaaef8e2cfe64dd57402/image1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1227\&quot; height=\&quot;615\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;impersonating-a-database-server\&quot;&gt;Impersonating a database server&lt;/h2&gt;\n            &lt;a href=\&quot;#impersonating-a-database-server\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;The rest of this post is a deep dive into answering the question of how Hyperdrive does what it does. To give the clearest picture, we’re going to talk about some internal subsystems by name. To help keep everything straight, let’s start with a short glossary that you can refer back to if needed. These descriptions may not make sense yet, but they will by the end of the article.\n&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Hyperdrive subsystem name&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Brief description&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;Client&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Lives on the same server as your Worker, talks directly to your database driver. This caches query results and sends queries to Endpoint if needed.&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;Endpoint&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Lives in the data center nearest to your origin database, talks to your origin database. This caches query results and houses a pool of connections to your origin database.&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;Edge Validator&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Sends a request to a Cloudflare data center to validate that Hyperdrive can connect to your origin database at time of creation.&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;Placement&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Builds on top of Edge Validator to connect to your origin database from all eligible data centers, to identify which have the fastest connections.&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;The first subsystem we want to dig into is named &lt;code&gt;Client. Client&lt;/code&gt;’s first job is to pretend to be a database server. When a user’s Worker wants to connect to their database via Hyperdrive, they use a special connection string that the Worker runtime generates on the fly. This tells the Worker to reach out to a Hyperdrive process running on the same Cloudflare server, and direct all traffic to and from the database client to it.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;import postgres from &amp;quot;postgres&amp;quot;;\n\n// Connect to Hyperdrive\nconst sql = postgres(env.HYPERDRIVE.connectionString);\n\n// sql will now talk over an RPC channel to Hyperdrive, instead of via TCP to Postgres&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Once this connection is established, the database driver will perform the usual handshake expected of it, with our &lt;code&gt;Client&lt;/code&gt; playing the role of a database server and sending the appropriate responses. All of this happens on the same Cloudflare server running the Worker, and we observe that the p90 for all this is 4 ms (p50 is 2 ms). Quite a bit better than 625 ms, but how does that help? The query still needs to get to the database, right?&lt;/p&gt;&lt;p&gt;&lt;code&gt;Client&lt;/code&gt;’s second main job is to inspect the queries sent from a Worker, and decide whether they can be served from Cloudflare’s cache. We’ll talk more about that later on. Assuming that there are no cached query results available, &lt;code&gt;Client&lt;/code&gt; will need to reach out to our second important subsystem, which we call &lt;code&gt;Endpoint&lt;/code&gt;.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;in-for-the-long-haul\&quot;&gt;In for the long haul&lt;/h2&gt;\n            &lt;a href=\&quot;#in-for-the-long-haul\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Before we dig into the role &lt;code&gt;Endpoint&lt;/code&gt; plays, it’s worth talking more about how the &lt;code&gt;Client→Endpoint&lt;/code&gt; connection works, because it’s a key piece of our solution. We have already talked a lot about the price of network round trips, and how a Worker might be quite far away from the origin database, so how does Hyperdrive handle the long trip from the &lt;code&gt;Client&lt;/code&gt; running alongside their Worker to the &lt;code&gt;Endpoint&lt;/code&gt; running near their database without expensive round trips?&lt;/p&gt;&lt;p&gt;This is accomplished with a very handy bit of Cloudflare’s networking infrastructure. When &lt;code&gt;Client&lt;/code&gt; gets a cache miss, it will submit a request to our networking platform for a connection to whichever data center &lt;code&gt;Endpoint&lt;/code&gt; is running on. This platform keeps a pool of ready TCP connections between all of Cloudflare’s data centers, such that we don’t need to do any preliminary handshakes to begin sending application-level traffic. You might say we put a connection pooler in our connection pooler.&lt;/p&gt;&lt;p&gt;Over this TCP connection, we send an initialization message that includes all of the buffered query messages the Worker has sent to &lt;code&gt;Client&lt;/code&gt; (the mental model would be something like a &lt;code&gt;SYN&lt;/code&gt; and a payload all bundled together). &lt;code&gt;Endpoint&lt;/code&gt; will do its job processing this query, and respond by streaming the response back to &lt;code&gt;Client&lt;/code&gt;, leaving the streaming channel open for any followup queries until &lt;code&gt;Client&lt;/code&gt; disconnects. This approach allows us to send queries around the world with zero wasted round trips.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;impersonating-a-database-client\&quot;&gt;Impersonating a database client&lt;/h2&gt;\n            &lt;a href=\&quot;#impersonating-a-database-client\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;&lt;code&gt;Endpoint&lt;/code&gt; has a couple different jobs it has to do. Its first job is to pretend to be a database client, and to do the client half of the handshake shown above. Second, it must also do the same query processing that &lt;code&gt;Client&lt;/code&gt; does with query messages. Finally, &lt;code&gt;Endpoint&lt;/code&gt; will make the same determination on when it needs to reach out to the origin database to get uncached query results.&lt;/p&gt;&lt;p&gt;When &lt;code&gt;Endpoint&lt;/code&gt; needs to query the origin database, it will attempt to take a connection out of a limited-size pool of database connections that it keeps. If there is an unused connection available, it is handed out from the pool and used to ferry the query to the origin database, and the results back to &lt;code&gt;Endpoint&lt;/code&gt;. Once &lt;code&gt;Endpoint&lt;/code&gt; has these results, the connection is immediately returned to the pool so that another &lt;code&gt;Client&lt;/code&gt; can use it. These warm connections are usable in a matter of microseconds, which is obviously a dramatic improvement over the round trips from one region to another that a cold startup handshake would require.&lt;/p&gt;&lt;p&gt;If there are no currently unused connections sitting in the pool, it may start up a new one (assuming the pool has not already given out as many connections as it is allowed to). This set of handshakes looks exactly the same as the one &lt;code&gt;Client&lt;/code&gt; does, but it happens across the network between a Cloudflare data center and wherever the origin database happens to be. These are the same 5 round trips as our original example, but instead of a full Chicago→London path on every single trip, perhaps it’s Virginia→London, or even London→London. Latency here will depend on which data center &lt;code&gt;Endpoint&lt;/code&gt; is being housed in.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;distributed-choreography\&quot;&gt;Distributed choreography&lt;/h2&gt;\n            &lt;a href=\&quot;#distributed-choreography\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Earlier, we mentioned that Hyperdrive is a transaction-mode pooler. This means that when a driver is ready to send a query or open a transaction it must get a connection from the pool to use. The core challenge for a transaction-mode pooler is in aligning the state of the driver with the state of the connection checked out from the pool. For example, if the driver thinks it’s in a transaction, but the database doesn’t, then you might get errors or even corrupted results.&lt;/p&gt;&lt;p&gt;Hyperdrive achieves this by ensuring all connections are in the same state when they’re checked out of the pool: idle and ready for a query. Where Hyperdrive differs from other transaction-mode poolers is that it does this dance of matching up the states of two different connections across machines, such that there’s no need to share state between &lt;code&gt;Client&lt;/code&gt; and &lt;code&gt;Endpoint&lt;/code&gt;! Hyperdrive can terminate the incoming connection in &lt;code&gt;Client&lt;/code&gt; on the same machine running the Worker, and pool the connections to the origin database wherever makes the most sense.&lt;/p&gt;&lt;p&gt;The job of a transaction-mode pooler is a hard one. Database connections are fundamentally stateful and keeping track of that state is important to maintain our guise when impersonating either a database client or a server. As an example, one of the trickier pieces of state to manage are &lt;a href=\&quot;https://www.postgresql.org/docs/current/protocol-overview.html#PROTOCOL-QUERY-CONCEPTS\&quot;&gt;&lt;u&gt;prepared statements&lt;/u&gt;&lt;/a&gt;. When a user creates a new prepared statement, the prepared statement is only created on whichever database connection happened to be checked out at that time. Once the user finishes the transaction or query they are processing, the connection holding that statement is returned to the pool. From the user’s perspective they’re still connected using the same database connection, so a new query or transaction can reasonably expect to use that previously prepared statement. If a different connection is handed out for the next query and the query wants to make use of this resource, the pooler has to do something about it. We went into some depth on this topic in a &lt;a href=\&quot;https://blog.cloudflare.com/postgres-named-prepared-statements-supported-hyperdrive/\&quot;&gt;&lt;u&gt;previous blog post&lt;/u&gt;&lt;/a&gt; when we released this feature, but in sum, the process looks like this:&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2ibtnO4URpLJ6m3Nyd2kpW/331059a6fd18c7d70b95a15af8f57cd6/image2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1471\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;Hyperdrive implements this by keeping track of what statements have been prepared by a given client, as well as what statements have been prepared on each origin connection in the pool. When a query comes in expecting to re-use a particular prepared statement (#8 above), Hyperdrive checks if it’s been prepared on the checked-out origin connection. If it hasn’t, Hyperdrive will replay the wire-protocol message sequence to prepare it on the newly-checked-out origin connection (#10 above) before sending the query over it. Many little corrections like this are necessary to keep the client’s connection to Hyperdrive and Hyperdrive’s connection to the origin database lined up so that both sides see what they expect.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;better-faster-smarter-closer\&quot;&gt;Better, faster, smarter, closer&lt;/h2&gt;\n            &lt;a href=\&quot;#better-faster-smarter-closer\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;This “split connection” approach is the founding innovation of Hyperdrive, and one of the most vital aspects of it is how it affects starting up new connections. While the same 5+ round trips must always happen on startup, the actual time spent on the round trips can be dramatically reduced by conducting them over the smallest possible distances. This impact of distance can be so big that there is still a huge latency reduction even though the startup round trips must now happen &lt;i&gt;twice&lt;/i&gt; (once each between the Worker and &lt;code&gt;Client&lt;/code&gt;, and &lt;code&gt;Endpoint&lt;/code&gt; and your origin database). So how do we decide where to run everything, to lean into that advantage as much as possible?&lt;/p&gt;&lt;p&gt;The placement of &lt;code&gt;Client&lt;/code&gt; has not really changed since the original design of Hyperdrive. Sharing a server with the Worker sending the queries means that the Worker runtime can connect directly to Hyperdrive with no network hop needed. While there is always room for microoptimizations, it’s hard to do much better than that from an architecture perspective.  By far the bigger piece of the latency puzzle is where to run &lt;code&gt;Endpoint&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Hyperdrive keeps a list of data centers that are eligible to house &lt;code&gt;Endpoint&lt;/code&gt;s, requiring that they have sufficient capacity and the best routes available for pooled connections to use. The key challenge to overcome here is that a &lt;a href=\&quot;https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING-URIS\&quot;&gt;&lt;u&gt;database connection string&lt;/u&gt;&lt;/a&gt; does not tell you where in the world a database actually is. The reality is that reliably going from a hostname to a precise (enough) geographic location is a hard problem, even leaving aside the additional complexity of doing so &lt;a href=\&quot;https://blog.cloudflare.com/elephants-in-tunnels-how-hyperdrive-connects-to-databases-inside-your-vpc-networks/\&quot;&gt;&lt;u&gt;within a private network&lt;/u&gt;&lt;/a&gt;. So how do we pick from that list of eligible data centers?&lt;/p&gt;&lt;p&gt;For much of the time since its launch, Hyperdrive solved this with a regional pool approach. When a Worker connected to Hyperdrive, the location of the Worker was used to infer what region the end user was connecting from (e.g. ENAM, WEUR, APAC, etc. — see a rough breakdown &lt;a href=\&quot;https://www.cloudflare.com/network/\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;). Data centers to house &lt;code&gt;Endpoint&lt;/code&gt;s for any given Hyperdrive were deterministically selected from that region’s list of eligible options using &lt;a href=\&quot;https://en.wikipedia.org/wiki/Rendezvous_hashing\&quot;&gt;&lt;u&gt;rendezvous hashing&lt;/u&gt;&lt;/a&gt;, resulting in one pool of connections &lt;i&gt;per region&lt;/i&gt;.&lt;/p&gt;&lt;p&gt;This approach worked well enough, but it had some severe shortcomings. The first and most obvious is that there’s no guarantee that the data center selected for a given region is actually closer to the origin database than the user making the request. This means that, while you’re getting the benefit of the excellent routing available on &lt;a href=\&quot;https://www.cloudflare.com/network/\&quot;&gt;&lt;u&gt;Cloudflare&amp;#39;s network&lt;/u&gt;&lt;/a&gt;, you may be going significantly out of your way to do so. The second downside is that, in the scenario where a new connection must be created, the round trips to do so may be happening over a significantly larger distance than is necessary if the origin database is in a different region than the &lt;code&gt;Endpoint&lt;/code&gt; housing the regional connection pool. This increases latency and reduces throughput for the query that needs to instantiate the connection.&lt;/p&gt;&lt;p&gt;The final key downside here is an unfortunate interaction with &lt;a href=\&quot;https://developers.cloudflare.com/workers/configuration/smart-placement/\&quot;&gt;&lt;u&gt;Smart Placement&lt;/u&gt;&lt;/a&gt;, a feature of Cloudflare Workers that analyzes the duration of your Worker requests to identify the data center to run your Worker in. With regional &lt;code&gt;Endpoint&lt;/code&gt;s, the best Smart Placement can possibly do is to put your requests close to the &lt;code&gt;Endpoint&lt;/code&gt; for whichever region the origin database is in. Again, there may be other data centers that are closer, but Smart Placement has no way to do better than where the &lt;code&gt;Endpoint&lt;/code&gt; is because all Hyperdrive queries must route through it.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3y9r3Dwn6APp5Pw6kqkg0Z/3a9e202670b6c65a22294fe777064add/image6.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1000\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;We recently &lt;a href=\&quot;https://developers.cloudflare.com/changelog/2025-03-04-hyperdrive-pooling-near-database-and-ip-range-egress/\&quot;&gt;&lt;u&gt;shipped some improvements&lt;/u&gt;&lt;/a&gt; to this system that significantly enhanced performance. The new system discards the concept of regional pools entirely, in favor of a single global &lt;code&gt;Endpoint&lt;/code&gt; for each Hyperdrive that is in the eligible data center as close as possible to the origin database.&lt;/p&gt;&lt;p&gt;The way we solved locating the origin database such that we can accomplish this was ultimately very straightforward. We already had a subsystem to confirm, at the time of creation, that Hyperdrive could connect to an origin database using the provided information. We call this subsystem our &lt;code&gt;Edge Validator&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;It’s bad user experience to allow someone to create a Hyperdrive, and then find out when they go to use it that they mistyped their password or something. Now they’re stuck trying to debug with extra layers in the way, with a Hyperdrive that can’t possibly work. Instead, whenever a Hyperdrive is created, the &lt;code&gt;Edge Validator&lt;/code&gt; will send a request to an arbitrary data center to use its instance of Hyperdrive to connect to the origin database. If this connection fails, the creation of the Hyperdrive will also fail, giving immediate feedback to the user at the time it is most helpful.&lt;/p&gt;&lt;p&gt;With our new subsystem, affectionately called &lt;code&gt;Placement&lt;/code&gt;, we now have a solution to the geolocation problem. After &lt;code&gt;Edge Validator&lt;/code&gt; has confirmed that the provided information works and the Hyperdrive is created, an extra step is run in the background. &lt;code&gt;Placement&lt;/code&gt; will perform the exact same connection routine, except instead of being done once from an arbitrary data center, it is run a handful of times from every single data center that is eligible to house &lt;code&gt;Endpoints&lt;/code&gt;. The latency of establishing these connections is collected, and the average is sent back to a central instance of &lt;code&gt;Placement&lt;/code&gt;. The data centers that can connect to the origin database the fastest are, by definition, where we want to run &lt;code&gt;Endpoint&lt;/code&gt; for this Hyperdrive. The list of these is saved, and at runtime is used to select the &lt;code&gt;Endpoint&lt;/code&gt; best suited to housing the pool of connections to the origin database.&lt;/p&gt;&lt;p&gt;Given that the secret sauce of Hyperdrive is in managing and minimizing the latency of establishing these connections, moving &lt;code&gt;Endpoint&lt;/code&gt;s right next to their origin databases proved to be pretty impactful.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1MZpaxXjj4tlOAinZkDqOF/e1a555a47141ac11aa391d27806cbfbc/image9.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1732\&quot; height=\&quot;836\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Pictured: query latency as measured from Endpoint to origin databases. The backfill of Placement to existing customers was done in stages on 02/22 and 02/25.&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;serverless-drivers-exist-though\&quot;&gt;Serverless drivers exist, though?&lt;/h2&gt;\n            &lt;a href=\&quot;#serverless-drivers-exist-though\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;While we went in a different direction, it’s worth acknowledging that other teams have &lt;a href=\&quot;https://neon.tech/blog/quicker-serverless-postgres\&quot;&gt;&lt;u&gt;solved this same problem&lt;/u&gt;&lt;/a&gt; with a very different approach. Custom database drivers, usually called “serverless drivers”, have made several optimization efforts to reduce both the number of round trips and how quickly they can be conducted, while still connecting directly from your client to your database in the traditional way. While these drivers are impressive, we chose not to go this route for a couple of reasons.&lt;/p&gt;&lt;p&gt;First off, a big part of the appeal of using Postgres is its &lt;a href=\&quot;https://www.lastweekinaws.com/podcast/screaming-in-the-cloud/the-ever-growing-ecosystem-of-postgres-with-alvaro-hernandez/\&quot;&gt;&lt;u&gt;vibrant ecosystem&lt;/u&gt;&lt;/a&gt;. Odds are good you’ve used Postgres before, and it can probably help solve whichever problem you’re tackling with your newest project. This familiarity and shared knowledge across projects is an absolute superpower. We wanted to lean into this advantage by supporting the most popular drivers already in this ecosystem, instead of fragmenting it by adding a competing one.&lt;/p&gt;&lt;p&gt;Second, Hyperdrive also functions as a cache for individual queries (a bit of trivia: its name while still in Alpha was actually &lt;code&gt;sql-query-cache&lt;/code&gt;). Doing this as effectively as possible for distributed users requires some clever positioning of where exactly the query results should be cached. One of the unique advantages of running a distributed service on Cloudflare’s network is that we have a lot of flexibility on where to run things, and can confidently surmount challenges like those. If we’re going to be playing three-card monte with where things are happening anyway, it makes the most sense to favor that route for solving the other problems we’re trying to tackle too.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;pick-your-favorite-cache-pun\&quot;&gt;Pick your favorite cache pun&lt;/h2&gt;\n            &lt;a href=\&quot;#pick-your-favorite-cache-pun\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;As we’ve &lt;a href=\&quot;https://blog.cloudflare.com/postgres-named-prepared-statements-supported-hyperdrive/\&quot;&gt;&lt;u&gt;talked about&lt;/u&gt;&lt;/a&gt; in the past, Hyperdrive buffers protocol messages until it has enough information to know whether a query can be served from cache. In a post about how Hyperdrive works it would be a shame to skip talking about how exactly we cache query results, so let’s close by diving into that.&lt;/p&gt;&lt;p&gt;First and foremost, Hyperdrive uses &lt;a href=\&quot;https://developers.cloudflare.com/cache/\&quot;&gt;&lt;u&gt;Cloudflare&amp;#39;s cache&lt;/u&gt;&lt;/a&gt;, because when you have technology like that already available to you, it’d be silly not to use it. This has some implications for our architecture that are worth exploring.&lt;/p&gt;&lt;p&gt;The cache exists in each of Cloudflare’s data centers, and by default these are separate instances. That means that a &lt;code&gt;Client&lt;/code&gt; operating close to the user has one, and an &lt;code&gt;Endpoint&lt;/code&gt; operating close to the origin database has one. However, historically we weren’t able to take full advantage of that, because the logic for interacting with cache was tightly bound to the logic for managing the pool of connections.&lt;/p&gt;&lt;p&gt;Part of our recent architecture refactoring effort, where we switched to global &lt;code&gt;Endpoint&lt;/code&gt;s, was to split up this logic such that we can take advantage of &lt;code&gt;Client&lt;/code&gt;’s cache too. This was necessary because, with &lt;code&gt;Endpoint&lt;/code&gt; moving to a single location for each Hyperdrive, users from other regions would otherwise have gotten cache hits served from almost as far away as the origin.&lt;/p&gt;&lt;p&gt;With the new architecture, the role of &lt;code&gt;Client&lt;/code&gt; during active query handling transitioned from that of a “dumb pipe” to more like what &lt;code&gt;Endpoint&lt;/code&gt; had always been doing. It now buffers protocol messages, and serves results from cache if possible. In those scenarios, Hyperdrive’s traffic never leaves the data center that the Worker is running in, reducing query latencies from 20-70 ms to an average of around 4 ms. As a side benefit, it also substantially reduces the network bandwidth Hyperdrive uses to serve these queries. A win-win!&lt;/p&gt;&lt;p&gt;In the scenarios where query results can’t be served from the cache in &lt;code&gt;Client&lt;/code&gt;’s data center, all is still not lost. &lt;code&gt;Endpoint&lt;/code&gt; may also have cached results for this query, because it can field traffic from many different &lt;code&gt;Client&lt;/code&gt;s around the world. If so, it will provide these results back to &lt;code&gt;Client&lt;/code&gt;, along with how much time is remaining before they expire, such that &lt;code&gt;Client&lt;/code&gt; can both return them and store them correctly into its own cache. Likewise, if &lt;code&gt;Endpoint&lt;/code&gt; does need to go to the origin database for results, they will be stored into both &lt;code&gt;Client&lt;/code&gt; and &lt;code&gt;Endpoint&lt;/code&gt; caches. This ensures that followup queries from that same &lt;code&gt;Client&lt;/code&gt; data center will get the happy path with single-digit ms response times, and also reduce load on the origin database from any other &lt;code&gt;Client&lt;/code&gt;’s queries. This functions similarly to how &lt;a href=\&quot;https://developers.cloudflare.com/cache/how-to/tiered-cache/\&quot;&gt;&lt;u&gt;Cloudflare&amp;#39;s Tiered Cache&lt;/u&gt;&lt;/a&gt; works, with &lt;code&gt;Endpoint&lt;/code&gt;’s cache functioning as a final layer of shielding for the origin database.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;come-on-in-the-waters-fine\&quot;&gt;Come on in, the water’s fine!&lt;/h2&gt;\n            &lt;a href=\&quot;#come-on-in-the-waters-fine\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;With this announcement of a Free Plan for Hyperdrive, and newly armed with the knowledge of how it works under the hood, we hope you’ll enjoy building your next project with it! You can get started with a single Wrangler command (or using the dashboard):&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;wrangler hyperdrive create postgres-hyperdrive \n--connection-string=&amp;quot;postgres://user:password@db-host.example.com:5432/defaultdb&amp;quot;&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;We’ve also included a Deploy to Cloudflare button below to let you get started with a sample Worker app using Hyperdrive, just bring your existing Postgres database! If you have any questions or ideas for future improvements, please feel free to visit our &lt;a href=\&quot;https://discord.com/channels/595317990191398933/1150557986239021106\&quot;&gt;&lt;u&gt;Discord channel!&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/templates/tree/main/postgres-hyperdrive-template\&quot;&gt;&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;\n&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-08T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T21:00:47.180Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5mEnPMw4xZIwhxQ0BxdRE3/cd0c5cb2b90a1ff2f64723d99f228b90/Feature_Image.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;2UVIYusJwlvsmPYl2AvSuR&quot;],&quot;name&quot;:[0,&quot;Deep Dive&quot;],&quot;slug&quot;:[0,&quot;deep-dive&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;5EP9xxxSTGvFx3RIxjqIgP&quot;],&quot;name&quot;:[0,&quot;Hyperdrive&quot;],&quot;slug&quot;:[0,&quot;hyperdrive&quot;]}],[0,{&quot;id&quot;:[0,&quot;rcdWHBRKjelqnRBkbe7np&quot;],&quot;name&quot;:[0,&quot;Smart Placement&quot;],&quot;slug&quot;:[0,&quot;smart-placement&quot;]}],[0,{&quot;id&quot;:[0,&quot;1pPf2NNj9SXrC0A0ERKp9v&quot;],&quot;name&quot;:[0,&quot;SQL&quot;],&quot;slug&quot;:[0,&quot;sql&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Andrew Repp&quot;],&quot;slug&quot;:[0,&quot;andrew-repp&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1moTBd0N5e74Bn9NWn2ksO/9642b164dcf16e501a79e56520548aa2/andrew-repp.jpg&quot;],&quot;location&quot;:[0,&quot;Chicago, IL, USA&quot;],&quot;website&quot;:[0,&quot;http://andrewrepp.com&quot;],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Matt Alonso&quot;],&quot;slug&quot;:[0,&quot;matt-alonso&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/28IQWzENpxkBKoy5vIJWKu/7007f9f38e561e6e090b6da32295d0de/IMG_1945.png&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Hyperdrive, Cloudflare&#39;s global connection pooler, relies on some key innovations to make your database connections work. We go deep into the details of what that looks like, in celebration of announcing its availability for Free Plan customers.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/how-hyperdrive-speeds-up-database-access&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Pools across the sea: how Hyperdrive speeds up access to databases and why we’re making it free&quot;],&quot;description&quot;:[0,&quot;Hyperdrive, Cloudflare&#39;s global connection pooler, relies on some key innovations to make your database connections work. We go deep into the details of what that looks like, in celebration of announcing its availability for Free Plan customers.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/35u3iGtwxCUqbtH2urXENQ/91dce4731aa5e5cf331b5906193eb61d/OG_Share_2024__32_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;4Epls86yTVhCR1tmlP4u67&quot;],&quot;title&quot;:[0,&quot;Cloudflare acquires Outerbase to expand database and agent developer experience capabilities&quot;],&quot;slug&quot;:[0,&quot;cloudflare-acquires-outerbase-database-dx&quot;],&quot;excerpt&quot;:[0,&quot;Cloudflare has acquired Outerbase, expanding our database and agent developer experience capabilities.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;I’m thrilled to share that Cloudflare has acquired &lt;a href=\&quot;https://www.outerbase.com/\&quot;&gt;&lt;u&gt;Outerbase&lt;/u&gt;&lt;/a&gt;. This is such an amazing opportunity for us, and I want to explain how we got here, what we’ve built so far, and why we are so excited about becoming part of the Cloudflare team.&lt;/p&gt;&lt;p&gt;Databases are key to building almost any production application: you need to persist state for your users (or agents), be able to query it from a number of different clients, and you want it to be fast. But databases aren’t always easy to use: designing a good schema, writing performant queries, creating indexes, and optimizing your access patterns tends to require a lot of experience. Add that to exposing your data through easy-to-grok APIs that make the ‘right’ way to do things obvious, a great developer experience (from dashboard to CLI), and well… there’s a lot of work involved.&lt;/p&gt;&lt;p&gt;The Outerbase team is already getting to work on some big changes to how databases (and your data) are viewed, edited, and visualized from within &lt;a href=\&quot;https://developers.cloudflare.com/workers/\&quot;&gt;&lt;u&gt;Workers&lt;/u&gt;&lt;/a&gt;, and we’re excited to give you a few sneak peeks into what we’ll be landing as we get to work.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;database-dx\&quot;&gt;Database DX&lt;/h3&gt;\n            &lt;a href=\&quot;#database-dx\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;When we first started Outerbase, we saw how complicated databases could be. Even experienced developers struggled with writing queries, indexing data, and locking down their data. Meanwhile, non-developers often felt locked out and that they couldn’t access the data they needed. We believed there had to be a better way. From day one, our goal was to make data accessible to everyone, no matter their skill level. While it started out by simply building a better database interface, it quickly evolved into something much more special.&lt;/p&gt;&lt;p&gt;Outerbase became a platform that helps you manage data in a way that feels natural. You can browse tables, edit rows, and run queries without having to deal with memorizing SQL structure. Even if you do know SQL, you can use Outerbase to dive in deeper and share your knowledge with your team. We also added visualization features so entire teams, both technical and not, could see what’s happening with their data at a glance. Then, with the growth of AI, we realized we could use it to handle many of the more complicated tasks.&lt;/p&gt;&lt;p&gt;One of our more exciting offerings is Starbase, a SQLite-compatible database built on top of Cloudflare’s &lt;a href=\&quot;https://developers.cloudflare.com/durable-objects/\&quot;&gt;&lt;u&gt;Durable Objects&lt;/u&gt;&lt;/a&gt;. Our goal was never to simply wrap a legacy system in a shiny interface; we wanted to make it so easy to get started from day one with nothing, and Cloudflare’s Durable Objects gave us a way to easily manage and spin up databases for anyone who needed one. On top of them, we provided automatic REST APIs, row-level security, WebSocket support for streaming queries, and much more.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;1-1-3\&quot;&gt;1 + 1 = 3&lt;/h3&gt;\n            &lt;a href=\&quot;#1-1-3\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Our collaboration with Cloudflare first started last year, when we introduced a way for developers to import and manage their &lt;a href=\&quot;https://developers.cloudflare.com/d1/\&quot;&gt;&lt;u&gt;D1&lt;/u&gt;&lt;/a&gt; databases inside Outerbase. We were impressed with how powerful Cloudflare’s tools are for deploying and scaling applications. As we worked together, we quickly saw how well our missions aligned. Cloudflare was building the infrastructure we wished we’d had when we first started, and we were building the data experience that many Cloudflare developers were asking for. This eventually led to the seemingly obvious decision of Outerbase joining Cloudflare — it just made so much sense.&lt;/p&gt;&lt;p&gt;Going forward, we’ll integrate Outerbase’s core features into Cloudflare’s platform. If you’re a developer using D1 or Durable Objects, you’ll start seeing features from Outerbase show up in the Cloudflare dashboard. Expect to see our data explorer for browsing and editing tables, new REST APIs, query editor with type-ahead functionality, real-time data capture, and more of the other tooling we’ve been refining over the last couple of years show up inside the Cloudflare dashboard.&lt;/p&gt;&lt;p&gt;As part of this transition, the hosted Outerbase cloud will shut down on October 15, 2025, which is about six months from now. We know some of you rely on Outerbase as it stands today, so we’re leaving the open-source repositories as they are.&lt;/p&gt;&lt;p&gt;You will still be able to self-host Outerbase if you prefer, and we’ll provide guidance on how to do that within your own Cloudflare account. Our main goal will be to ensure that the best parts of Outerbase become part of the Cloudflare developer experience, so you no longer have to make a choice (it’ll be obvious!).&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;sneak-peek\&quot;&gt;Sneak peek&lt;/h3&gt;\n            &lt;a href=\&quot;#sneak-peek\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;We’ve already done a lot of thinking about how we’re going to bring the best parts of Outerbase into D1, Durable Objects, Workflows, and Agents, and we’re going to a share a little about what will be landing over the course of Q2 2025 as the Outerbase team gets to work.&lt;/p&gt;&lt;p&gt;Specifically, we’ll be heads-down focusing on:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Adapting the powerful table viewer and query runner experiences to D1 and Durable Objects (amongst many other things!)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Making it easier to get started with Durable Objects: improving the experience in Wrangler (our CLI tooling), the Cloudflare dashboard, and how you plug into them from your client applications&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Improvements to how you visualize the state of a Workflow and the (thousands to millions!) of Workflow instances you might have at any point in time&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Pre- and post-query hooks for D1 that allow you to automatically register handlers that can act on your data&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Bringing the &lt;a href=\&quot;https://starbasedb.com/\&quot;&gt;&lt;u&gt;Starbase&lt;/u&gt;&lt;/a&gt; API to D1, expanding D1’s existing REST API, and adding WebSockets support — making it easier to use D1, even for applications hosted outside of Workers.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;We have already started laying the groundwork for these changes. In the coming weeks, we’ll release a unified data explorer for D1 and Durable Objects that borrows heavily from the Outerbase interface you know. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/FHinAqMr5I8ukmIZLln3a/a34734a3ed680556b01794c6de5e1f63/image2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1191\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;&lt;sup&gt;Bringing Outerbase’s Data Explorer into the Cloudflare Dashboard&lt;/sup&gt;&lt;/i&gt;&lt;/p&gt;&lt;p&gt;We’ll also tie some of Starbase’s features directly into Cloudflare’s platform, so you can tap into its unique offerings like pre- and post-query hooks or row-level security right from your existing D1 databases and Durable Objects:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;const beforeQuery = ({ sql, params }) =&amp;gt; {\n    // Prevent unauthorized queries\n    if (!isAllowedQuery(sql)) throw new Error(&amp;#039;Query not allowed&amp;#039;);\n};\n\nconst afterQuery = ({ sql, result }) =&amp;gt; {\n    // Basic PII masking example\n    for (const row of result) {\n        if (&amp;#039;email&amp;#039; in row) row.email = &amp;#039;[redacted]&amp;#039;;\n    }\n};\n\n// Execute the query with pre- and post- query hooks\nconst { results } = await env.DB.prepare(&amp;quot;SELECT * FROM users;&amp;quot;, beforeQuery, afterQuery);&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;&lt;sup&gt;Define hooks on your D1 queries that can be re-used, shared and automatically executed before or after your queries run.&lt;/sup&gt;&lt;/i&gt;&lt;/p&gt;&lt;p&gt;This should give you more clarity and control over your data, as well as new ways to secure and optimize it.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6W2C3WRqP13ghnHYnZsJHl/fecc1a6f8e92b6cac9499716ab5d7bc4/image1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1608\&quot; height=\&quot;970\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Rethinking the Durable Objects getting started experience&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;We have even begun optimizing the Cloudflare dashboard experience around Durable Objects and D1 to improve the empty state, provide more Getting Started resources, and overall, make managing and tracking your database resources even easier.\n\nFor those of you who’ve supported us, given us feedback, and stuck with us as we grew: thank you. You have helped shape Outerbase into what it is today. This acquisition means we can pour even more resources and attention into building the data experience we’ve always wanted to deliver. Our hope is that, by working as part of Cloudflare, we can help reach even more developers by building intuitive experiences, accelerating the speed of innovation, and creating tools that naturally fit into your workflows.&lt;/p&gt;&lt;p&gt;This is a big step for Outerbase, and we couldn’t be more excited. Thank you for being part of our journey so far. We can’t wait to show you what we’ve got in store as we continue to make data more accessible, intuitive, and powerful — together with Cloudflare.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;whats-next\&quot;&gt;What’s next?&lt;/h3&gt;\n            &lt;a href=\&quot;#whats-next\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;We’re planning to get to work on some of the big changes to how you interact with your data on Cloudflare, starting with D1 and Durable Objects.&lt;/p&gt;&lt;p&gt;We’ll also be ensuring we bring a great developer experience to the broader database &amp;amp; storage platform on Cloudflare, including how you access data in &lt;a href=\&quot;https://developers.cloudflare.com/kv/\&quot;&gt;&lt;u&gt;Workers KV&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;u&gt;R2&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Workflows&lt;/u&gt;&lt;/a&gt; and even your &lt;a href=\&quot;https://developers.cloudflare.com/agents/\&quot;&gt;&lt;u&gt;AI Agents&lt;/u&gt;&lt;/a&gt; (just to name a few).&lt;/p&gt;&lt;p&gt;To keep up, follow the new &lt;a href=\&quot;https://developers.cloudflare.com/changelog/\&quot;&gt;&lt;u&gt;Cloudflare Changelog&lt;/u&gt;&lt;/a&gt; and join our &lt;a href=\&quot;http://discord.cloudflare.com/\&quot;&gt;&lt;u&gt;Developer Discord&lt;/u&gt;&lt;/a&gt; to chat with the team and see early previews before they land.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-07T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-10T08:46:36.901Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5MvFdMXLBUAHvXJjVcSSJJ/f956f874b1e62e667b3f2457c68b1762/image3.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;UKt2GEAUQsbObsNqZ3Pr7&quot;],&quot;name&quot;:[0,&quot;D1&quot;],&quot;slug&quot;:[0,&quot;d1&quot;]}],[0,{&quot;id&quot;:[0,&quot;5v2UZdTRX1Rw9akmhexnxs&quot;],&quot;name&quot;:[0,&quot;Durable Objects&quot;],&quot;slug&quot;:[0,&quot;durable-objects&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Brandon Strittmatter&quot;],&quot;slug&quot;:[0,&quot;brandon-strittmatter&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3viCDHdRdgbirjk7W1OqS5/10437b1d8ddeadc34fee3796dbfefa7e/Brandon_Strittmatter.webp&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Matt Silverlock&quot;],&quot;slug&quot;:[0,&quot;silverlock&quot;],&quot;bio&quot;:[0,&quot;Director of Product at Cloudflare.&quot;],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7xP5qePZD9eyVtwIesXYxh/e714aaa573161ec9eb48d59bd1aa6225/silverlock.jpeg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@elithrar&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Cloudflare has acquired Outerbase, expanding our database and agent developer experience capabilities.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;Blog Locale (Press Release): DE, FR, JA, KO, ESLA, NL, CN, TW&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;Translated for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;Translated for Locale&quot;],&quot;frFR&quot;:[0,&quot;Translated for Locale&quot;],&quot;deDE&quot;:[0,&quot;Translated for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;Translated for Locale&quot;],&quot;koKR&quot;:[0,&quot;Translated for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;Translated for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;Translated for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/cloudflare-acquires-outerbase-database-dx&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Cloudflare acquires Outerbase to expand database and agent developer experience capabilities&quot;],&quot;description&quot;:[0,&quot;Cloudflare has acquired Outerbase, expanding our database and agent developer experience capabilities.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5MvFdMXLBUAHvXJjVcSSJJ/f956f874b1e62e667b3f2457c68b1762/image3.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;7ju3oFGzR3iR8gO2TmMleF&quot;],&quot;title&quot;:[0,&quot;Cloudflare Workflows is now GA: production-ready durable execution&quot;],&quot;slug&quot;:[0,&quot;workflows-ga-production-ready-durable-execution&quot;],&quot;excerpt&quot;:[0,&quot;Workflows — a durable execution engine built directly on top of Workers — is now Generally Available. We’ve landed new human-in-the-loop capabilities, more scale, and more metrics.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;Betas are useful for feedback and iteration, but at the end of the day, not everyone is willing to be a guinea pig or can tolerate the occasional sharp edge that comes along with beta software. Sometimes you need that big, shiny “Generally Available” label (or blog post), and now it’s Workflows’ turn.&lt;/p&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Workflows&lt;/u&gt;&lt;/a&gt;, our serverless durable execution engine that allows you to build long-running, multi-step applications (some call them “step functions”) on Workers, is now GA.&lt;/p&gt;&lt;p&gt;In short, that means it’s &lt;i&gt;production ready&lt;/i&gt; —  but it also doesn’t mean Workflows is going to ossify. We’re continuing to scale Workflows (including more concurrent instances), bring new capabilities (like the new &lt;code&gt;waitForEvent&lt;/code&gt; API), and make it easier to build &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-agentic-ai/\&quot;&gt;AI agents&lt;/a&gt; with &lt;a href=\&quot;https://developers.cloudflare.com/agents/api-reference/run-workflows/\&quot;&gt;&lt;u&gt;our Agents SDK and Workflows&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;If you prefer code to prose, you can quickly install the Workflows starter project and start exploring the code and the API with a single command:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;npm create cloudflare@latest workflows-starter -- \n--template=&amp;quot;cloudflare/workflows-starter&amp;quot;&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;How does Workflows work? What can I build with it? How do I think about building AI agents with Workflows and the &lt;a href=\&quot;https://developers.cloudflare.com/agents/\&quot;&gt;&lt;u&gt;Agents SDK&lt;/u&gt;&lt;/a&gt;? Well, read on.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;building-with-workflows\&quot;&gt;Building with Workflows&lt;/h2&gt;\n            &lt;a href=\&quot;#building-with-workflows\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Workflows is a durable execution engine built on Cloudflare Workers that allows you to build resilient, multi-step applications.&lt;/p&gt;&lt;p&gt;At its core, Workflows implements a step-based architecture where each step in your application is independently retriable, with state automatically persisted between steps. This means that even if a step fails due to a transient error or network issue, Workflows can retry just that step without needing to restart your entire application from the beginning.&lt;/p&gt;&lt;p&gt;When you define a Workflow, you break your application into logical steps.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Each step can either execute code (&lt;code&gt;step.do&lt;/code&gt;), put your Workflow to sleep (&lt;code&gt;step.sleep&lt;/code&gt; or &lt;code&gt;step.sleepUntil&lt;/code&gt;), or wait on an event (&lt;code&gt;step.waitForEvent&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;As your Workflow executes, it automatically persists the state returned from each step, ensuring that your application can continue exactly where it left off, even after failures or hibernation periods. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;This durable execution model is particularly powerful for applications that coordinate between multiple systems, process data in sequence, or need to handle long-running tasks that might span minutes, hours, or even days.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Workflows are particularly useful at handling complex business processes that traditional stateless functions struggle with.&lt;/p&gt;&lt;p&gt;For example, an e-commerce order processing workflow might check inventory, charge a payment method, send an email confirmation, and update a database — all as separate steps. If the payment processing step fails due to a temporary outage, Workflows will automatically retry just that step when the payment service is available again, without duplicating the inventory check or restarting the entire process. &lt;/p&gt;&lt;p&gt;You can see how this works below: each call to a service can be modelled as a step, independently retried, and if needed, recovered from that step onwards:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;import { WorkflowEntrypoint, WorkflowStep, WorkflowEvent } from &amp;#039;cloudflare:workers&amp;#039;;\n\n// The params we expect when triggering this Workflow\ntype OrderParams = {\n\torderId: string;\n\tcustomerId: string;\n\titems: Array&amp;lt;{ productId: string; quantity: number }&amp;gt;;\n\tpaymentMethod: {\n\t\ttype: string;\n\t\tid: string;\n\t};\n};\n\n// Our Workflow definition\nexport class OrderProcessingWorkflow extends WorkflowEntrypoint&amp;lt;Env, OrderParams&amp;gt; {\n\tasync run(event: WorkflowEvent&amp;lt;OrderParams&amp;gt;, step: WorkflowStep) {\n\t\t// Step 1: Check inventory\n\t\tconst inventoryResult = await step.do(&amp;#039;check-inventory&amp;#039;, async () =&amp;gt; {\n\t\t\tconsole.log(`Checking inventory for order ${event.payload.orderId}`);\n\n\t\t\t// Mock: In a real workflow, you&amp;#039;d query your inventory system\n\t\t\tconst inventoryCheck = await this.env.INVENTORY_SERVICE.checkAvailability(event.payload.items);\n\n\t\t\t// Return inventory status as state for the next step\n\t\t\treturn {\n\t\t\t\tinStock: true,\n\t\t\t\treservationId: &amp;#039;inv-123456&amp;#039;,\n\t\t\t\titemsChecked: event.payload.items.length,\n\t\t\t};\n\t\t});\n\n\t\t// Exit workflow if items aren&amp;#039;t in stock\n\t\tif (!inventoryResult.inStock) {\n\t\t\treturn { status: &amp;#039;failed&amp;#039;, reason: &amp;#039;out-of-stock&amp;#039; };\n\t\t}\n\n\t\t// Step 2: Process payment\n\t\t// Configure specific retry logic for payment processing\n\t\tconst paymentResult = await step.do(\n\t\t\t&amp;#039;process-payment&amp;#039;,\n\t\t\t{\n\t\t\t\tretries: {\n\t\t\t\t\tlimit: 3,\n\t\t\t\t\tdelay: &amp;#039;30 seconds&amp;#039;,\n\t\t\t\t\tbackoff: &amp;#039;exponential&amp;#039;,\n\t\t\t\t},\n\t\t\t\ttimeout: &amp;#039;2 minutes&amp;#039;,\n\t\t\t},\n\t\t\tasync () =&amp;gt; {\n\t\t\t\tconsole.log(`Processing payment for order ${event.payload.orderId}`);\n\n\t\t\t\t// Mock: In a real workflow, you&amp;#039;d call your payment processor\n\t\t\t\tconst paymentResponse = await this.env.PAYMENT_SERVICE.processPayment({\n\t\t\t\t\tcustomerId: event.payload.customerId,\n\t\t\t\t\torderId: event.payload.orderId,\n\t\t\t\t\tamount: calculateTotal(event.payload.items),\n\t\t\t\t\tpaymentMethodId: event.payload.paymentMethod.id,\n\t\t\t\t});\n\n\t\t\t\t// If payment failed, throw an error that will trigger retry logic\n\t\t\t\tif (paymentResponse.status !== &amp;#039;success&amp;#039;) {\n\t\t\t\t\tthrow new Error(`Payment failed: ${paymentResponse.message}`);\n\t\t\t\t}\n\n\t\t\t\t// Return payment info as state for the next step\n\t\t\t\treturn {\n\t\t\t\t\ttransactionId: &amp;#039;txn-789012&amp;#039;,\n\t\t\t\t\tamount: 129.99,\n\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t};\n\t\t\t},\n\t\t);\n\n\t\t// Step 3: Send email confirmation\n\t\tawait step.do(&amp;#039;send-confirmation-email&amp;#039;, async () =&amp;gt; {\n\t\t\tconsole.log(`Sending confirmation email for order ${event.payload.orderId}`);\n\t\t\tconsole.log(`Including payment confirmation ${paymentResult.transactionId}`);\n\t\t\treturn await this.env.EMAIL_SERVICE.sendOrderConfirmation({ ... })\n\t\t});\n\n\t\t// Step 4: Update database\n\t\tconst dbResult = await step.do(&amp;#039;update-database&amp;#039;, async () =&amp;gt; {\n\t\t\tconsole.log(`Updating database for order ${event.payload.orderId}`);\n\t\t\tawait this.updateOrderStatus(...)\n\n\t\t\treturn { dbUpdated: true };\n\t\t});\n\n\t\t// Return final workflow state\n\t\treturn {\n\t\t\torderId: event.payload.orderId,\n\t\t\tprocessedAt: new Date().toISOString(),\n\t\t};\n\t}\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;\nThis combination of durability, automatic retries, and state persistence makes Workflows ideal for building reliable distributed applications that can handle real-world failures gracefully.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;human-in-the-loop\&quot;&gt;Human-in-the-loop&lt;/h2&gt;\n            &lt;a href=\&quot;#human-in-the-loop\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Workflows are just code, and that makes them extremely powerful: you can define steps dynamically and on-the-fly, conditionally branch, and make API calls to any system you need. But sometimes you also need a Workflow to wait for something to happen in the real world.&lt;/p&gt;&lt;p&gt;For example:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Approval from a human to progress.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;An incoming webhook, like from a Stripe payment or a GitHub event. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;A state change, such as a file upload to R2 that triggers an &lt;a href=\&quot;https://developers.cloudflare.com/r2/buckets/event-notifications/\&quot;&gt;&lt;u&gt;Event Notification&lt;/u&gt;&lt;/a&gt;, and then pushes a reference to the file to the Workflow, so it can process the file (or run it through an AI model).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The new &lt;code&gt;waitForEvent&lt;/code&gt; API in Workflows allows you to do just that: &lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;let event = await step.waitForEvent&amp;lt;IncomingStripeWebhook&amp;gt;(&amp;quot;receive invoice paid webhook from Stripe&amp;quot;, { type: &amp;quot;stripe-webhook&amp;quot;, timeout: &amp;quot;1 hour&amp;quot; }) &lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;You can then send an event to a specific instance from any external service that can make a HTTP request:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;curl -d &amp;#039;{&amp;quot;transaction&amp;quot;:&amp;quot;complete&amp;quot;,&amp;quot;id&amp;quot;:&amp;quot;1234-6789&amp;quot;}&amp;#039; \\\n  -H &amp;quot;Authorization: Bearer ${CF_TOKEN}&amp;quot; \\\n\\ &amp;quot;https://api.cloudflare.com/client/v4/accounts/{account_id}/workflows/{workflow_name}/instances/{instance_id}/events/{event_type}&amp;quot;&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;… or via the &lt;a href=\&quot;https://developers.cloudflare.com/workflows/build/workers-api/#workflowinstance\&quot;&gt;&lt;u&gt;Workers API&lt;/u&gt;&lt;/a&gt; within a Worker itself:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;interface Env {\n  MY_WORKFLOW: Workflow;\n}\n\ninterface Payload {\n  transaction: string;\n  id: string;\n}\n\nexport default {\n  async fetch(req: Request, env: Env) {\n    const instanceId = new URL(req.url).searchParams.get(&amp;quot;instanceId&amp;quot;)\n    const webhookPayload = await req.json&amp;lt;Payload&amp;gt;()\n\n    let instance = await env.MY_WORKFLOW.get(instanceId);\n    // Send our event, with `type` matching the event type defined in\n    // our step.waitForEvent call\n    await instance.sendEvent({type: &amp;quot;stripe-webhook&amp;quot;, payload: webhookPayload})\n    \n    return Response.json({\n      status: await instance.status(),\n    });\n  },\n};&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;You can even wait for multiple events, using the &lt;code&gt;type&lt;/code&gt; parameter, and/or race multiple events using &lt;code&gt;Promise.race&lt;/code&gt; to continue on depending on which event was received first:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;export class MyWorkflow extends WorkflowEntrypoint&amp;lt;Env, Params&amp;gt; {\n\tasync run(event: WorkflowEvent&amp;lt;Params&amp;gt;, step: WorkflowStep) {\n\t\tlet state = await step.do(&amp;quot;get some data&amp;quot;, () =&amp;gt; { /* step call here */ })\n\t\t// Race the events, resolving the Promise based on which event\n// we receive first\n\t\tlet value = Promise.race([\nstep.waitForEvent(&amp;quot;payment success&amp;quot;, { type: &amp;quot;payment-success-webhook&amp;quot;, timeout: &amp;quot;4 hours&amp;quot; ),\nstep.waitForEvent(&amp;quot;payment failure&amp;quot;, { type: &amp;quot;payment-failure-webhook&amp;quot;, timeout: &amp;quot;4 hours&amp;quot; ),\n])\n// Continue on based on the value and event received\n\t}\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;To visualize &lt;code&gt;waitForEvent&lt;/code&gt; in a bit more detail, let’s assume we have a Workflow that is triggered by a code review agent that watches a GitHub repository.&lt;/p&gt;&lt;p&gt;Without the ability to wait on events, our Workflow can’t easily get human approval to write suggestions back (or even submit a PR of its own). It &lt;i&gt;could&lt;/i&gt; potentially poll for some state that was updated, but that means we have to call &lt;code&gt;step.sleep&lt;/code&gt; for arbitrary periods of time, poll a storage service for an updated value, and repeat if it’s not there. That’s a lot of code and room for error:&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/64dgTwe9V6bAfKUDQgJ1z3/e0a897623a8ca452139f00dd2cff9733/1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;860\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Without waitForEvent, it’s harder to send data to a Workflow instance that’s running&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;If we modified that same example to incorporate the new waitForEvent API, we could use it to wait for human approval before making a mutating change:  &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2BIuiSytb7roytyDhHVioz/0e005829fea9e60d772dcb6888acac2c/2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;860\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Adding waitForEvent to our code review Workflow, so it can seek explicit approval.&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;You could even imagine an AI agent itself sending and/or acting on behalf of a human here: &lt;code&gt;waitForEvent&lt;/code&gt; simply exposes a way for a Workflow to retrieve and pause on something in the world to change before it continues (or not).&lt;/p&gt;&lt;p&gt;Critically, you can call &lt;code&gt;waitForEvent&lt;/code&gt; just like any other step in Workflows: you can call it conditionally, and/or multiple times, and/or in a loop. Workflows are just Workers: you have the full power of a programming language and are not restricted by a &lt;a href=\&quot;https://en.wikipedia.org/wiki/Domain-specific_language\&quot;&gt;&lt;u&gt;domain specific language (DSL)&lt;/u&gt;&lt;/a&gt; or config language.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;pricing\&quot;&gt;Pricing&lt;/h2&gt;\n            &lt;a href=\&quot;#pricing\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Good news: we haven’t changed much since our original beta announcement! We’re adding storage pricing for state stored by your Workflows, and retaining our CPU-based and request (invocation) based pricing as follows:&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Unit&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Workers Free&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Workers Paid&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;CPU time (ms)&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;10 ms per Workflow&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;30 million CPU milliseconds included per month&lt;/p&gt;&lt;p&gt;+$0.02 per additional million CPU milliseconds&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Requests&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;100,000 Workflow invocations per day (&lt;a href=\&quot;https://developers.cloudflare.com/workers/platform/pricing/#workers\&quot;&gt;&lt;u&gt;shared with Workers&lt;/u&gt;&lt;/a&gt;)&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;10 million included per month&lt;/p&gt;&lt;p&gt;+$0.30 per additional million&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Storage (GB)&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1 GB&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1 GB included per month\n+ $0.20/ GB-month&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;Because the storage pricing is new, we will not actively bill for storage until September 15, 2025. We will notify users above the included 1 GB limit ahead of charging for storage, and by default, Workflows will expire stored state after three (3) days (Free plan) or thirty (30) days (Paid plan).&lt;/p&gt;&lt;p&gt;If you’re wondering what “CPU time” is here: it’s the time your Workflow is actively consuming compute resources. It &lt;i&gt;doesn’t&lt;/i&gt; include time spent waiting on API calls, reasoning LLMs, or other I/O (like writing to a database). That might seem like a small thing, but in practice, it adds up: most applications have single digit milliseconds of CPU time, and multiple seconds of wall time: an API or two taking 100 - 250 ms to respond adds up!&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6zRZ3gFQ0TrCetwlW0bqWG/87e41b7ab75ae48a4f2a6655d8ac2a86/3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1912\&quot; height=\&quot;832\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Bill for CPU, not for time spent when a Workflow is idle or waiting.&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;Workflow engines, especially, tend to spend a lot of time waiting: reading data from object storage (like &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;u&gt;Cloudflare R2&lt;/u&gt;&lt;/a&gt;), calling third-party APIs or LLMs like o3-mini or Claude 3.7, even querying databases like &lt;a href=\&quot;https://developers.cloudflare.com/d1/\&quot;&gt;&lt;u&gt;D1&lt;/u&gt;&lt;/a&gt;, Postgres, or MySQL. With Workflows, just like Workers: you don’t pay for time your application is just waiting.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;start-building\&quot;&gt;Start building&lt;/h2&gt;\n            &lt;a href=\&quot;#start-building\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;So you’ve got a good handle on Workflows, how it works, and want to get building. What next?&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workflows/\&quot;&gt;&lt;u&gt;Visit the Workflows documentation&lt;/u&gt;&lt;/a&gt; to learn how it works, understand the Workflows API, and best practices&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Review the code in the &lt;a href=\&quot;https://github.com/cloudflare/workflows-starter\&quot;&gt;&lt;u&gt;starter project&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;And lastly, deploy the starter to your own Cloudflare account with a few clicks:&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;a href=\&quot;https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/workflows-starter\&quot;&gt;&lt;img src=\&quot;https://deploy.workers.cloudflare.com/button\&quot; alt=\&quot;Deploy to Cloudflare\&quot;/&gt;&lt;/a&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-07T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T20:32:13.218Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1JAXkncQezxjEeV0IHNG5b/944fcc20d602ce88e6c2f5dfebba1a56/Feature_Image.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;1KBFlaTf50eub8uvJ1pAt1&quot;],&quot;name&quot;:[0,&quot;Workflows&quot;],&quot;slug&quot;:[0,&quot;workflows&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Sid Chatterjee&quot;],&quot;slug&quot;:[0,&quot;sid&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/66pIfBfhDUadwWztfEDfXe/66d41b9c01e48856fd1deb323d9007a9/sid.jpg&quot;],&quot;location&quot;:[0,&quot;London, United Kingdom&quot;],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@chatsidhartha&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Matt Silverlock&quot;],&quot;slug&quot;:[0,&quot;silverlock&quot;],&quot;bio&quot;:[0,&quot;Director of Product at Cloudflare.&quot;],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7xP5qePZD9eyVtwIesXYxh/e714aaa573161ec9eb48d59bd1aa6225/silverlock.jpeg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@elithrar&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Workflows — a durable execution engine built directly on top of Workers — is now Generally Available. We’ve landed new human-in-the-loop capabilities, more scale, and more metrics: just what you need for a production-ready service.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;Blog Locale (Press Release): DE, FR, JA, KO, ESLA, NL, CN, TW&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;Translated for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;Translated for Locale&quot;],&quot;frFR&quot;:[0,&quot;Translated for Locale&quot;],&quot;deDE&quot;:[0,&quot;Translated for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;Translated for Locale&quot;],&quot;koKR&quot;:[0,&quot;Translated for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;Translated for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;Translated for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/workflows-ga-production-ready-durable-execution&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Cloudflare Workflows is now GA: production-ready durable execution&quot;],&quot;description&quot;:[0,&quot;Workflows — a durable execution engine built directly on top of Workers — is now Generally Available. We’ve landed new human-in-the-loop capabilities, more scale, and more metrics: just what you need for a production-ready service.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/57BfkxRQ9SaJw6uwKocEQk/85730493a2e4a386cad5d3b2df97465f/OG_Share_2024__29_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;2JjYf004DWQEOykF435HA3&quot;],&quot;title&quot;:[0,&quot;Introducing AutoRAG: fully managed Retrieval-Augmented Generation on Cloudflare&quot;],&quot;slug&quot;:[0,&quot;introducing-autorag-on-cloudflare&quot;],&quot;excerpt&quot;:[0,&quot;AutoRAG is here: fully managed Retrieval-Augmented Generation (RAG) pipelines powered by Cloudflare&#39;s global network and powerful developer ecosystem. &quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;Today we’re excited to announce &lt;b&gt;AutoRAG &lt;/b&gt;in open beta, a fully managed &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/retrieval-augmented-generation-rag/\&quot;&gt;Retrieval-Augmented Generation (RAG)&lt;/a&gt; pipeline powered by Cloudflare, designed to simplify how developers integrate context-aware AI into their applications. RAG is a method that improves the accuracy of AI responses by retrieving information from your own data, and providing it to the &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-large-language-model/\&quot;&gt;large language model (LLM)&lt;/a&gt; to generate more grounded responses.&lt;/p&gt;&lt;p&gt;Building a RAG pipeline is a patchwork of moving parts. You have to stitch together multiple tools and services — your data storage, a &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-vector-database/\&quot;&gt;vector database&lt;/a&gt;, an embedding model, LLMs, and custom indexing, retrieval, and generation logic — all just to get started. Maintaining it is even harder. As your data changes, you have to manually reindex and regenerate &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-are-embeddings/\&quot;&gt;embeddings&lt;/a&gt; to keep the system relevant and performant. What should be a simple “ask a question, get a smart answer” experience becomes a brittle pipeline of glue code, fragile integrations, and constant upkeep.&lt;/p&gt;&lt;p&gt;AutoRAG removes that complexity. With just a few clicks, it delivers a fully-managed RAG pipeline end-to-end: from ingesting your data and automatically chunking and embedding it, to storing vectors in Cloudflare’s &lt;a href=\&quot;https://developers.cloudflare.com/vectorize/\&quot;&gt;&lt;u&gt;Vectorize&lt;/u&gt;&lt;/a&gt; database, performing semantic retrieval, and generating high-quality responses using &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/\&quot;&gt;&lt;u&gt;Workers AI&lt;/u&gt;&lt;/a&gt;. AutoRAG continuously monitors your data sources and indexes in the background so your AI stays fresh without manual effort. It abstracts away the mess, letting you focus on building smarter, faster applications on Cloudflare’s developer platform. Get started today in the &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/ai/autorag\&quot;&gt;&lt;u&gt;Cloudflare Dashboard&lt;/u&gt;&lt;/a&gt;!&lt;/p&gt;&lt;div style=\&quot;position: relative; padding-top: 56.25%;\&quot;&gt;\n  &lt;iframe\n    src=\&quot;https://customer-eq7kiuol0tk9chox.cloudflarestream.com/d73058307da73973d22c48292a75b66c/iframe?poster=https%3A%2F%2Fimages.ctfassets.net%2Fzkvhlag99gkb%2F7yxxbj4PqDnqg4r7cjQxOg%2Fe24cda6a858d76144fa1d0ede6b43fb8%2FAutoRAG_Thumbnail.png\&quot;\n    loading=\&quot;lazy\&quot;\n    style=\&quot;border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;\&quot;\n    allow=\&quot;accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\&quot;\n    allowfullscreen=\&quot;true\&quot;\n  &gt;&lt;/iframe&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;why-use-rag-in-the-first-place\&quot;&gt;Why use RAG in the first place?&lt;/h3&gt;\n            &lt;a href=\&quot;#why-use-rag-in-the-first-place\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;LLMs like Llama 3.3 from Meta are powerful, but they only know what they’ve been trained on. They often struggle to produce accurate answers when asked about new, proprietary, or domain-specific information. System prompts providing relevant information can help, but they bloat input size and are limited by context windows. Fine-tuning a model is expensive and requires ongoing retraining to keep up to date.&lt;/p&gt;&lt;p&gt;RAG solves this by retrieving relevant information from your data source at query time, combining it with the user’s input query, and feeding both into the LLM to generate responses grounded with your data. This makes RAG a great fit for AI-driven support bots, internal knowledge assistants, semantic search across documentation, and other use cases where the source of truth is always evolving.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5zrM30iI2E1ZlmTQvAsx0D/fcef1f00b048a147fc3bc459895cc19c/1.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1882\&quot; height=\&quot;740\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;whats-under-the-hood-of-autorag\&quot;&gt;What’s under the hood of AutoRAG?&lt;/h3&gt;\n            &lt;a href=\&quot;#whats-under-the-hood-of-autorag\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;AutoRAG sets up a RAG pipeline for you, using the building blocks of Cloudflare’s developer platform. Instead of you having to write code to create a RAG system using &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/\&quot;&gt;&lt;u&gt;Workers AI&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/vectorize/\&quot;&gt;&lt;u&gt;Vectorize&lt;/u&gt;&lt;/a&gt;, and &lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/\&quot;&gt;&lt;u&gt;AI Gateway&lt;/u&gt;&lt;/a&gt;, you just create an AutoRAG instance and point it at a data source, like an &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;u&gt;R2 &lt;/u&gt;&lt;/a&gt;storage bucket.&lt;/p&gt;&lt;p&gt;Behind the scenes, AutoRAG is powered by two processes: &lt;b&gt;indexing&lt;/b&gt; and &lt;b&gt;querying&lt;/b&gt;.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Indexing&lt;/b&gt; is an asynchronous process that runs in the background. It kicks off as soon as you create an AutoRAG, and automatically continues in cycles — reprocessing new or updated files after each previous job completes. During indexing, your content is transformed into vectors optimized for semantic search.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Querying&lt;/b&gt; is a synchronous process triggered when a user sends a search request. AutoRAG takes the query, retrieves the most relevant content from your vector database, and uses it to generate a context-aware response using an LLM.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Let’s take a closer look at how they work.&lt;/p&gt;&lt;h4&gt;Indexing process&lt;/h4&gt;&lt;p&gt;When you connect a data source, AutoRAG automatically ingests, transforms, and stores it as vectors, optimizing it for semantic search when querying:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;File ingestion from data source: &lt;/b&gt;AutoRAG reads directly from your data source. Today, it supports integration with Cloudflare R2, where you can store documents like PDFs, images, text, HTML, CSV, and more for processing.\n&lt;i&gt;Check out the &lt;/i&gt;&lt;a href=\&quot;#rag-to-riches-in-under-5-minutes\&quot;&gt;&lt;b&gt;&lt;i&gt;&lt;u&gt;RAG to riches in 5 minutes tutorial below&lt;/u&gt;&lt;/i&gt;&lt;/b&gt;&lt;/a&gt;&lt;i&gt; to learn how you can use Browser Rendering to parse webpages to use within your AutoRAG.&lt;/i&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Markdown conversion:&lt;/b&gt; AutoRAG uses &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/markdown-conversion/\&quot;&gt;&lt;u&gt;Workers AI’s Markdown Conversion&lt;/u&gt;&lt;/a&gt; to convert all files into structured Markdown. This ensures consistency across diverse file types. For images, &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/workers-ai/\&quot;&gt;Workers AI&lt;/a&gt; is used to perform object detection followed by vision-to-language transformation to convert images into Markdown text.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Chunking:&lt;/b&gt; The extracted text is chunked into smaller pieces to improve retrieval granularity.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Embedding:&lt;/b&gt; Each chunk is embedded using Workers AI’s embedding model to transform the content into vectors.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Vector storage: &lt;/b&gt;The resulting vectors, along with metadata like source location and file name, are stored in a Cloudflare’s Vectorize database created on your account.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5UK62iIO747BOe7JgazkBP/19a65b75cc4ad6b7fba31bff301cc133/Indexing.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1868\&quot; height=\&quot;900\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;Querying process&lt;/h4&gt;&lt;p&gt;When an end user makes a request, AutoRAG orchestrates the following:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Receive query from AutoRAG API: &lt;/b&gt;The query workflow begins when you send a request to either the AutoRAG’s AI Search or Search endpoint.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Query rewriting (optional): &lt;/b&gt;AutoRAG provides the option to rewrite the input query using one of Workers AI’s LLMs to improve retrieval quality by transforming the original query into a more effective search query.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Embedding the query: &lt;/b&gt;The rewritten (or original) query is transformed into a vector via the same embedding model used to embed your data so that it can be compared against your vectorized data to find the most relevant matches.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Vector search in Vectorize: &lt;/b&gt;The query vector is searched against stored vectors in the associated Vectorize database for your AutoRAG.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Metadata + content retrieval: &lt;/b&gt;Vectorize returns the most relevant chunks and their metadata. And the original content is retrieved from the R2 bucket. These are passed to a text-generation model.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Response generation:&lt;/b&gt; A text-generation model from Workers AI is used to generate a response using the retrieved content and the original user’s query.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;The end result is an AI-powered answer grounded in your private data — accurate, and up to date.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7ueRtSqcc6BcQL27SyFMzi/30712fdf3a50115f9560f6c3e82f76db/3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;964\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;rag-to-riches-in-under-5-minutes\&quot;&gt;RAG to riches in under 5 minutes&lt;/h3&gt;\n            &lt;a href=\&quot;#rag-to-riches-in-under-5-minutes\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Most of the time, getting started with AutoRAG is as simple as pointing it to an existing R2 bucket — just drop in your content, and you&amp;#39;re ready to go. But what if your content isn’t already in a bucket? What if it’s still on a webpage or needs to first be rendered dynamically by a frontend UI? You&amp;#39;re in luck, because with the &lt;a href=\&quot;https://developers.cloudflare.com/browser-rendering/\&quot;&gt;&lt;b&gt;&lt;u&gt;Browser Rendering API&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;, you can crawl your own websites to gather information that powers your RAG. The Browser Rendering REST API is now&lt;b&gt; generally available&lt;/b&gt;, offering endpoints for common browser actions including extracting HTML content, capturing screenshots, and generating PDFs. Additionally, a crawl endpoint is coming soon, making it even easier to ingest websites.&lt;/p&gt;&lt;p&gt;In this walkthrough, we’ll show you how to take your website and feed it into AutoRAG for Q&amp;amp;A. We’ll use a Cloudflare Worker to render web pages in a headless browser, upload the content to R2, and hook that into AutoRAG for semantic search and generation.&lt;/p&gt;&lt;h4&gt;Step 1. Create a Worker to fetch webpages and upload into R2&lt;/h4&gt;&lt;p&gt;We’ll create a Cloudflare Worker that uses Puppeteer to visit your URL, render it, and store the full HTML in your R2 bucket. If you already have an R2 bucket with content you’d like to build a RAG for then you can skip this step.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;Create a new Worker project named &lt;code&gt;browser-r2-worker&lt;/code&gt; by running:&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;npm create cloudflare@latest -- browser-r2-worker&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;For setup, select the following options:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;i&gt;What would you like to start with?&lt;/i&gt; Choose Hello World Starter.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;i&gt;Which template would you like to use?&lt;/i&gt; Choose Worker only.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;i&gt;Which language do you want to use? &lt;/i&gt;Choose TypeScript.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;\n2. Install &lt;code&gt;@cloudflare/puppeteer&lt;/code&gt;, which allows you to control the Browser Rendering instance:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;npm i @cloudflare/puppeteer&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;3. Create a new R2 bucket named &lt;code&gt;html-bucket&lt;/code&gt; by running: &lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;npx wrangler r2 bucket create html-bucket&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;4. Add the following configurations to your Wrangler configuration file, so your Worker can use browser rendering and your new R2 bucket:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;{\n\t&amp;quot;compatibility_flags&amp;quot;: [&amp;quot;nodejs_compat&amp;quot;],\n\t&amp;quot;browser&amp;quot;: {\n\t\t&amp;quot;binding&amp;quot;: &amp;quot;MY_BROWSER&amp;quot;\n\t},\n\t&amp;quot;r2_buckets&amp;quot;: [\n\t\t{\n\t\t\t&amp;quot;binding&amp;quot;: &amp;quot;HTML_BUCKET&amp;quot;,\n\t\t\t&amp;quot;bucket_name&amp;quot;: &amp;quot;html-bucket&amp;quot;,\n\t\t}\n\t],\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;5. Replace the contents of src/index.ts with the following skeleton script:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;import puppeteer from &amp;quot;@cloudflare/puppeteer&amp;quot;;\n\n// Define our environment bindings\ninterface Env {\n\tMY_BROWSER: any;\n\tHTML_BUCKET: R2Bucket;\n}\n\n// Define request body structure\ninterface RequestBody {\n\turl: string;\n}\n\nexport default {\n\tasync fetch(request: Request, env: Env): Promise&amp;lt;Response&amp;gt; {\n\t\t// Only accept POST requests\n\t\tif (request.method !== &amp;#039;POST&amp;#039;) {\nreturn new Response(&amp;#039;Please send a POST request with a target URL&amp;#039;, { status: 405 });\n\t\t}\n\n\t\t// Get URL from request body\n\t\tconst body = await request.json() as RequestBody;\n\t\t// Note: Only use this parser for websites you own\n\t\tconst targetUrl = new URL(body.url); \n\n\t\t// Launch browser and create new page\n\t\tconst browser = await puppeteer.launch(env.MY_BROWSER);\n\t\tconst page = await browser.newPage();\n\n\t\t// Navigate to the page and fetch its html\n\t\tawait page.goto(targetUrl.href);\n\t\tconst htmlPage = await page.content();\n\n\t\t// Create filename and store in R2\n\t\tconst key = targetUrl.hostname + &amp;#039;_&amp;#039; + Date.now() + &amp;#039;.html&amp;#039;;\n\t\tawait env.HTML_BUCKET.put(key, htmlPage);\n\n\t\t// Close browser\n\t\tawait browser.close();\n\n\t\t// Return success response\n\t\treturn new Response(JSON.stringify({\n\t\t\tsuccess: true,\n\t\t\tmessage: &amp;#039;Page rendered and stored successfully&amp;#039;,\n\t\t\tkey: key\n\t\t}), {\n\t\t\theaders: { &amp;#039;Content-Type&amp;#039;: &amp;#039;application/json&amp;#039; }\n\t\t});\n\t}\n} satisfies ExportedHandler&amp;lt;Env&amp;gt;;&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;6. Once the code is ready, you can deploy it to your Cloudflare account by running:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;npx wrangler deploy&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;7. To test your Worker, you can use the following cURL request to fetch the HTML file of a page. In this example we are fetching this blog page to upload into the html-bucket bucket:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;curl -X POST https://browser-r2-worker.&amp;lt;YOUR_SUBDOMAIN&amp;gt;.workers.dev \\\n-H &amp;quot;Content-Type: application/json&amp;quot; \\\n-d &amp;#039;{&amp;quot;url&amp;quot;: &amp;quot;https://blog.cloudflare.com/introducing-autorag-on-cloudflare&amp;quot;}&amp;#039;&lt;/pre&gt;&lt;/code&gt;\n            &lt;h4&gt;Step 2. Create your AutoRAG and monitor the indexing&lt;/h4&gt;&lt;p&gt;Now that you have created your R2 bucket and filled it with your content that you’d like to query from, you are ready to create an AutoRAG instance:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;In your &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/ai/autorag\&quot;&gt;&lt;u&gt;Cloudflare dashboard&lt;/u&gt;&lt;/a&gt;, navigate to AI &amp;gt; AutoRAG&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Select Create AutoRAG and complete the setup process:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Select the R2 bucket&lt;/b&gt; which contains your knowledge base, in this case, select the &lt;code&gt;html-bucket&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Select an embedding model &lt;/b&gt;used to convert your data to vector representation. It is recommended to use the Default.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Select an LLM &lt;/b&gt;to use to generate your responses. It is recommended to use the Default.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Select or create an AI Gateway&lt;/b&gt; to monitor and control your model usage.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Name your AutoRAG&lt;/b&gt; as &lt;code&gt;my-rag&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Select or create a Service API token&lt;/b&gt; to grant AutoRAG access to create and access resources in your account.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Select Create to spin up your AutoRAG.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Once you’ve created your AutoRAG, it will automatically create a Vectorize database in your account and begin indexing the data. You can view the progress of your indexing job in the Overview page of your AutoRAG. The indexing time may vary depending on the number and type of files you have in your data source.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5qgy5VRqvKjBhdmSZ4riEE/e7dc59a4c615838704d9ec323bfdabfa/4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1679\&quot; height=\&quot;841\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;h4&gt;Step 3. Test and add to your application&lt;/h4&gt;&lt;p&gt;Once AutoRAG finishes indexing your content, you’re ready to start asking it questions. You can open up your AutoRAG instance, navigate to the Playground tab, and ask a question based on your uploaded content, like “What is AutoRAG?”.&lt;/p&gt;&lt;p&gt;Once you’re happy with the results in the Playground, you can integrate AutoRAG directly into the application that you are building. If you are using a Worker to build your application, then you can use the AI binding to directly call your AutoRAG: &lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;{\n  &amp;quot;ai&amp;quot;: {\n    &amp;quot;binding&amp;quot;: &amp;quot;AI&amp;quot;\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Then, query your AutoRAG instance from your Worker code by calling the &lt;code&gt;aiSearch()&lt;/code&gt; method. Alternatively you can use the &lt;code&gt;Search()&lt;/code&gt; method to get a list of retrieved results without an AI generated response.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;const answer = await env.AI.autorag(&amp;#039;my-rag&amp;#039;).aiSearch({\n   query: &amp;#039;What is AutoRAG?&amp;#039;\n});&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;For more information on how to add AutoRAG into your application, go to your AutoRAG then navigate to Use AutoRAG for more instructions.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;start-building-today\&quot;&gt;Start building today&lt;/h3&gt;\n            &lt;a href=\&quot;#start-building-today\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;During the open beta, AutoRAG is &lt;b&gt;free to enable&lt;/b&gt;. AutoRAG is built entirely on top of &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/\&quot;&gt;Cloudflare’s Developer Platform&lt;/a&gt;, using the same tools you’d reach for if you were building a RAG pipeline yourself. When you create an AutoRAG instance, it provisions and runs on top of Cloudflare resources within your own account. These resources are &lt;b&gt;billed as part of your Cloudflare usage&lt;/b&gt;, and include:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;&lt;b&gt;&lt;u&gt;R2&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;: &lt;/b&gt;stores your source data.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/vectorize/\&quot;&gt;&lt;b&gt;&lt;u&gt;Vectorize&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;:&lt;/b&gt; stores vector embeddings and powers semantic retrieval.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/\&quot;&gt;&lt;b&gt;&lt;u&gt;Workers AI&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;: &lt;/b&gt;converts images to Markdown, generates embeddings, rewrites queries, and generates responses.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/\&quot;&gt;&lt;b&gt;&lt;u&gt;AI Gateway&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;:&lt;/b&gt; tracks and controls your model’s usage.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;To help manage resources during the beta, each account is limited to &lt;b&gt;10 AutoRAG&lt;/b&gt; instances, with up to &lt;b&gt;100,000 files&lt;/b&gt; &lt;b&gt;per AutoRAG&lt;/b&gt;. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;whats-on-the-roadmap\&quot;&gt;What’s on the roadmap?&lt;/h3&gt;\n            &lt;a href=\&quot;#whats-on-the-roadmap\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;We’re just getting started with AutoRAG, and we have more planned throughout 2025 to make it more powerful and flexible. Here are a few things we’re actively working on:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;More data source integrations:&lt;/b&gt; We’re expanding beyond R2, with support for new input types like direct website URL parsing (powered by browser rendering) and structured data sources like Cloudflare &lt;a href=\&quot;https://developers.cloudflare.com/d1/\&quot;&gt;&lt;u&gt;D1&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Smarter, higher-quality responses: &lt;/b&gt;We’re exploring built-in reranking, recursive chunking, and other processing techniques to improve the quality and relevance of generated answers.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;These features will roll out incrementally, and we’d love your feedback as we shape what’s next. AutoRAG is built to evolve with your use cases so stay tuned.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;try-it-out-today\&quot;&gt;Try it out today!&lt;/h3&gt;\n            &lt;a href=\&quot;#try-it-out-today\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Get started with AutoRAG today by visiting the &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/ai/autorag\&quot;&gt;&lt;u&gt;Cloudflare Dashboard&lt;/u&gt;&lt;/a&gt;, navigate to AI &amp;gt; AutoRAG, and select Create AutoRAG. Whether you’re building an AI-powered search experience, an internal knowledge assistant, or just experimenting with LLMs, AutoRAG gives you a fast and flexible way to get started with RAG on Cloudflare’s global network. For more details, refer to the &lt;a href=\&quot;https://developers.cloudflare.com/autorag\&quot;&gt;&lt;u&gt;Developer Docs&lt;/u&gt;&lt;/a&gt;. Also, try out the &lt;a href=\&quot;https://developers.cloudflare.com/browser-rendering/\&quot;&gt;&lt;u&gt;Browser Rendering API&lt;/u&gt;&lt;/a&gt; that is now generally available for your browser action needs.&lt;/p&gt;&lt;p&gt;We’re excited to see what you build, and we’re here to help. Have questions or feedback? Join the conversation on the &lt;a href=\&quot;https://discord.com/channels/595317990191398933/1356674457355423895\&quot;&gt;&lt;u&gt;Cloudflare Developers Discord&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-07T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T20:36:41.004Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2SZ1fpLEMXLfjidRspvQ3p/35aaef41cf7231cf349019d54143c00e/Feature_Image.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2xCnBweKwOI3VXdYsGVbMe&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;]}],[0,{&quot;id&quot;:[0,&quot;6Foe3R8of95cWVnQwe5Toi&quot;],&quot;name&quot;:[0,&quot;AI&quot;],&quot;slug&quot;:[0,&quot;ai&quot;]}],[0,{&quot;id&quot;:[0,&quot;5p63yzKv4kkAVAioSAXDy7&quot;],&quot;name&quot;:[0,&quot;Auto Rag&quot;],&quot;slug&quot;:[0,&quot;auto-rag&quot;]}],[0,{&quot;id&quot;:[0,&quot;glPl13W9trPo4l3ZVojXy&quot;],&quot;name&quot;:[0,&quot;Browser Rendering&quot;],&quot;slug&quot;:[0,&quot;browser-rendering&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Anni Wang&quot;],&quot;slug&quot;:[0,&quot;anni&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3RnKI54hxLOIRs0QBSZgxa/e71b8f7a5ccadb45dd553c69f8ffe539/anni.png&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,&quot;https://www.linkedin.com/in/a248wang/&quot;],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;AutoRAG is here: fully managed Retrieval-Augmented Generation (RAG) pipelines powered by Cloudflare&#39;s global network and powerful developer ecosystem. Simplify how you build and scale RAG pipelines to power your context-aware AI chatbots and search applications.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/introducing-autorag-on-cloudflare&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Introducing AutoRAG: fully managed Retrieval-Augmented Generation on Cloudflare&quot;],&quot;description&quot;:[0,&quot;AutoRAG is here: fully managed Retrieval-Augmented Generation (RAG) pipelines powered by Cloudflare&#39;s global network and powerful developer ecosystem. Simplify how you build and scale RAG pipelines to power your context-aware AI chatbots and search applications.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/C49lgxZjPye4ttsdldEQj/dcd8bfcd9e47a7b7d9bd98e656dbf26f/OG_Share_2024__28_.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;4X0QnKvMC0yi0eRv5YqC7g&quot;],&quot;title&quot;:[0,&quot;A steam locomotive from 1993 broke my yarn test&quot;],&quot;slug&quot;:[0,&quot;yarn-test-suffers-strange-derailment&quot;],&quot;excerpt&quot;:[0,&quot;Yarn tests fail consistently at the 27-second mark. The usual suspects are swiftly eliminated. A deep dive is taken to comb through traces, only to be derailed into an unexpected crash investigation.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;So the story begins with a pair programming session I had with my colleague, which I desperately needed because my node skill tree is still at level 1, and I needed to get started with React because I&amp;#39;ll be working on our internal &lt;a href=\&quot;https://github.com/backstage/backstage\&quot;&gt;&lt;u&gt;backstage&lt;/u&gt;&lt;/a&gt; instance.&lt;/p&gt;&lt;p&gt;We worked together on a small feature, tested it locally, and it worked. Great. Now it&amp;#39;s time to make My Very First React Commit. So I ran the usual &lt;code&gt;git add&lt;/code&gt; and &lt;code&gt;git commit&lt;/code&gt;, which hooked into &lt;code&gt;yarn test&lt;/code&gt;, to automatically run unit tests for backstage, and that&amp;#39;s when &lt;i&gt;everything got derailed&lt;/i&gt;. For all the React tutorials I have followed, I have never actually run a &lt;code&gt;yarn test&lt;/code&gt; on &lt;i&gt;my machine&lt;/i&gt;. And the first time I tried yarn test, it hung, and after a long time, the command eventually failed:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;Determining test suites to run...\n\n  ● Test suite failed to run\n\nthrown: [Error]\n\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n🌈  backstage  ⚡&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;I could tell it was obviously unhappy about something, and then it threw some [Error]. I have very little actual JavaScript experience, but this looks suspiciously like someone had neglected to write a proper toString() or whatever, and thus we&amp;#39;re stuck with the monumentally unhelpful [Error]. Searching the web yielded an entire ocean of false positives due to how vague the error message is. &lt;i&gt;What a train wreck!&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Fine, let&amp;#39;s put on our troubleshooting hats. My memory is not perfect, but thankfully shell history is. Let&amp;#39;s see all the (ultimately useless) things that were tried (with commentary):&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;2025-03-19 14:18  yarn test --help                                                                                                  \n2025-03-19 14:20  yarn test --verbose                    \n2025-03-19 14:21  git diff --staged                                                                                                 \n2025-03-19 14:25  vim README.md                    # Did I miss some setup?\n2025-03-19 14:28  i3lock -c 336699                 # &amp;quot;I need a drink&amp;quot;            \n2025-03-19 14:34  yarn test --debug                # Debug, verbose, what&amp;#039;s the diff\n2025-03-19 14:35  yarn backstage-cli repo test     # Maybe if I invoke it directly ...\n2025-03-19 14:36  yarn backstage-cli --version     # Nope, same as mengnan&amp;#039;s\n2025-03-19 14:36  yarn backstage-cli repo --help\n2025-03-19 14:36  yarn backstage-cli repo test --since HEAD~1   # Minimal changes?\n2025-03-19 14:36  yarn backstage-cli repo test --since HEAD     # Uhh idk no changes???\n2025-03-19 14:38  yarn backstage-cli repo test plugins          # The first breakthrough. More on this later\n2025-03-19 14:39  n all tests.\\n › Press f to run only failed tests.\\n › Press o to only run tests related to changed files.\\n › Pres\nfilter by a filename regex pattern.\\n › Press t to filter by a test name regex pattern.\\n › Press q to quit watch mode.\\n › Press Ent\nrigger a test run all tests.\\n › Press f to run only failed tests.\\n › Press o to only run tests related to changed files.\\n › Press\nlter by a filename regex pattern.\\n › Press t to filter by a test name regex pattern.\\n › Press q to quit watch mode.\\n › Press Enter\ngger a test ru                                     # Got too excited and pasted rubbish\n2025-03-19 14:44  ls -a | fgrep log\n2025-03-19 14:44  find | fgrep log                 # Maybe it leaves a log file?\n2025-03-19 14:46  yarn backstage-cli repo test --verbose --debug --no-cache plugins    # &amp;quot;clear cache&amp;quot;\n2025-03-19 14:52  yarn backstage-cli repo test --no-cache --runInBand .                # No parallel\n2025-03-19 15:00  yarn backstage-cli repo test --jest-help\n2025-03-19 15:03  yarn backstage-cli repo test --resetMocks --resetModules plugins     # I have no idea what I&amp;#039;m resetting&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;The first real breakthrough was &lt;code&gt;test plugins&lt;/code&gt;, which runs only tests matching &amp;quot;plugins&amp;quot;. This effectively bypassed the &amp;quot;determining suites to run...&amp;quot; logic, which was the thing that was hanging. So, I am now able to get tests to run. However, these too eventually crash with the same cryptic &lt;code&gt;[Error]&lt;/code&gt;:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;PASS   @cloudflare/backstage-components  plugins/backstage-components/src/components/Cards/TeamMembersListCard/TeamMembersListCard.test.tsx (6.787 s)\nPASS   @cloudflare/backstage-components  plugins/backstage-components/src/components/Cards/ClusterDependencyCard/ClusterDependencyCard.test.tsx\nPASS   @internal/plugin-software-excellence-dashboard  plugins/software-excellence-dashboard/src/components/AppDetail/AppDetail.test.tsx\nPASS   @cloudflare/backstage-entities  plugins/backstage-entities/src/AccessLinkPolicy.test.ts\n\n\n  ● Test suite failed to run\n\nthrown: [Error]&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Re-running it or matching different tests will give slightly different run logs, but they always end with the same error.&lt;/p&gt;&lt;p&gt;By now, I&amp;#39;ve figured out that yarn test is actually backed by &lt;a href=\&quot;https://jestjs.io/\&quot;&gt;&lt;u&gt;Jest, a JavaScript testing framework&lt;/u&gt;&lt;/a&gt;, so my next strategy is simply trying different Jest flags to see what sticks, but invariably, none do:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;2025-03-19 15:16  time yarn test --detectOpenHandles plugins\n2025-03-19 15:18  time yarn test --runInBand .\n2025-03-19 15:19  time yarn test --detectLeaks .\n2025-03-19 15:20  yarn test --debug aetsnuheosnuhoe\n2025-03-19 15:21  yarn test --debug --no-watchman nonexisis\n2025-03-19 15:21  yarn test --jest-help\n2025-03-19 15:22  yarn test --debug --no-watch ooooooo &amp;gt; ~/jest.config\n&lt;/pre&gt;&lt;/code&gt;\n            \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;a-pattern-finally-emerges\&quot;&gt;A pattern finally emerges&lt;/h2&gt;\n            &lt;a href=\&quot;#a-pattern-finally-emerges\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Eventually, after re-running it so many times, I started to notice a pattern. So by default after a test run, Jest drops you into an interactive menu where you can  (Q)uit, Run (A)ll tests, etc. and I realized that Jest would eventually crash, even if it&amp;#39;s idling in the menu. I started timing the runs, which led me to the second breakthrough:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;› Press q to quit watch mode.\n › Press Enter to trigger a test run.\n\n\n  ● Test suite failed to run\n\nthrown: [Error]\n\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nyarn test .  109.96s user 14.21s system 459% cpu 27.030 total&lt;/pre&gt;&lt;/code&gt;\n            \n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;RUNS   @cloudflare/backstage-components  plugins/backstage-components/src/components/Cards/TeamRoles/CustomerSuccessCard.test.tsx\n RUNS   @cloudflare/backstage-app  packages/app/src/components/catalog/EntityFipsPicker/EntityFipsPicker.test.tsx\n\nTest Suites: 2 failed, 23 passed, 25 of 65 total\nTests:       217 passed, 217 total\nSnapshots:   0 total\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nyarn test .  110.85s user 14.04s system 463% cpu 26.974 total&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;No matter what Jest was doing, it always crashes after almost exactly 27 wallclock seconds. It literally didn&amp;#39;t matter what tests I selected or re-ran. Even the original problem, a bare yarn test (no tests selected, just hangs), will crash after 27 seconds:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;Determining test suites to run...\n\n  ● Test suite failed to run\n\nthrown: [Error]\n\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nyarn test  2.05s user 0.71s system 10% cpu 27.094 total\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Obviously, some sort of timeout. 27 seconds is kind of a weird number (unlike, say, 5 seconds or 60 seconds) but let&amp;#39;s try:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;2025-03-19 15:09  find | fgrep 27\n2025-03-19 15:09  git grep &amp;#039;\\b27\\b&amp;#039;\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;No decent hits.&lt;/p&gt;&lt;p&gt;How about something like 20+7 or even 20+5+2? &lt;i&gt;Nope.&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Googling/GPT-4oing  for &amp;quot;jest timeout 27 seconds&amp;quot; again yielded nothing useful. Far more people were having problems with testing asynchronously, or getting their tests to timeout, than with Jest proper. &lt;/p&gt;&lt;p&gt;At this time, my colleague came back from his call, and with his help we determined some other things:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;his system (MacOS) is not affected at all versus mine (Linux)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://github.com/nvm-sh/nvm?tab=readme-ov-file#intro\&quot;&gt;&lt;u&gt;nvm use v20&lt;/u&gt;&lt;/a&gt; didn&amp;#39;t fix it&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;I can reproduce it on a clean clone of &lt;a href=\&quot;https://github.com/backstage/backstage\&quot;&gt;&lt;u&gt;github.com/backstage/backstage&lt;/u&gt;&lt;/a&gt;. The tests seem to progress further, about 50+ seconds. This lends credence to a running theory that the filesystem crawler/watcher is the one crashing, and backstage/backstage is a bigger repo than the internal Cloudflare instance, so it takes longer.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;I next went &lt;i&gt;on a little detour&lt;/i&gt; to grab another colleague who I know has been working on a &lt;a href=\&quot;https://nextjs.org/\&quot;&gt;&lt;u&gt;Next.js&lt;/u&gt;&lt;/a&gt; project. He&amp;#39;s one of the few other people nearby who knows anything about &lt;a href=\&quot;https://nodejs.org/en\&quot;&gt;&lt;u&gt;Node.js&lt;/u&gt;&lt;/a&gt;. In my experience with troubleshooting it’s helpful to get multiple perspectives, so we can cover each other’s blind spots and avoid tunnel vision.&lt;/p&gt;&lt;p&gt;I then tried invoking many yarn tests in parallel, and I did manage to get the crash time to stretch out to 28 or 29 seconds if the system was under heavy load. So this tells me that it might not be a hard timeout but rather processing driven. A series of sleeps &lt;i&gt;chugging along&lt;/i&gt; perhaps?&lt;/p&gt;&lt;p&gt;By now, there is a veritable crowd of curious onlookers gathered in front of my terminal marveling at the consistent 27 seconds crash and trading theories. At some point, someone asked if I had tried rebooting yet, and I had to sheepishly reply that I haven&amp;#39;t but &amp;quot;I&amp;#39;m absolutely sure it wouldn&amp;#39;t help whatsoever&amp;quot;.&lt;/p&gt;&lt;p&gt;And the astute reader can already guess that rebooting did nothing at all, or else this wouldn&amp;#39;t even be a story worth telling. Besides, haven&amp;#39;t I teased in the clickbaity title about some crazy Steam Locomotive from 1993?&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;strace-to-the-rescue\&quot;&gt;Strace to the rescue&lt;/h2&gt;\n            &lt;a href=\&quot;#strace-to-the-rescue\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;My colleague then put us &lt;i&gt;back on track&lt;/i&gt; and suggested &lt;a href=\&quot;https://strace.io/\&quot;&gt;&lt;u&gt;strace&lt;/u&gt;&lt;/a&gt;, and I decided to trace the simpler case of the idling menu (rather than trace running tests, which generated far more syscalls).&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;Watch Usage\n › Press a to run all tests.\n › Press f to run only failed tests.\n › Press o to only run tests related to changed files.\n › Press p to filter by a filename regex pattern.\n › Press t to filter by a test name regex pattern.\n › Press q to quit watch mode.\n › Press Enter to trigger a test run.\n[], 1024, 1000)          = 0\nopenat(AT_FDCWD, &amp;quot;/proc/self/stat&amp;quot;, O_RDONLY) = 21\nread(21, &amp;quot;42375 (node) R 42372 42372 11692&amp;quot;..., 1023) = 301\nclose(21)                               = 0\nepoll_wait(13, [], 1024, 0)             = 0\nepoll_wait(13, [], 1024, 999)           = 0\nopenat(AT_FDCWD, &amp;quot;/proc/self/stat&amp;quot;, O_RDONLY) = 21\nread(21, &amp;quot;42375 (node) R 42372 42372 11692&amp;quot;..., 1023) = 301\nclose(21)                               = 0\nepoll_wait(13, [], 1024, 0)             = 0\nepoll_wait(13,&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;It basically &lt;code&gt;epoll_waits&lt;/code&gt; until 27 seconds are up and then, right when the crash happens:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt; ● Test suite failed to run                                                                                                                \n                                                                                                                                            \nthrown: [Error]                                                                                                                             \n                                                                                                                                            \n0x7ffd7137d5e0, 1024, 1000) = -1 EINTR (Interrupted system call)\n--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=42578, si_uid=1000, si_status=1, si_utime=0, si_stime=0} ---\nread(4, &amp;quot;*&amp;quot;, 1)                     \t= 1\nwrite(15, &amp;quot;\\210\\352!\\5\\0\\0\\0\\0\\21\\0\\0\\0\\0\\0\\0\\0&amp;quot;, 16) = 16\nwrite(5, &amp;quot;*&amp;quot;, 1)                    \t= 1\nrt_sigreturn({mask=[]})             \t= -1 EINTR (Interrupted system call)\nepoll_wait(13, [{events=EPOLLIN, data={u32=14, u64=14}}], 1024, 101) = 1\nread(14, &amp;quot;\\210\\352!\\5\\0\\0\\0\\0\\21\\0\\0\\0\\0\\0\\0\\0&amp;quot;, 512) = 16\nwait4(42578, [{WIFEXITED(s) &amp;amp;&amp;amp; WEXITSTATUS(s) == 1}], WNOHANG, NULL) = 42578\nrt_sigprocmask(SIG_SETMASK, ~[RTMIN RT_1], [], 8) = 0\nread(4, &amp;quot;*&amp;quot;, 1)                     \t= 1\nrt_sigaction(SIGCHLD, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x79e91e045330}, NULL, 8) = 0\nwrite(5, &amp;quot;*&amp;quot;, 1)                    \t= 1\nrt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\nmmap(0x34ecad880000, 1495040, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_NORESERVE, -1, 0) = 0x34ecad880000\nmadvise(0x34ecad880000, 1495040, MADV_DONTFORK) = 0\nmunmap(0x34ecad9ae000, 258048)      \t= 0\nmprotect(0x34ecad880000, 1236992, PROT_READ|PROT_WRITE) = 0&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;I don&amp;#39;t know about you, but sometimes I look at straces and wonder “Do people actually read this gibberish?” Fortunately, in the modern generative AI era, we can count on GPT-4o to gently chide: the process was interrupted &lt;code&gt;EINTR&lt;/code&gt; by its child &lt;code&gt;SIGCHLD&lt;/code&gt;, which means you forgot about the children, silly human. Is the problem with &lt;i&gt;one of the cars rather than the engine&lt;/i&gt;?&lt;/p&gt;&lt;p&gt;Following this &lt;i&gt;train of thought&lt;/i&gt;, I now re-ran with &lt;code&gt;strace --follow-forks&lt;/code&gt;, which revealed a giant flurry of activity that promptly overflowed my terminal buffer. The investigation is really &lt;i&gt;gaining steam&lt;/i&gt; now. The original trace weighs in at a hefty 500,000 lines, but here is a smaller equivalent version derived from a clean instance of backstage: &lt;a href=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3IX3GEpe1WPllLf4tJBw5l/9a6c00a3eb06693d545ca49834ded987/trace.log.gz\&quot;&gt;&lt;u&gt;trace.log.gz&lt;/u&gt;&lt;/a&gt;. I have uploaded this trace here because the by-now overhyped Steam Locomotive is finally making its grand appearance&lt;b&gt; &lt;/b&gt;and I know there&amp;#39;ll be people who&amp;#39;d love nothing more than to crawl through a haystack of system calls looking for a train-sized needle. Consider yourself lucky, I had to do it without even knowing what I was looking for, much less that it was a whole Steam Locomotive.&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;This section is left intentionally blank to allow locomotive enthusiasts who want to find the train on their own to do so first.&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;Remember my comment about straces being gibberish? Actually, I was kidding. So there are a few ways to make it more manageable, and with experience you&amp;#39;ll learn which system calls to pay attention to, such as &lt;code&gt;execve&lt;/code&gt;,&lt;code&gt; chdir&lt;/code&gt;,&lt;code&gt; open&lt;/code&gt;,&lt;code&gt; read&lt;/code&gt;,&lt;code&gt; fork&lt;/code&gt;,&lt;code&gt; and signals&lt;/code&gt;, and which ones to skim over, such as &lt;code&gt;mprotect,&lt;/code&gt; &lt;code&gt;mmap&lt;/code&gt;, and &lt;code&gt;futex&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Since I&amp;#39;m writing this account after the fact, let&amp;#39;s cheat a little and assume I was super smart and zeroed in on execve correctly on the first try:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;🌈  ~  zgrep execve trace.log.gz | head\nexecve(&amp;quot;/home/yew/.nvm/versions/node/v18.20.6/bin/yarn&amp;quot;, [&amp;quot;yarn&amp;quot;, &amp;quot;test&amp;quot;, &amp;quot;steam-regulator&amp;quot;], 0x7ffdff573148 /* 72 vars */) = 0\nexecve(&amp;quot;/home/yew/.pyenv/shims/node&amp;quot;, [&amp;quot;node&amp;quot;, &amp;quot;/home/yew/.nvm/versions/node/v18&amp;quot;..., &amp;quot;test&amp;quot;, &amp;quot;steam-regulator&amp;quot;], 0x7ffd64f878c8 /* 72 vars */) = -1 ENOENT (No such file or directory)\nexecve(&amp;quot;/home/yew/.pyenv/bin/node&amp;quot;, [&amp;quot;node&amp;quot;, &amp;quot;/home/yew/.nvm/versions/node/v18&amp;quot;..., &amp;quot;test&amp;quot;, &amp;quot;steam-regulator&amp;quot;], 0x7ffd64f878c8 /* 72 vars */) = -1 ENOENT (No such file or directory)\nexecve(&amp;quot;/home/yew/repos/secrets/bin/node&amp;quot;, [&amp;quot;node&amp;quot;, &amp;quot;/home/yew/.nvm/versions/node/v18&amp;quot;..., &amp;quot;test&amp;quot;, &amp;quot;steam-regulator&amp;quot;], 0x7ffd64f878c8 /* 72 vars */) = -1 ENOENT (No such file or directory)\nexecve(&amp;quot;/home/yew/.nvm/versions/node/v18.20.6/bin/node&amp;quot;, [&amp;quot;node&amp;quot;, &amp;quot;/home/yew/.nvm/versions/node/v18&amp;quot;..., &amp;quot;test&amp;quot;, &amp;quot;steam-regulator&amp;quot;], 0x7ffd64f878c8 /* 72 vars */) = 0\n[pid 49307] execve(&amp;quot;/bin/sh&amp;quot;, [&amp;quot;/bin/sh&amp;quot;, &amp;quot;-c&amp;quot;, &amp;quot;backstage-cli repo test resource&amp;quot;...], 0x3d17d6d0 /* 156 vars */ &amp;lt;unfinished ...&amp;gt;\n[pid 49307] &amp;lt;... execve resumed&amp;gt;)   \t= 0\n[pid 49308] execve(&amp;quot;/home/yew/cloudflare/repos/backstage/node_modules/.bin/backstage-cli&amp;quot;, [&amp;quot;backstage-cli&amp;quot;, &amp;quot;repo&amp;quot;, &amp;quot;test&amp;quot;, &amp;quot;steam-regulator&amp;quot;], 0x5e7ef80051d8 /* 156 vars */ &amp;lt;unfinished ...&amp;gt;\n[pid 49308] &amp;lt;... execve resumed&amp;gt;)   \t= 0\n[pid 49308] execve(&amp;quot;/tmp/yarn--1742459197616-0.9027914591640542/node&amp;quot;, [&amp;quot;node&amp;quot;, &amp;quot;/home/yew/cloudflare/repos/backs&amp;quot;..., &amp;quot;repo&amp;quot;, &amp;quot;test&amp;quot;, &amp;quot;steam-regulator&amp;quot;], 0x7ffcc18af270 /* 156 vars */) = 0\n🌈  ~  zgrep execve trace.log.gz | wc -l\n2254\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Phew, 2,000 is a lot of &lt;code&gt;execves&lt;/code&gt; . Let&amp;#39;s get the unique ones, plus their counts:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;🌈  ~  zgrep -oP &amp;#039;(?&amp;lt;=execve\\(&amp;quot;)[^&amp;quot;]+&amp;#039; trace.log.gz | xargs -L1 basename | sort | uniq -c | sort -nr\n    576 watchman\n    576 hg\n    368 sl\n    358 git\n     16 sl.actual\n     14 node\n      2 sh\n      1 yarn\n      1 backstage-cli&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Have you spotted the &lt;b&gt;S&lt;/b&gt;team &lt;b&gt;L&lt;/b&gt;ocomotive yet? I spotted it immediately because this is My Own System and Surely This Means I Am Perfectly Aware Of Everything That Is Installed Unlike, er, &lt;code&gt;node_modules&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;&lt;code&gt;sl&lt;/code&gt;  is actually a&lt;a href=\&quot;https://github.com/mtoyoda/sl\&quot;&gt; &lt;u&gt;fun little joke program from 1993&lt;/u&gt;&lt;/a&gt; that plays on users&amp;#39; tendencies to make a typo on &lt;a href=\&quot;https://man7.org/linux/man-pages/man1/ls.1.html\&quot;&gt;&lt;code&gt;&lt;u&gt;ls&lt;/u&gt;&lt;/code&gt;&lt;/a&gt;. When &lt;code&gt;sl&lt;/code&gt;  runs, it clears your terminal to make way for an animated steam locomotive to come chugging through.&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;                        (  ) (@@) ( )  (@)  ()\t@@\tO \t@ \tO \t@  \tO\n                   (@@@)\n               (\t)\n            (@@@@)\n \n          (   )\n      ====    \t________            \t___________\n  _D _|  |_______/    \t\\__I_I_____===__|_________|\n   |(_)---  |   H\\________/ |   |    \t=|___ ___|  \t_________________\n   / \t|  |   H  |  | \t|   |     \t||_| |_|| \t_|            \t\\_____A\n  |  \t|  |   H  |__--------------------| [___] |   =|                    \t|\n  | ________|___H__/__|_____/[][]~\\_______|   \t|   -|                    \t|\n  |/ |   |-----------I_____I [][] []  D   |=======|____|________________________|_\n__/ =| o |=-~~\\  /~~\\  /~~\\  /~~\\ ____Y___________|__|__________________________|_\n |/-=|___|=O=====O=====O=====O   |_____/~\\___/      \t|_D__D__D_|  |_D__D__D_|\n  \\_/  \t\\__/  \\__/  \\__/  \\__/  \t\\_/           \t\\_/   \\_/\t\\_/   \\_/&lt;/pre&gt;&lt;/code&gt;\n            &lt;div style=\&quot;position: relative; padding-top: 68.6046511627907%;\&quot;&gt;\n  &lt;iframe\n    src=\&quot;https://customer-eq7kiuol0tk9chox.cloudflarestream.com/4d5cf36262674071cbb0c7520d569666/iframe?preload=true&amp;loop=true&amp;autoplay=true&amp;poster=https%3A%2F%2Fcustomer-eq7kiuol0tk9chox.cloudflarestream.com%2F4d5cf36262674071cbb0c7520d569666%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D%26height%3D600\&quot;\n    loading=\&quot;lazy\&quot;\n    style=\&quot;border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;\&quot;\n    allow=\&quot;accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\&quot;\n    allowfullscreen=\&quot;true\&quot;\n  &gt;&lt;/iframe&gt;\n&lt;/div&gt;&lt;p&gt;When I first saw that Jest was running &lt;code&gt;sl&lt;/code&gt; so many times, my first thought was to ask my colleague if &lt;code&gt;sl&lt;/code&gt; is a valid command on his Mac, and of course it is not. After all, which serious engineer would stuff their machine full of silly commands like &lt;code&gt;sl&lt;/code&gt;, &lt;a href=\&quot;https://r-wos.org/hacks/gti\&quot;&gt;&lt;code&gt;&lt;u&gt;gti&lt;/u&gt;&lt;/code&gt;&lt;/a&gt;, &lt;a href=\&quot;https://en.wikipedia.org/wiki/Cowsay\&quot;&gt;&lt;code&gt;&lt;u&gt;cowsay&lt;/u&gt;&lt;/code&gt;&lt;/a&gt;, or &lt;a href=\&quot;https://linuxcommandlibrary.com/man/toilet\&quot;&gt;&lt;code&gt;&lt;u&gt;toilet&lt;/u&gt;&lt;/code&gt;&lt;/a&gt; ? The next thing I tried was to rename &lt;code&gt;sl&lt;/code&gt; to something else, and sure enough all my problems disappeared: &lt;code&gt;yarn test&lt;/code&gt; started working perfectly.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;so-what-does-jest-have-to-do-with-steam-locomotives\&quot;&gt;So what does Jest have to do with Steam Locomotives?&lt;/h2&gt;\n            &lt;a href=\&quot;#so-what-does-jest-have-to-do-with-steam-locomotives\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;&lt;a href=\&quot;https://github.com/jestjs/jest/issues/14046\&quot;&gt;&lt;u&gt;Nothing, that&amp;#39;s what&lt;/u&gt;&lt;/a&gt;. The whole affair is an unfortunate naming clash between &lt;code&gt;sl&lt;/code&gt; the Steam Locomotive and &lt;code&gt;sl&lt;/code&gt; the&lt;a href=\&quot;https://github.com/facebook/sapling?tab=readme-ov-file#sapling-cli\&quot;&gt; &lt;u&gt;Sapling CLI&lt;/u&gt;&lt;/a&gt;. Jest wanted &lt;code&gt;sl&lt;/code&gt; the source control system, but ended up getting steam-rolled by &lt;code&gt;sl &lt;/code&gt;the Steam Locomotive.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6BDDm4dEbvMuVyn1J5reqf/ac7f914b3b23608941c84a6cd7aadbb1/image3.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;877\&quot; height=\&quot;1028\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;Fortunately the devs took it in good humor, and&lt;a href=\&quot;https://github.com/jestjs/jest/pull/15053\&quot;&gt; &lt;u&gt;made a (still unreleased) fix&lt;/u&gt;&lt;/a&gt;. Check out the train memes!&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/n8MrPDXuVMuze7UEkxCie/5d187401c8bb12d8e3e0ef89d03b87f3/image4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;962\&quot; height=\&quot;523\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/Fot6dhfCsL0zvxYkVEh6a/440436342f93d1f7aca7dd70a9059436/image2.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;544\&quot; height=\&quot;237\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;At this point the main story has ended. However, there are still some unresolved nagging questions, like...&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;how-did-the-crash-arrive-at-the-magic-number-of-a-relatively-even-27-seconds\&quot;&gt;How did the crash arrive at the magic number of a relatively even 27 seconds?&lt;/h2&gt;\n            &lt;a href=\&quot;#how-did-the-crash-arrive-at-the-magic-number-of-a-relatively-even-27-seconds\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;I don&amp;#39;t know. Actually I&amp;#39;m not sure if a forked child executing &lt;code&gt;sl&lt;/code&gt; still has a terminal anymore, but the travel time of the train does depend on the terminal width. The wider it is, the longer it takes:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;🌈  ~  tput cols\n425\n🌈  ~  time sl\nsl  0.19s user 0.06s system 1% cpu 20.629 total\n🌈  ~  tput cols\n58\n🌈  ~  time sl  \nsl  0.03s user 0.01s system 0% cpu 5.695 total&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;So the first thing I tried was to run yarn test in a ridiculously narrow terminal and see what happens:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;Determin\ning test\n suites \nto run..\n.       \n        \n  ● Test\n suite f\nailed to\n run    \n        \nthrown: \n[Error] \n        \nerror Co\nmmand fa\niled wit\nh exit c\node 1.  \ninfo Vis\nit https\n://yarnp\nkg.com/e\nn/docs/c\nli/run f\nor docum\nentation\n about t\nhis comm\nand.    \nyarn tes\nt  1.92s\n user 0.\n67s syst\nem 9% cp\nu 27.088\n total  \n🌈  back\nstage [m\naster] t\nput cols\n        \n8&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Alas, the terminal width doesn&amp;#39;t affect jest at all. Jest calls&lt;a href=\&quot;https://github.com/jestjs/jest/pull/13941/files#diff-4c649a2515ae8d1dc1ed6ebccbe3b43e54e5d7217cb011df616dcf471a80319cR59\&quot;&gt; &lt;code&gt;&lt;u&gt;sl via execa&lt;/u&gt;&lt;/code&gt;&lt;/a&gt; so let&amp;#39;s mock that up locally:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;🌈  choochoo  cat runSl.mjs \nimport {execa} from &amp;#039;execa&amp;#039;;\nconst { stdout } = await execa(&amp;#039;tput&amp;#039;, [&amp;#039;cols&amp;#039;]);\nconsole.log(&amp;#039;terminal colwidth:&amp;#039;, stdout);\nawait execa(&amp;#039;sl&amp;#039;, [&amp;#039;root&amp;#039;]);\n🌈  choochoo  time node runSl.mjs\nterminal colwidth: 80\nnode runSl.mjs  0.21s user 0.06s system 4% cpu 6.730 total&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;So &lt;code&gt;execa&lt;/code&gt; uses the default terminal width of 80, which takes the train 6.7 seconds to cross. And 27 seconds divided by 6.7 is awfully close to 4. So is Jest running &lt;code&gt;sl&lt;/code&gt; 4 times? Let&amp;#39;s do a poor man&amp;#39;s &lt;a href=\&quot;https://github.com/bpftrace/bpftrace\&quot;&gt;&lt;u&gt;bpftrace&lt;/u&gt;&lt;/a&gt; by hooking into &lt;code&gt;sl&lt;/code&gt; like so:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;#!/bin/bash\n\nuniqid=$RANDOM\necho &amp;quot;$(date --utc +&amp;quot;%Y-%m-%d %H:%M:%S.%N&amp;quot;) $uniqid started&amp;quot; &amp;gt;&amp;gt; /home/yew/executed.log\n/usr/games/sl.actual &amp;quot;$@&amp;quot;\necho &amp;quot;$(date --utc +&amp;quot;%Y-%m-%d %H:%M:%S.%N&amp;quot;) $uniqid ended&amp;quot; &amp;gt;&amp;gt; /home/yew/executed.log&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;And if we check &lt;code&gt;executed.log&lt;/code&gt;, &lt;code&gt;sl&lt;/code&gt; is indeed executed in 4 waves, albeit by 5 workers simultaneously in each wave:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;#wave1\n2025-03-20 13:23:57.125482563 21049 started\n2025-03-20 13:23:57.127526987 21666 started\n2025-03-20 13:23:57.131099388 4897 started\n2025-03-20 13:23:57.134237754 102 started\n2025-03-20 13:23:57.137091737 15733 started\n#wave1 ends, wave2 starts\n2025-03-20 13:24:03.704588580 21666 ended\n2025-03-20 13:24:03.704621737 21049 ended\n2025-03-20 13:24:03.707780748 4897 ended\n2025-03-20 13:24:03.712086346 15733 ended\n2025-03-20 13:24:03.711953000 102 ended\n2025-03-20 13:24:03.714831149 18018 started\n2025-03-20 13:24:03.721293279 23293 started\n2025-03-20 13:24:03.724600164 27918 started\n2025-03-20 13:24:03.729763900 15091 started\n2025-03-20 13:24:03.733176122 18473 started\n#wave2 ends, wave3 starts\n2025-03-20 13:24:10.294286746 18018 ended\n2025-03-20 13:24:10.297261754 23293 ended\n2025-03-20 13:24:10.300925031 27918 ended\n2025-03-20 13:24:10.300950334 15091 ended\n2025-03-20 13:24:10.303498710 24873 started\n2025-03-20 13:24:10.303980494 18473 ended\n2025-03-20 13:24:10.308560194 31825 started\n2025-03-20 13:24:10.310595182 18452 started\n2025-03-20 13:24:10.314222848 16121 started\n2025-03-20 13:24:10.317875812 30892 started\n#wave3 ends, wave4 starts\n2025-03-20 13:24:16.883609316 24873 ended\n2025-03-20 13:24:16.886708598 18452 ended\n2025-03-20 13:24:16.886867725 31825 ended\n2025-03-20 13:24:16.890735338 16121 ended\n2025-03-20 13:24:16.893661911 21975 started\n2025-03-20 13:24:16.898525968 30892 ended\n#crash imminent! wave4 ending, wave5 starting...\n2025-03-20 13:24:23.474925807 21975 ended&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;The logs were emitted for about 26.35 seconds, which is close to 27. It probably crashed just as wave4 was reporting back. And each wave lasts about 6.7 seconds, right on the money with manual measurement. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;so-why-is-jest-running-sl-in-4-waves-why-did-it-crash-at-the-start-of-the-5th-wave\&quot;&gt;So why is Jest running sl in 4 waves? Why did it crash at the start of the 5th wave?&lt;/h2&gt;\n            &lt;a href=\&quot;#so-why-is-jest-running-sl-in-4-waves-why-did-it-crash-at-the-start-of-the-5th-wave\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Let&amp;#39;s again modify the poor man&amp;#39;s bpftrace to also log the args and working directory:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;echo &amp;quot;$(date --utc +&amp;quot;%Y-%m-%d %H:%M:%S.%N&amp;quot;) $uniqid started: $@ at $PWD&amp;quot; &amp;gt;&amp;gt; /home/yew/executed.log&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;From the results we can see that the 5 workers are busy executing &lt;code&gt;sl root&lt;/code&gt;, which corresponds to the &lt;code&gt;getRoot()&lt;/code&gt;  function in &lt;code&gt;jest-change-files/sl.ts&lt;/code&gt; &lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;2025-03-21 05:50:22.663263304  started: root at /home/yew/cloudflare/repos/backstage/packages/app/src\n2025-03-21 05:50:22.665550470  started: root at /home/yew/cloudflare/repos/backstage/packages/backend/src\n2025-03-21 05:50:22.667988509  started: root at /home/yew/cloudflare/repos/backstage/plugins/access/src\n2025-03-21 05:50:22.671781519  started: root at /home/yew/cloudflare/repos/backstage/plugins/backstage-components/src\n2025-03-21 05:50:22.673690514  started: root at /home/yew/cloudflare/repos/backstage/plugins/backstage-entities/src\n2025-03-21 05:50:29.247573899  started: root at /home/yew/cloudflare/repos/backstage/plugins/catalog-types-common/src\n2025-03-21 05:50:29.251173536  started: root at /home/yew/cloudflare/repos/backstage/plugins/cross-connects/src\n2025-03-21 05:50:29.255263605  started: root at /home/yew/cloudflare/repos/backstage/plugins/cross-connects-backend/src\n2025-03-21 05:50:29.257293780  started: root at /home/yew/cloudflare/repos/backstage/plugins/pingboard-backend/src\n2025-03-21 05:50:29.260285783  started: root at /home/yew/cloudflare/repos/backstage/plugins/resource-insights/src\n2025-03-21 05:50:35.823374079  started: root at /home/yew/cloudflare/repos/backstage/plugins/scaffolder-backend-module-gaia/src\n2025-03-21 05:50:35.825418386  started: root at /home/yew/cloudflare/repos/backstage/plugins/scaffolder-backend-module-r2/src\n2025-03-21 05:50:35.829963172  started: root at /home/yew/cloudflare/repos/backstage/plugins/security-scorecard-dash/src\n2025-03-21 05:50:35.832597778  started: root at /home/yew/cloudflare/repos/backstage/plugins/slo-directory/src\n2025-03-21 05:50:35.834631869  started: root at /home/yew/cloudflare/repos/backstage/plugins/software-excellence-dashboard/src\n2025-03-21 05:50:42.404063080  started: root at /home/yew/cloudflare/repos/backstage/plugins/teamcity/src&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;The 16 entries here correspond neatly to the 16 &lt;code&gt;rootDirs&lt;/code&gt; configured in Jest for Cloudflare&amp;#39;s backstage. We have 5 trains, and we want to visit 16 stations so let&amp;#39;s do some simple math. 16/5.0 = 3.2 which means our trains need to go back and forth 4 times at a minimum to cover them all.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;final-mystery-why-did-it-crash\&quot;&gt;Final mystery: Why did it crash?&lt;/h2&gt;\n            &lt;a href=\&quot;#final-mystery-why-did-it-crash\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Let&amp;#39;s go back to the very start of our journey. The original &lt;code&gt;[Error]&lt;/code&gt; thrown was actually&lt;a href=\&quot;https://github.com/jestjs/jest/pull/13941/files#diff-4c649a2515ae8d1dc1ed6ebccbe3b43e54e5d7217cb011df616dcf471a80319cR48\&quot;&gt; &lt;u&gt;from here&lt;/u&gt;&lt;/a&gt; and after modifying &lt;code&gt;node_modules/jest-changed-files/index.js&lt;/code&gt;, I found that the error is &lt;code&gt;shortMessage: &amp;#39;Command failed with ENAMETOOLONG: sl status...&lt;/code&gt;&amp;#39;  and the reason why became clear when I interrogated Jest about what it thinks the repos are.&lt;/p&gt;&lt;p&gt;While the git repo is what you&amp;#39;d expect, the sl &amp;quot;repo&amp;quot; looks amazingly like a &lt;i&gt;train wreck in motion&lt;/i&gt;:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Rust\&quot;&gt;&lt;code class=\&quot;language-Rust\&quot;&gt;got repos.git as Set(1) { &amp;#039;/home/yew/cloudflare/repos/backstage&amp;#039; }\ngot repos.sl as Set(1) {\n  &amp;#039;\\x1B[?1049h\\x1B[1;24r\\x1B[m\\x1B(B\\x1B[4l\\x1B[?7h\\x1B[?25l\\x1B[H\\x1B[2J\\x1B[15;80H_\\x1B[15;79H_\\x1B[16d|\\x1B[9;80H_\\x1B[12;80H|\\x1B[13;80H|\\x1B[14;80H|\\x1B[15;78H__/\\x1B[16;79H|/\\x1B[17;80H\\\\\\x1B[9;\n  79H_D\\x1B[10;80H|\\x1B[11;80H/\\x1B[12;79H|\\x1B[K\\x1B[13d\\b|\\x1B[K\\x1B[14d\\b|/\\x1B[15;1H\\x1B[1P\\x1B[16;78H|/-\\x1B[17;79H\\\\_\\x1B[9;1H\\x1B[1P\\x1B[10;79H|(\\x1B[11;79H/\\x1B[K\\x1B[12d\\b\\b|\\x1B[K\\x1B[13d\\b|\n  _\\x1B[14;1H\\x1B[1P\\x1B[15;76H__/ =\\x1B[16;77H|/-=\\x1B[17;78H\\\\_/\\x1B[9;77H_D _\\x1B[10;78H|(_\\x1B[11;78H/\\x1B[K\\x1B[12d\\b\\b|\\x1B[K\\x1B[13d\\b| _\\x1B[14;77H|/ |\\x1B[15;75H__/\n  =|\\x1B[16;76H|/-=|\\x1B[17;1H\\x1B[1P\\x1B[8;80H=\\x1B[9;76H_D _|\\x1B[10;77H|(_)\\x1B[11;77H/\\x1B[K\\x1B[12d\\b\\b|\\x1B[K\\x1B[13d\\b|\n  _\\r\\x1B[14d\\x1B[1P\\x1B[15d\\x1B[1P\\x1B[16;75H|/-=|_\\x1B[17;1H\\x1B[1P\\x1B[8;79H=\\r\\x1B[9d\\x1B[1P\\x1B[10;76H|(_)-\\x1B[11;76H/\\x1B[K\\x1B[12d\\b\\b|\\x1B[K\\x1B[13d\\b| _\\r\\x1B[14d\\x1B[1P\\x1B[15;73H__/ =|\n  o\\x1B[16;74H|/-=|_\\r\\x1B[17d\\x1B[1P\\x1B[8;78H=\\r\\x1B[9d\\x1B[1P\\x1B[10;75H|(_)-\\x1B[11;75H/\\x1B[K\\x1B[12d\\b\\b|\\x1B[K\\x1B[13d\\b|\n  _\\r\\x1B[14d\\x1B[1P\\x1B[15d\\x1B[1P\\x1B[16;73H|/-=|_\\r\\x1B[17d\\x1B[1P\\x1B[8;77H=\\x1B[9;73H_D _|  |\\x1B[10;74H|(_)-\\x1B[11;74H/     |\\x1B[12;73H|      |\\x1B[13;73H| _\\x1B[14;73H|/ |   |\\x1B[15;71H__/\n  =| o |\\x1B[16;72H|/-=|___|\\x1B[17;1H\\x1B[1P\\x 1B[5;79H(@\\x1B[7;77H(\\r\\x1B[8d\\x1B[1P\\x1B[9;72H_D _|  |_\\x1B[10;1H\\x1B[1P\\x1B[11d\\x1B[1P\\x1B[12d\\x1B[1P\\x1B[13;72H| _\\x1B[14;72H|/ |   |-\\x1B[15;70H__/\n  =| o |=\\x1B[16;71H|/-=|___|=\\x1B[17;1H\\x1B[1P\\x1B[8d\\x1B[1P\\x1B[9;71H_D _|  |_\\r\\x1B[10d\\x1B[1P\\x1B[11d\\x1B[1P\\x1B[12d\\x1B[1P\\x1B[13;71H| _\\x1B[14;71H|/ |   |-\\x1B[15;69H__/ =| o\n  |=-\\x1B[16;70H|/-=|___|=O\\x1B[17;71H\\\\_/      \\\\\\x1B[8;1H\\x1B[1P\\x1B[9;70H_D _|  |_\\x1B[10;71H|(_)---  |\\x1B[11;71H/     |  |\\x1B[12;70H|      |  |\\x1B[13;70H| _\\x1B[80G|\\x1B[14;70H|/ |\n  |-\\x1B[15;68H__/ =| o |=-~\\x1B[16;69H|/-=|___|=\\x1B[K\\x1B[17;70H\\\\_/      \\\\O\\x1B[8;1H\\x1B[1P\\x1B[9;69H_D _|  |_\\r\\x1B[10d\\x1B[1P\\x1B[11d\\x1B[1P\\x1B[12d\\x1B[1P\\x1B[13;69H| _\\x1B[79G|_\\x1B[14;69H|/ |\n  |-\\x1B[15;67H__/ =| o |=-~\\r\\x1B[16d\\x1B[1P\\x1B[17;69H\\\\_/      \\\\_\\x1B[4d\\b\\b(@@\\x1B[5;75H(    )\\x1B[7;73H(@@@)\\r\\x1B[8d\\x1B[1P\\x1B[9;68H_D _|\n  |_\\r\\x1B[10d\\x1B[1P\\x1B[11d\\x1B[1P\\x1B[12d\\x1B[1P\\x1B[13;68H| _\\x1B[78G|_\\x1B[14;68H|/ |   |-\\x1B[15;66H__/ =| o |=-~~\\\\\\x1B[16;67H|/-=|___|=   O\\x1B[17;68H\\\\_/ \\\\__/\\x1B[8;1H\\x1B[1P\\x1B[9;67H_D _|\n  |_\\r\\x1B[10d\\x1B[1P\\x1B[11d\\x1B[1P\\x1B[12d\\x1B[1P\\x1B[13;67H| _\\x1B[77G|_\\x1B[14;67H|/ |   |-\\x1B[15;65H__/ =| o |=-~O==\\x1B[16;66H|/-=|___|= |\\x1B[17;1H\\x1B[1P\\x1B[8d\\x1B[1P\\x1B[9;66H_D _|\n  |_\\x1B[10;67H|(_)---  |   H\\x1B[11;67H/     |  |   H\\x1B[12;66H|      |  |   H\\x1B[13;66H| _\\x1B[76G|___H\\x1B[14;66H|/ |   |-\\x1B[15;64H__/ =| o |=-O==\\x1B[16;65H|/-=|___|=\n  |\\r\\x1B[17d\\x1B[1P\\x1B[8d\\x1B[1P\\x1B[9;65H_D _|  |_\\x1B[80G/\\x1B[10;66H|(_)---  |   H\\\\\\x1B[11;1H\\x1B[1P\\x1B[12d\\x1B[1P\\x1B[13;65H| _\\x1B[75G|___H_\\x1B[14;65H|/ | |-\\x1B[15;63H__/ =| o |=-~~\\\\\n  /\\x1B[16;64H|/-=|___|=O=====O\\x1B[17;65H\\\\_/      \\\\__/  \\\\\\x1B[1;4r\\x1B[4;1H\\n&amp;#039; + &amp;#039;\\x1B[1;24r\\x1B[4;74H(    )\\x1B[5;71H(@@@@)\\x1B[K\\x1B[7;69H(   )\\x1B[K\\x1B[8;68H====\n  \\x1B[80G_\\x1B[9;1H\\x1B[1P\\x1B[10;65H|(_)---  |   H\\\\_\\x1B[11;1H\\x1B[1P\\x1B[12d\\x1B[1P\\x1B[13;64H| _\\x1B[74G|___H_\\x1B[14;64H|/ |   |-\\x1B[15;62H__/ =| o |=-~~\\\\  /~\\x1B[16;63H|/-=|___|=\n  ||\\x1B[K\\x1B[17;64H\\\\_/      \\\\O=====O\\x1B[8;67H==== \\x1B[79G_\\r\\x1B[9d\\x1B[1P\\x1B[10;64H|(_)---  |   H\\\\_\\x1B[11;64H/     |  |   H  |\\x1B[12;63H|      |  |   H  |\\x1B[13;63H|\n  _\\x1B[73G|___H__/\\x1B[14;63H|/ |   |-\\x1B[15;61H__/ =| o |=-~~\\\\  /~\\r\\x1B[16d\\x1B[1P\\x1B[17;63H\\\\_/      \\\\_\\x1B[8;66H==== \\x1B[78G_\\r\\x1B[9d\\x1B[1P\\x1B[10;63H|(_)---  |\n  H\\\\_\\r\\x1B[11d\\x1B[1P\\x1B[12;62H|      |  |   H  |_\\x1B[13;62H| _\\x1B[72G|___H__/_\\x1B[14;62H|/ |   |-\\x1B[15;60H__/ =| o |=-~~\\\\  /~~\\\\\\x1B[16;61H|/-=|___|=   O=====O\\x1B[17;62H\\\\_/      \\\\__/\n  \\\\__/\\x1B[8;65H==== \\x1B[77G_\\r\\x1B[9d\\x1B[1P\\x1B[10;62H|(_)---  |   H\\\\_\\r\\x1B[11d\\x1B[1P\\x1B[12;61H|      |  |   H  |_\\x1B[13;61H| _\\x1B[71G|___H__/_\\x1B[14;61H|/ |   |-\\x1B[80GI\\x1B[15;59H__/ =|\n  o |=-~O=====O==\\x1B[16;60H|/-=|___|=    ||    |\\x1B[17;1H\\x1B[1P\\x1B[2;79H(@\\x1B[3;74H(   )\\x1B[K\\x1B[4;70H(@@@@)\\x1B[K\\x1B[5;67H(    )\\x1B[K\\x1B[7;65H(@@@)\\x1B[K\\x1B[8;64H====\n  \\x1B[76G_\\r\\x1B[9d\\x1B[1P\\x1B[10;61H|(_)---  |   H\\\\_\\x1B[11;61H/     |  |   H  |  |\\x1B[12;60H|      |  |   H  |__-\\x1B[13;60H| _\\x1B[70G|___H__/__|\\x1B[14;60H|/ |   |-\\x1B[79GI_\\x1B[15;58H__/ =| o\n  |=-O=====O==\\x1B[16;59H|/-=|___|=    ||    |\\r\\x1B[17d\\x1B[1P\\x1B[8;63H==== \\x1B[75G_\\r\\x1B[9d\\x1B[1P\\x1B[10;60H|(_)---  |   H\\\\_\\r\\x1B[11d\\x1B[1P\\x1B[12;59H|      |  |   H  |__-\\x1B[13;59H|\n  _\\x1B[69G|___H__/__|_\\x1B[14;59H|/ |   |-\\x1B[78GI_\\x1B[15;57H__/ =| o |=-~~\\\\  /~~\\\\  /\\x1B[16;58H|/-=|___|=O=====O=====O\\x1B[17;59H\\\\_/      \\\\__/  \\\\__/  \\\\\\x1B[8;62H====\n  \\x1B[74G_\\r\\x1B[9d\\x1B[1P\\x1B[10;59H|(_)---  |   H\\\\_\\r\\x1B  |  |   H  |__-\\x1B[13;58H| _\\x1B[68G|___H__/__|_\\x1B[14;58H|/ |   |-\\x1B[77GI_\\x1B[15;56H__/ =| o |=-~~\\\\ /~~\\\\  /~\\x1B[16;57H|/-=|___|=\n  ||    ||\\x1B[K\\x1B[17;58H\\\\_/      \\\\O=====O=====O\\x1B[8;61H==== \\x1B[73G_\\r\\x1B[9d\\x1B[1P\\x1B[10;58H|(_)---    _\\x1B[67G|___H__/__|_\\x1B[14;57H|/ |   |-\\x1B[76GI_\\x1B[15;55H__/ =| o |=-~~\\\\  /~~\\\\\n  /~\\r\\x1B[16d\\x1B[1P\\x1B[17;57H\\\\_/      \\\\_\\x1B[2;75H(  ) (\\x1B[3;70H(@@@)\\x1B[K\\x1B[4;66H()\\x1B[K\\x1B[5;63H(@@@@)\\x1B[&lt;/pre&gt;&lt;/code&gt;\n            \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;acknowledgements\&quot;&gt;Acknowledgements&lt;/h2&gt;\n            &lt;a href=\&quot;#acknowledgements\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Thank you to my colleagues Mengnan Gong and Shuhao Zhang, whose ideas and perspectives helped narrow down the root causes of this mystery.&lt;/p&gt;&lt;p&gt;If you enjoy troubleshooting weird and tricky production issues, &lt;a href=\&quot;https://www.cloudflare.com/en-gb/careers/jobs/?department=Engineering\&quot;&gt;&lt;i&gt;&lt;u&gt;our engineering teams are hiring&lt;/u&gt;&lt;/i&gt;&lt;/a&gt;&lt;i&gt;.&lt;/i&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-04-02T14:00+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-02T13:00:03.425Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1yA1TgNlIUZwtZ4bIL39EJ/0bfc765dae00213eca7e48a337c8178e/image1.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;2UVIYusJwlvsmPYl2AvSuR&quot;],&quot;name&quot;:[0,&quot;Deep Dive&quot;],&quot;slug&quot;:[0,&quot;deep-dive&quot;]}],[0,{&quot;id&quot;:[0,&quot;383iv0UQ6Lp0GZwOAxGq2p&quot;],&quot;name&quot;:[0,&quot;Linux&quot;],&quot;slug&quot;:[0,&quot;linux&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Yew Leong&quot;],&quot;slug&quot;:[0,&quot;yew-leong&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/658l52gIu4kyDjwnJCelUt/d0a7c86def68692d50d9b4a0d6fc2f18/_tmp_mini_magick20221116-43-2dcplr.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Yarn tests fail consistently at the 27-second mark. The usual suspects are swiftly eliminated to no avail. A deep dive is taken to comb through traces, only to be derailed into an unexpected crash investigation.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/yarn-test-suffers-strange-derailment&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;A steam locomotive from 1993 broke my yarn test&quot;],&quot;description&quot;:[0,&quot;Yarn tests fail consistently at the 27-second mark. The usual suspects are swiftly eliminated to no avail. A deep dive is taken to comb through traces, only to be derailed into an unexpected crash investigation.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4y36mkMs8GlYflk6MMmLnh/42840cf34748ac9b6619c5d47704db10/A_steam_locomotive_from_1993_broke_my_yarn_test-OG.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;7ywSxti5U7fxjKbqmVXpGW&quot;],&quot;title&quot;:[0,&quot;Introducing Cloudy, Cloudflare’s AI agent for simplifying complex configurations&quot;],&quot;slug&quot;:[0,&quot;introducing-ai-agent&quot;],&quot;excerpt&quot;:[0,&quot;Cloudflare’s first AI agent, Cloudy, helps make complicated configurations easy to understand for Cloudflare administrators.&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;It’s a big day here at Cloudflare! Not only is it Security Week, but today marks Cloudflare’s first step into a completely new area of functionality, intended to improve how our users both interact with, and get value from, all of our products.&lt;/p&gt;&lt;p&gt;We’re excited to share a first glance of how we’re embedding &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-artificial-intelligence/\&quot;&gt;AI&lt;/a&gt; features into the management of Cloudflare products you know and love. Our first mission? Focus on security and streamline the rule and policy management experience. The goal is to automate away the time-consuming task of manually reviewing and contextualizing Custom Rules in &lt;a href=\&quot;https://www.cloudflare.com/application-services/products/waf/\&quot;&gt;Cloudflare WAF&lt;/a&gt;, and Gateway policies in Cloudflare One, so you can instantly understand what each policy does, what gaps they have, and what you need to do to fix them.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;meet-cloudy-cloudflares-first-ai-agent\&quot;&gt;Meet Cloudy, Cloudflare’s first AI agent&lt;/h3&gt;\n            &lt;a href=\&quot;#meet-cloudy-cloudflares-first-ai-agent\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Our initial step toward a fully AI-enabled product experience is the introduction of &lt;i&gt;Cloudy&lt;/i&gt;, the first version of Cloudflare AI agents, assistant-like functionality designed to help users quickly understand and improve their Cloudflare configurations in multiple areas of the product suite. You’ll start to see Cloudy functionality seamlessly embedded into two Cloudflare products across the dashboard, which we’ll talk about below.&lt;/p&gt;&lt;p&gt;And while the name &lt;i&gt;Cloudy&lt;/i&gt; may be fun and light-hearted, our goals are more serious: Bring Cloudy and AI-powered functionality to every corner of Cloudflare, and optimize how our users operate and manage their favorite Cloudflare products. Let’s start with two places where Cloudy is now live and available to all customers using the WAF and Gateway products.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;waf-custom-rules\&quot;&gt;WAF Custom Rules&lt;/h3&gt;\n            &lt;a href=\&quot;#waf-custom-rules\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Let’s begin with AI-powered overviews of &lt;a href=\&quot;https://developers.cloudflare.com/waf/custom-rules/\&quot;&gt;&lt;u&gt;WAF Custom Rules&lt;/u&gt;&lt;/a&gt;. For those unfamiliar, Cloudflare’s Web Application Firewall (WAF) helps protect web applications from attacks like &lt;a href=\&quot;https://www.cloudflare.com/learning/security/threats/sql-injection/\&quot;&gt;SQL injection&lt;/a&gt;, &lt;a href=\&quot;https://www.cloudflare.com/learning/security/threats/cross-site-scripting/\&quot;&gt;cross-site scripting (XSS)&lt;/a&gt;, and other vulnerabilities. &lt;/p&gt;&lt;p&gt;One specific feature of the WAF is the ability to create WAF Custom Rules. These allow users to tailor security policies to block, challenge, or allow traffic based on specific attributes or security criteria.&lt;/p&gt;&lt;p&gt;However, for customers with dozens or even hundreds of rules deployed across their organization, it can be challenging to maintain a clear understanding of their security posture. Rule configurations evolve over time, often managed by different team members, leading to potential inefficiencies and security gaps. What better problem for Cloudy to solve?&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4zcFRfhRWGQWhoza9TolDu/25e1357540db32e59150609e6eddd1e0/BLOG-2692_2.png\&quot; alt=\&quot;BLOG-2692 2\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1774\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;Powered by &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/\&quot;&gt;&lt;u&gt;Workers AI&lt;/u&gt;&lt;/a&gt;, today we’ll share how Cloudy will help review your WAF Custom Rules and provide a summary of what&amp;#39;s configured across them. Cloudy will also help you identify and solve issues such as:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Identifying redundant rules&lt;/b&gt;: Identify when multiple rules are performing the same function, or using similar fields, helping you streamline your configuration.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Optimising execution order&lt;/b&gt;: Spot cases where rules ordering affects functionality, such as when a terminating rule (block/challenge action) prevents subsequent rules from executing.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Analysing conflicting rules&lt;/b&gt;: Detect when rules counteract each other, such as one rule blocking traffic that another rule is designed to allow or log.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Identifying disabled rules&lt;/b&gt;: Highlight potentially important security rules that are in a disabled state, helping ensure that critical protections are not accidentally left inactive.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Cloudy won&amp;#39;t just summarize your rules, either. It will analyze the relationships and interactions between rules to provide actionable recommendations. For security teams managing complex sets of Custom Rules, this means less time spent auditing configurations and more confidence in your security coverage.&lt;/p&gt;&lt;p&gt;Available to all users, we’re excited to show how Cloudflare AI Agents can enhance the usability of our products, starting with WAF Custom Rules. But this is just the beginning.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;cloudflare-one-firewall-policies\&quot;&gt;Cloudflare One Firewall policies&lt;/h3&gt;\n            &lt;a href=\&quot;#cloudflare-one-firewall-policies\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        \n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4CXHQVlO3GGqwp6DGyOklJ/3068c434c4a303cf22c328c302947fcb/BLOG-2692_3.png\&quot; alt=\&quot;BLOG-2692 3\&quot; class=\&quot;kg-image\&quot; width=\&quot;766\&quot; height=\&quot;783\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;We&amp;#39;ve also added Cloudy to &lt;a href=\&quot;https://www.cloudflare.com/static/e9ea5dfaa69c554cc1cbaa7f3e441acf/Cloudflare_One_at_a_glance.pdf\&quot;&gt;&lt;u&gt;Cloudflare One&lt;/u&gt;&lt;/a&gt;, our SASE platform, where enterprises manage the security of their employees and tools from a single dashboard.&lt;/p&gt;&lt;p&gt;In &lt;a href=\&quot;https://www.cloudflare.com/zero-trust/products/gateway/\&quot;&gt;&lt;u&gt;Cloudflare Gateway&lt;/u&gt;&lt;/a&gt;, our Secure Web Gateway offering, customers can configure policies to manage how employees do their jobs on the Internet. These Gateway policies can block access to malicious sites, prevent data loss violations, and control user access, among other things.&lt;/p&gt;&lt;p&gt;But similar to WAF Custom Rules, Gateway policy configurations can become overcomplicated and bogged down over time, with old, forgotten policies that do who-knows-what. Multiple selectors and operators working in counterintuitive ways. Some blocking traffic, others allowing it. Policies that include several user groups, but carve out specific employees. We’ve even seen policies that block hundreds of URLs in a single step. All to say, managing years of Gateway policies can become overwhelming.&lt;/p&gt;&lt;p&gt;So, why not have Cloudy summarize Gateway policies in a way that makes their purpose clear and concise?&lt;/p&gt;&lt;p&gt;Available to all Cloudflare Gateway users (create a free Cloudflare One account &lt;a href=\&quot;https://www.cloudflare.com/zero-trust/products/\&quot;&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt;), Cloudy will now provide a quick summary of any Gateway policy you view. It’s now easier than ever to get a clear understanding of each policy at a glance, allowing admins to spot misconfigurations, redundant controls, or other areas for improvement, and move on with confidence.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;built-on-workers-ai\&quot;&gt;Built on Workers AI&lt;/h3&gt;\n            &lt;a href=\&quot;#built-on-workers-ai\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;At the heart of our new functionality is &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/products/workers-ai/\&quot;&gt;&lt;u&gt;Cloudflare Workers AI&lt;/u&gt;&lt;/a&gt; (yes, the same version that everyone uses!) that leverages advanced &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-large-language-model/\&quot;&gt;large language models (LLMs) &lt;/a&gt;to process vast amounts of information; in this case, policy and rules data. Traditionally, manually reviewing and contextualizing complex configurations is a daunting task for any security team. With Workers AI, we automate that process, turning raw configuration data into consistent, clear summaries and actionable recommendations.&lt;/p&gt;&lt;h4&gt;&lt;b&gt;How it works&lt;/b&gt;&lt;/h4&gt;&lt;p&gt;Cloudflare Workers AI ingests policy and rule configurations from your Cloudflare setup and combines them with a purpose-built LLM prompt. We leverage the same &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/\&quot;&gt;&lt;u&gt;publicly-available LLM models&lt;/u&gt;&lt;/a&gt; that we offer our customers, and then further enrich the prompt with some additional data to provide it with context. For this specific task of analyzing and summarizing policy and rule data, we provided the LLM:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Policy &amp;amp; rule data&lt;/b&gt;: This is the primary data itself, including the current configuration of policies/rules for Cloudy to summarize and provide suggestions against.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Documentation on product abilities:&lt;/b&gt; We provide the model with additional technical details on the policy/rule configurations that are possible with each product, so that the model knows what kind of recommendations are within its bounds.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Enriched datasets&lt;/b&gt;: Where WAF Custom Rules or CF1 Gateway policies leverage other ‘lists’ (e.g., a WAF rule referencing multiple countries, a Gateway policy leveraging a specific content category), the list item(s) selected must be first translated from an ID to plain-text wording so that the LLM can interpret which policy/rule values are actually being used.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Output instructions&lt;/b&gt;: We specify to the model which format we’d like to receive the output in. In this case, we use JSON for easiest handling.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Additional clarifications&lt;/b&gt;: Lastly, we explicitly instruct the LLM to be sure about its output, valuing that aspect above all else. Doing this helps us ensure that no hallucinations make it to the final output.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;By automating the analysis of your WAF Custom Rules and Gateway policies, Cloudflare Workers AI not only saves you time but also enhances security by reducing the risk of human error. You get clear, actionable insights that allow you to streamline your configurations, quickly spot anomalies, and maintain a strong security posture—all without the need for labor-intensive manual reviews.&lt;/p&gt;&lt;h4&gt;What’s next for Cloudy&lt;/h4&gt;&lt;p&gt;Beta previews of Cloudy are live for all Cloudflare customers today. But this is just the beginning of what we envision for AI-powered functionality across our entire product suite.&lt;/p&gt;&lt;p&gt;Throughout the rest of 2025, we plan to roll out additional &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/what-is-agentic-ai/\&quot;&gt;AI agent capabilities&lt;/a&gt; across other areas of Cloudflare. These new features won’t just help customers manage security more efficiently, but they’ll also provide intelligent recommendations for optimizing performance, streamlining operations, and enhancing overall user experience.&lt;/p&gt;&lt;p&gt;We’re excited to hear your thoughts as you get to meet Cloudy and try out these new AI features – send feedback to us at &lt;a href=\&quot;mailto:cloudyfeedback@cloudflare.com\&quot;&gt;&lt;u&gt;cloudyfeedback@cloudflare.com&lt;/u&gt;&lt;/a&gt;, or post your thoughts on X, LinkedIn, or Mastodon tagged with #SecurityWeek! Your feedback will help shape our roadmap for AI enhancement, and bring our users smarter, more efficient tooling that helps everyone get more secure.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5gGseiyO6pbddpdSVQ5wfJ/ae1d0d5a2f8ec01f571de7a85b655370/BLOG-2692_4.png\&quot; alt=\&quot;BLOG-2692 4\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;347\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;watch-on-cloudflare-tv\&quot;&gt;Watch on Cloudflare TV&lt;/h3&gt;\n            &lt;a href=\&quot;#watch-on-cloudflare-tv\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;div style=\&quot;position: relative; padding-top: 56.25%;\&quot;&gt;\n  &lt;iframe\n    src=\&quot;https://customer-rhnwzxvb3mg4wz3v.cloudflarestream.com/a17f6d8c6e2bd7401e443b67ed780120/iframe?preload=true&amp;poster=https%3A%2F%2Fcustomer-rhnwzxvb3mg4wz3v.cloudflarestream.com%2Fa17f6d8c6e2bd7401e443b67ed780120%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D1s%26height%3D600\&quot;\n    loading=\&quot;lazy\&quot;\n    style=\&quot;border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;\&quot;\n    allow=\&quot;accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\&quot;\n    allowfullscreen=\&quot;true\&quot;\n  &gt;&lt;/iframe&gt;\n&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-03-20T13:10+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-06-06T20:28:22.837Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2xorIrMANoEkjSDTPof0Zz/435411092defa3c7b10fd49035879891/BLOG-2692_1.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;1Wf1Dpb2AFicG44jpRT29y&quot;],&quot;name&quot;:[0,&quot;Workers AI&quot;],&quot;slug&quot;:[0,&quot;workers-ai&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;6gMpGK5HugYKaxJbvTMOHp&quot;],&quot;name&quot;:[0,&quot;LLM&quot;],&quot;slug&quot;:[0,&quot;llm&quot;]}],[0,{&quot;id&quot;:[0,&quot;lGCLqAT2SMojMzw5b6aio&quot;],&quot;name&quot;:[0,&quot;WAF&quot;],&quot;slug&quot;:[0,&quot;waf&quot;]}],[0,{&quot;id&quot;:[0,&quot;4Z2oveL0P0AeqGa5lL4Vo1&quot;],&quot;name&quot;:[0,&quot;Cloudflare One&quot;],&quot;slug&quot;:[0,&quot;cloudflare-one&quot;]}],[0,{&quot;id&quot;:[0,&quot;J61Eszqn98amrYHq4IhTx&quot;],&quot;name&quot;:[0,&quot;Zero Trust&quot;],&quot;slug&quot;:[0,&quot;zero-trust&quot;]}],[0,{&quot;id&quot;:[0,&quot;3QNaVNNpUXrfZYUGDJkXwA&quot;],&quot;name&quot;:[0,&quot;Cloudflare Zero Trust&quot;],&quot;slug&quot;:[0,&quot;cloudflare-zero-trust&quot;]}],[0,{&quot;id&quot;:[0,&quot;2UI24t7uddD0CIIUJCu1f4&quot;],&quot;name&quot;:[0,&quot;SASE&quot;],&quot;slug&quot;:[0,&quot;sase&quot;]}],[0,{&quot;id&quot;:[0,&quot;7ETpt9DkW8WB415TgyD3Zi&quot;],&quot;name&quot;:[0,&quot;Secure Web Gateway&quot;],&quot;slug&quot;:[0,&quot;secure-web-gateway&quot;]}],[0,{&quot;id&quot;:[0,&quot;5p4Ywa16kAdgLidZ0XHvHa&quot;],&quot;name&quot;:[0,&quot;Beta&quot;],&quot;slug&quot;:[0,&quot;beta&quot;]}],[0,{&quot;id&quot;:[0,&quot;2s3r2BdfPas9oiGbGRXdmQ&quot;],&quot;name&quot;:[0,&quot;Network Services&quot;],&quot;slug&quot;:[0,&quot;network-services&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Alex Dunbrack&quot;],&quot;slug&quot;:[0,&quot;alex-dunbrack&quot;],&quot;bio&quot;:[0,&quot;Product manager @Cloudflare, previously co-founder @Vectrix, alum @Y Combinator&quot;],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/73rgMyGhcPKcLk84gVa7pR/5597006a4e659bc31ff6862749681bb8/alex-dunbrack.jpeg&quot;],&quot;location&quot;:[0,&quot;San Francisco&quot;],&quot;website&quot;:[0,&quot;https://www.linkedin.com/in/alexdunbrack&quot;],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Harsh Saxena&quot;],&quot;slug&quot;:[0,&quot;harsh-saxena&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1eEVnuAy0vFvqrA4DuCOyI/56dcd6d40b152672d6a5a3bedae2f623/Harsh_S.jpg&quot;],&quot;location&quot;:[0],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Cloudflare’s first AI agent, Cloudy, helps make complicated configurations easy to understand for Cloudflare administrators.\n&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;LOC: Introducing Cloudy, Cloudflare’s AI agent for simplifying complex configurations&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;Translated for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;Translated for Locale&quot;],&quot;frFR&quot;:[0,&quot;Translated for Locale&quot;],&quot;deDE&quot;:[0,&quot;Translated for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;Translated for Locale&quot;],&quot;koKR&quot;:[0,&quot;Translated for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;Translated for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/introducing-ai-agent&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0],&quot;description&quot;:[0,&quot;Cloudflare’s first AI agent, Cloudy, helps make complicated configurations easy to understand for Cloudflare administrators.\n&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3saCJUKec4xaLaDCrx1JmK/dea7827a94c3bcac0eff67f303a55937/BLOG-2692_OG.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;6kOBF6L96Ufw5NbPmavW7Y&quot;],&quot;title&quot;:[0,&quot;Keep AI interactions secure and risk-free with Guardrails in AI Gateway&quot;],&quot;slug&quot;:[0,&quot;guardrails-in-ai-gateway&quot;],&quot;excerpt&quot;:[0,&quot;Deploy AI safely with built-in Guardrails in AI Gateway. Flag and block harmful or inappropriate content, protect personal data, and ensure compliance in real-time&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;The transition of AI from experimental to production is not without its challenges. Developers face the challenge of balancing rapid innovation with the need to protect users and meet strict regulatory requirements. To address this, we are introducing &lt;b&gt;Guardrails in AI Gateway&lt;/b&gt;, designed to help you deploy AI safely and confidently. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;why-safety-matters\&quot;&gt;Why safety matters&lt;/h3&gt;\n            &lt;a href=\&quot;#why-safety-matters\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;LLMs are inherently non-deterministic, meaning outputs can be unpredictable. Additionally, you have no control over your users, and they may ask for something wildly inappropriate or attempt to elicit an inappropriate response from the AI. Now, imagine launching an AI-powered application without clear visibility into the potential for harmful or inappropriate content. Not only does this risk user safety, but it also puts your brand reputation on the line.&lt;/p&gt;&lt;p&gt;To address the unique security risks specific to AI applications, the &lt;a href=\&quot;https://genai.owasp.org/resource/owasp-top-10-for-llm-applications-2025/\&quot;&gt;&lt;u&gt;OWASP Top 10 for Large Language Model (LLM) Applications&lt;/u&gt;&lt;/a&gt; was created. This is an industry-driven standard that identifies the most critical security vulnerabilities specifically affecting LLM-based and generative AI applications. It’s designed to educate developers, security professionals, and organizations on the unique risks of deploying and managing these systems.&lt;/p&gt;&lt;p&gt;The stakes are even higher with new regulations being introduced:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://artificialintelligenceact.eu/high-level-summary/\&quot;&gt;&lt;b&gt;&lt;u&gt;European Union Artificial Intelligence Act&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;: Enacted on August 1, 2024, the AI Act has a specific section on establishing a risk management system for AI systems, data governance, technical documentation, and record keeping of risks/abuse. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://commission.europa.eu/strategy-and-policy/priorities-2019-2024/europe-fit-digital-age/digital-services-act_en\&quot;&gt;&lt;b&gt;&lt;u&gt;European Union Digital Services Act (DSA&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;&lt;b&gt;): &lt;/b&gt;Adopted in 2022, the DSA is designed to enhance safety and accountability online, including mitigating the spread of illegal content and safeguarding minors from harmful content.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;These developments emphasize why robust safety controls must be part of every AI application.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;the-challenge\&quot;&gt;The challenge&lt;/h3&gt;\n            &lt;a href=\&quot;#the-challenge\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Developers building AI applications today face a complex set of challenges, hindering their ability to create safe and reliable experiences:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Inconsistency across models: &lt;/b&gt;The rapid advancement of AI models and providers often leads to varying built-in safety features. This inconsistency arises because different AI companies have unique philosophies, risk tolerances, and regulatory requirements. Some models prioritize openness and flexibility, while others enforce stricter moderation based on ethical and legal considerations. Factors such as company policies, regional compliance laws, fine-tuning methods, and intended use cases all contribute to these differences, making it difficult for developers to deliver a uniformly safe experience across different model providers.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Lack of visibility into unsafe or inappropriate content: &lt;/b&gt;Without proper tools, developers struggle to monitor user inputs and model outputs, making it challenging to identify and manage harmful or inappropriate content effectively when trying out different models and providers.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The answer? A standardized, provider-agnostic solution that offers comprehensive observability and logs in one unified interface, along with granular control over content moderation.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;the-solution-guardrails-in-ai-gateway\&quot;&gt;The solution: Guardrails in AI Gateway&lt;/h3&gt;\n            &lt;a href=\&quot;#the-solution-guardrails-in-ai-gateway\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/\&quot;&gt;&lt;u&gt;AI Gateway&lt;/u&gt;&lt;/a&gt; is a proxy service that sits between your AI application and its model providers (like OpenAI, Anthropic, DeepSeek, &lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/providers/\&quot;&gt;&lt;u&gt;and more&lt;/u&gt;&lt;/a&gt;). To address the challenges of deploying AI safely, AI Gateway has added safety guardrails which ensure a consistent and safe experience, regardless of the model or provider you use.&lt;/p&gt;&lt;p&gt;AI Gateway gives you visibility into what users are asking, and how models are responding, through its detailed logs. This real-time observability actively monitors and assesses content, enabling proactive identification of potential issues. The Guardrails feature offers granular control over content evaluation and actions taken. Customers can define precisely which interactions to evaluate — user prompts, model responses, or both, and specify corresponding actions, including ignoring, flagging, or blocking, based on pre-defined hazard categories.&lt;/p&gt;&lt;p&gt;Integrating Guardrails is streamlined within AI Gateway, making implementation straightforward. Rather than manually calling a moderation tool, configuring flows, and managing flagging/blocking logic, you can enable Guardrails directly from your AI Gateway settings with just a few clicks. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6BX7CzkzqkhFwWS4Jk7tcQ/e1054c544eee7265d78a993a2897bc4c/image4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;362\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Figure 1. AI Gateway settings with Guardrails turned on, displaying selected hazard categories for prompts and responses, with flagged categories in orange and blocked categories in red&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;Within the AI Gateway settings, developers can configure:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Guardrails&lt;/b&gt;: Enable or disable content moderation as needed.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Evaluation scope&lt;/b&gt;: Select whether to moderate user prompts, model responses, or both.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Hazard categories&lt;/b&gt;: Specify which categories to monitor and determine whether detected inappropriate content should be blocked or flagged.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3QnhWk1vn1SvFsKICvb9Rd/99f0cfc6e62b1f70db1d102277d73f83/image9.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1013\&quot; height=\&quot;770\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Figure 2. Advanced settings of Guardrails with granular moderation controls for different hazard categories&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;By implementing these guardrails within AI Gateway, developers can focus on innovation, knowing that risks are proactively mitigated and their AI applications are operating responsibly.&lt;/p&gt;&lt;h4&gt;Leveraging Llama Guard on Workers AI&lt;/h4&gt;&lt;p&gt;The Guardrails feature is currently powered by &lt;a href=\&quot;https://ai.meta.com/research/publications/llama-guard-llm-based-input-output-safeguard-for-human-ai-conversations/\&quot;&gt;&lt;u&gt;Llama Guard&lt;/u&gt;&lt;/a&gt;, Meta’s open-source content moderation and safety tool, designed to detect harmful or unsafe content in both user inputs and AI-generated outputs. It provides real-time filtering and monitoring, ensuring responsible AI usage, reducing risk, and improving trust in AI-driven applications. Notably, organizations like &lt;a href=\&quot;https://mlcommons.org/\&quot;&gt;&lt;u&gt;ML Commons&lt;/u&gt;&lt;/a&gt; use Llama Guard to evaluate the safety of foundation models. &lt;/p&gt;&lt;p&gt;Llama Guard can be used to provide protection over a wide range of content such as violence and sexually explicit material. It also helps you safeguard sensitive data as outlined in the OWASP, like addresses, Social Security numbers, and credit card details. Specifically, Guardrails on AI Gateway utilizes the &lt;a href=\&quot;https://github.com/meta-llama/PurpleLlama/blob/main/Llama-Guard3/8B/MODEL_CARD.md\&quot;&gt;&lt;u&gt;Llama Guard 3 8B&lt;/u&gt;&lt;/a&gt; model hosted on &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/\&quot;&gt;&lt;u&gt;Workers AI&lt;/u&gt;&lt;/a&gt; — Cloudflare’s serverless, GPU-powered inference engine. Workers AI is uniquely qualified for this task because it operates on GPUs distributed across Cloudflare’s network, ensuring low-latency inference and rapid content evaluation. We plan to add additional models to power the Guardrails feature to Workers AI in the future. &lt;/p&gt;&lt;p&gt;Using Guardrails incurs &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/llama-guard-3-8b/\&quot;&gt;&lt;u&gt;Workers AI usage&lt;/u&gt;&lt;/a&gt;, and that usage is reflected in your &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/ai/workers-ai\&quot;&gt;&lt;u&gt;Workers AI dashboard&lt;/u&gt;&lt;/a&gt;, allowing developers to track their inference consumption effectively. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;how-it-works\&quot;&gt;How it works &lt;/h3&gt;\n            &lt;a href=\&quot;#how-it-works\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Functioning as a proxy between users and AI models, AI Gateway intercepts and inspects all interactions—both user prompts and model responses—for potentially harmful content.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/kzup1z7NTP4qkMXWgh8ns/b85afdfd8328f0f8c28e42058c305ecb/image5.jpg\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1200\&quot; height=\&quot;1010\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Figure 3. Workflow diagram of Guardrails in AI Gateway, illustrating how prompts and responses are evaluated, along with the outcomes when content is deemed safe or unsafe&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;When a user enters a prompt, AI Gateway runs that prompt through Llama Guard on Workers AI. Behind the scenes, AI Gateway utilizes the &lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/integrations/worker-binding-methods/\&quot;&gt;&lt;u&gt;AI Binding&lt;/u&gt;&lt;/a&gt;, making it seamless to connect AI Gateway to Cloudflare &lt;a href=\&quot;https://developers.cloudflare.com/workers/\&quot;&gt;&lt;u&gt;Workers&lt;/u&gt;&lt;/a&gt; and &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/\&quot;&gt;&lt;u&gt;Workers AI&lt;/u&gt;&lt;/a&gt;. To provide better observability, requests to Workers AI through AI Gateway all include the &lt;code&gt;eventID&lt;/code&gt; from the original request. This ensures that each request can be linked to its corresponding safety evaluations, allowing for efficient log grouping and traceability of AI interactions. &lt;/p&gt;&lt;p&gt;Depending on the configured settings, AI Gateway can either flag the prompt while still allowing the request to pass through to the AI model, or block the prompt entirely, preventing it from reaching the model. Blocking harmful prompts in this way not only enhances safety, but also reduces costs by preventing unnecessary processing and token consumption. If a prompt passes the safety check, it’s forwarded to the AI model.&lt;/p&gt;&lt;p&gt;Let’s see an example of a prompt blocked by Guardrails. In this example, the Guardrails settings have been turned on for user prompts and configured to block for multiple categories, including “Non-Violent Crimes”. The user has asked OpenAI’s &lt;code&gt;gpt-4o-mini &lt;/code&gt;model to “Teach me how to steal company data without being detected”. Instead of returning a response from the model, Guardrails has identified this prompt to include content around “Non-Violent Crimes” and blocked it, returning the message “Prompt blocked due to security configurations”. &lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/67JO7yPZ1gXOyX8u6Cx7CN/09b8ae7c7080fe7ada50bab70de4ead9/image9.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1279\&quot; height=\&quot;763\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Figure 4. AI Gateway log displaying a blocked prompt classified under “Non-Violent Crimes”, with an error message indicating the prompt was blocked due to security configurations&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;AI Gateway determined this prompt was unsafe because the response from Workers AI Llama Guard indicated that category S2, Non-Violent Crimes, was &lt;code&gt;safe: false&lt;/code&gt;. Since Guardrails was configured to block when the “Non-Violent Crimes” hazard category was detected, AI Gateway failed the request and did not send it to OpenAI. As a result, the request was unsuccessful and no token usage was incurred.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3U401FlyK3XxiySamMfNZv/0a25e547a247f352675f2d9bf4fdb9e0/image4.png\&quot; alt=\&quot;\&quot; class=\&quot;kg-image\&quot; width=\&quot;1267\&quot; height=\&quot;649\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;sup&gt;&lt;i&gt;Figure 5. Guardrails log of a Llama Guard 3 8B request from Workers AI, flagging category S2, as Non-Violent Crimes, with the response indicating safe: false&lt;/i&gt;&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;AI Gateway also inspects AI model responses before they reach the user, again evaluating them against the configured safety settings. Safe responses are delivered to the user. However, if any hazardous content is detected, the response is either flagged or blocked and logged in AI Gateway. &lt;/p&gt;&lt;p&gt;AI Gateway leverages specialized AI models trained to recognize various forms of harmful content to ensure only safe and appropriate information is shown to users. Currently, Guardrails only works with text-based AI models. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;deploy-with-confidence\&quot;&gt;Deploy with confidence&lt;/h3&gt;\n            &lt;a href=\&quot;#deploy-with-confidence\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Safely deploying AI in today’s dynamic landscape requires acknowledging that while AI models are powerful, they are also inherently non-deterministic. By leveraging Guardrails within AI Gateway, you gain:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Consistent moderation&lt;/b&gt;: Uniform moderation layer that works across models and providers.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Enhanced safety and user trust&lt;/b&gt;: Proactively protect users from harmful or inappropriate interactions.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Flexibility and control over allowed content: &lt;/b&gt;Specify which categories to monitor and choose between flagging or outright blocking&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Auditing and compliance capabilities&lt;/b&gt;: Stay ahead of evolving regulatory requirements with logs of user prompts, model responses, and enforced guardrails.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;If you aren&amp;#39;t yet using AI Gateway, Llama Guard is also available directly through Workers AI and will be available directly in the Cloudflare WAF in the near future. &lt;/p&gt;&lt;p&gt;Looking ahead, we plan to expand Guardrails’ capabilities further, to allow users to create their own classification categories, and to include protections against prompt injection and sensitive data exposure. To begin using Guardrails, check out our &lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/guardrails/\&quot;&gt;&lt;u&gt;developer documentation&lt;/u&gt;&lt;/a&gt;. If you have any questions, please reach out in our &lt;a href=\&quot;http://discord.cloudflare.com/\&quot;&gt;&lt;u&gt;Discord community.&lt;/u&gt;&lt;/a&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-02-26T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-04-10T02:22:32.313Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2tWD4aWiLcLAePzIx2I8RO/d669f328fe5b6fcf0c883ee4deb3f72a/image3.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;6Foe3R8of95cWVnQwe5Toi&quot;],&quot;name&quot;:[0,&quot;AI&quot;],&quot;slug&quot;:[0,&quot;ai&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}],[0,{&quot;id&quot;:[0,&quot;1GyUhE8o287lrdNSpdRUIe&quot;],&quot;name&quot;:[0,&quot;AI Gateway&quot;],&quot;slug&quot;:[0,&quot;ai-gateway&quot;]}],[0,{&quot;id&quot;:[0,&quot;6Mp7ouACN2rT3YjL1xaXJx&quot;],&quot;name&quot;:[0,&quot;Security&quot;],&quot;slug&quot;:[0,&quot;security&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Kathy Liao&quot;],&quot;slug&quot;:[0,&quot;kathy&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2XeJHmfHmhCUmRwC7aeCWR/fb2194fd1e4bed0667242d081354f5f2/kathy.png&quot;],&quot;location&quot;:[0,&quot;Seattle&quot;],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@kathyyliao&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;Deploy AI safely with built-in Guardrails in AI Gateway. Flag and block harmful or inappropriate content, protect personal data, and ensure compliance in real-time — keeping AI interactions secure and risk-free.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/guardrails-in-ai-gateway&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Keep AI interactions secure and risk-free with Guardrails in AI Gateway&quot;],&quot;description&quot;:[0,&quot;Deploy AI safely with built-in Guardrails in AI Gateway. Flag and block harmful or inappropriate content, protect personal data, and ensure compliance in real-time — keeping AI interactions secure and risk-free.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2ZmeZpagSFXAEORoCIFjcS/31b6582fb84bb597ea2090b7405b7ff7/Keep_AI_interactions_secure_and_risk-free_with_Guardrails_in_AI_Gateway-OG.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;6HAo0CAvmODAhYHnIF5Hbr&quot;],&quot;title&quot;:[0,&quot;Open source all the way down: Upgrading our developer documentation&quot;],&quot;slug&quot;:[0,&quot;open-source-all-the-way-down-upgrading-our-developer-documentation&quot;],&quot;excerpt&quot;:[0,&quot;At Cloudflare, we treat developer content like an open source product. This collaborative approach enables global contributions to enhance quality and relevance for a wide range of users. This year,&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;At Cloudflare, we treat developer &lt;a href=\&quot;https://blog.cloudflare.com/content-as-a-product/\&quot;&gt;&lt;u&gt;content like a product&lt;/u&gt;&lt;/a&gt;, where we take the user and their feedback into consideration. We are constantly iterating, testing, analyzing, and refining content. Inspired by agile practices, treating developer content like an open source product means we approach our documentation the same way an open source software project is created and maintained.  Open source documentation empowers the developer community because it allows anyone, anywhere, to contribute content. By making both the content and the framework of the documentation site publicly accessible, we provide developers with the opportunity to not only improve the material itself but also understand and engage with the processes that govern how the documentation is built, approved, and maintained. This transparency fosters collaboration, learning, and innovation, enabling developers to contribute their expertise and learn from others in a shared, open environment. We also provide feedback to other open source products and plugins, giving back to the same community that supports us.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;building-the-best-open-source-documentation-experience\&quot;&gt;Building the best open source documentation experience&lt;/h2&gt;\n            &lt;a href=\&quot;#building-the-best-open-source-documentation-experience\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Great documentation empowers users to be successful with a new product as quickly as possible, showing them how to use the product and describing its benefits. Relevant, timely, and accurate content can save frustration, time, and money. Open source documentation adds a few more benefits, including building inclusive and supportive communities that help reduce the learning curve. We love being open source!&lt;/p&gt;&lt;p&gt;While the Cloudflare content team has scaled to deliver documentation alongside product launches, the open source documentation site itself was not scaling well. &lt;a href=\&quot;http://developers.cloudflare.com\&quot;&gt;&lt;u&gt;developers.cloudflare.com&lt;/u&gt;&lt;/a&gt; had outgrown the workflow for contributors, plus we were missing out on all the neat stuff created by developers in the community.&lt;/p&gt;&lt;p&gt;Just like a software product evaluation, we reviewed our business needs. We asked ourselves if remaining open source was appropriate? Were there other tools we wanted to use? What benefits did we want to see in a year or in five years? Our biggest limitations in addition to the contributor workflow challenges seemed to be around scalability and high maintenance costs for user experience improvements. &lt;/p&gt;&lt;p&gt;After compiling our wishlist of new features to implement, we reaffirmed our commitment to open source. We valued the benefit of open source in both the content and the underlying framework of our documentation site. This commitment goes beyond technical considerations, because it&amp;#39;s a fundamental aspect of our relationship with our community and our philosophy of transparency and collaboration. While the choice of an open source framework to build the site on might not be visible to many visitors, we recognized its significance for our community of developers and contributors. Our decision-making process was heavily influenced by two primary factors: first, whether the update would enhance the collaborative ecosystem, and second, how it would improve the overall documentation experience. This focus reflects that our open source principles, applied to both content and infrastructure, are essential for fostering innovation, ensuring quality through peer review, and building a more engaged and empowered user community.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;cloudflare-developer-documentation-a-collaborative-open-source-approach\&quot;&gt;Cloudflare developer documentation: A collaborative open source approach&lt;/h2&gt;\n            &lt;a href=\&quot;#cloudflare-developer-documentation-a-collaborative-open-source-approach\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Cloudflare’s developer documentation is &lt;a href=\&quot;https://github.com/cloudflare/cloudflare-docs/\&quot;&gt;&lt;u&gt;open source on GitHub&lt;/u&gt;&lt;/a&gt;, with content supporting all of Cloudflare’s products. The underlying documentation engine has gone through a few iterations, with the first version of the site released in 2020. That first version provided dev-friendly features such as dark mode and proper code syntax. &lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;2021-update-enhanced-documentation-engine\&quot;&gt;2021 update: enhanced documentation engine&lt;/h3&gt;\n            &lt;a href=\&quot;#2021-update-enhanced-documentation-engine\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;In 2021, we introduced a new custom documentation engine, bringing significant improvements to the Cloudflare content experience. The benefits of the Gatsby to Hugo &lt;a href=\&quot;https://blog.cloudflare.com/new-dev-docs/\&quot;&gt;&lt;u&gt;migration&lt;/u&gt;&lt;/a&gt; included:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Faster development flow&lt;/b&gt;: The development flow replicated production behavior, increasing iteration speed and confidence. &lt;a href=\&quot;https://developers.cloudflare.com/pages/configuration/preview-deployments/\&quot;&gt;&lt;u&gt;Preview links&lt;/u&gt;&lt;/a&gt; via Cloudflare Pages were also introduced, so the content team and stakeholders could quickly review what content would look like in production.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Custom components&lt;/b&gt;: Introduced features like &lt;a href=\&quot;https://github.com/cloudflare/cloudflare-docs/blob/4c3c819ebe3714df1698097135c645429bcbe7cc/layouts/shortcodes/resource-by-selector.html\&quot;&gt;&lt;u&gt;resources-by-selector&lt;/u&gt;&lt;/a&gt; which let us reference content throughout the repository and gave us the flexibility to expand checks and automations.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Structured changelog management&lt;/b&gt;: Implementation of &lt;a href=\&quot;https://github.com/cloudflare/cloudflare-docs/tree/4c3c819ebe3714df1698097135c645429bcbe7cc/data/changelogs\&quot;&gt;&lt;u&gt;structured YAML&lt;/u&gt;&lt;/a&gt; changelog entries which facilitated sharing with various platforms like &lt;a href=\&quot;https://developers.cloudflare.com/changelog/index.xml\&quot;&gt;&lt;u&gt;RSS feeds&lt;/u&gt;&lt;/a&gt;, &lt;a href=\&quot;http://discord.cloudflare.com\&quot;&gt;&lt;u&gt;Developer Discord&lt;/u&gt;&lt;/a&gt;, and within the docs themselves.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Improved performance&lt;/b&gt;: Significant page load time improvements with the migration to HTML-first and almost instantaneous local builds.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;These features were non-negotiable as part of our evaluation of whether to migrate. We knew that any update to the site had to maintain the functionality we’d established as core parts of the new experience.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;2024-update-say-hello-world-to-our-new-developer-documentation-powered-by-astro\&quot;&gt;2024 update: Say “hello, world!” to our new developer documentation, powered by Astro&lt;/h3&gt;\n            &lt;a href=\&quot;#2024-update-say-hello-world-to-our-new-developer-documentation-powered-by-astro\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;After careful evaluation, we chose to migrate from Hugo to the &lt;a href=\&quot;https://astro.build/\&quot;&gt;&lt;u&gt;Astro&lt;/u&gt;&lt;/a&gt; (and by extension, JavaScript) ecosystem. Astro fulfilled many items on our wishlist including:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Enhanced content organization&lt;/b&gt;: Improved tagging and better cross-referencing of  related pages.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Extensibility&lt;/b&gt;: Support for user plugins like &lt;a href=\&quot;https://github.com/HiDeoo/starlight-image-zoom\&quot;&gt;&lt;u&gt;starlight-image-zoom&lt;/u&gt;&lt;/a&gt; for lightbox functionality.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Development experience&lt;/b&gt;: Type-checking at build time with &lt;a href=\&quot;https://docs.astro.build/en/reference/cli-reference/#astro-check\&quot;&gt;&lt;u&gt;astro check&lt;/u&gt;&lt;/a&gt;, along with syntax highlighting, Intellisense, diagnostic messages, and plugins for ESLint, Stylelint, and Prettier. &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;JavaScript/TypeScript support&lt;/b&gt;: Aligned the docs site framework with the preferred languages of many contributors, facilitating easier contribution.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;CSS management&lt;/b&gt;: Introduction of Tailwind and &lt;a href=\&quot;https://docs.astro.build/en/guides/styling/#scoped-styles\&quot;&gt;&lt;u&gt;scoped styles&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=\&quot;https://docs.astro.build/en/guides/content-collections/\&quot;&gt;&lt;b&gt;&lt;u&gt;Content collections&lt;/u&gt;&lt;/b&gt;&lt;/a&gt;: Offered various ways to manage and enhance tagging practices including Markdown front matter &lt;a href=\&quot;https://docs.astro.build/en/guides/content-collections/#defining-datatypes-with-zod\&quot;&gt;&lt;u&gt;validated by Zod schemas&lt;/u&gt;&lt;/a&gt;, JSON schemas for &lt;a href=\&quot;https://docs.astro.build/en/guides/content-collections/#enabling-json-schema-generation\&quot;&gt;&lt;u&gt;Intellisense&lt;/u&gt;&lt;/a&gt;, and a JavaScript callback for &lt;a href=\&quot;https://docs.astro.build/en/guides/content-collections/#filtering-collection-queries\&quot;&gt;&lt;u&gt;filtering returned entries&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1wz2uWlAwbHFG4QgG0d8tt/4eeb3fbcd4d9b33c5590be39654bbff1/BLOG-2600_2.png\&quot; alt=\&quot;Workers AI model page with search and filter options\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;1014\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;a href=\&quot;https://starlight.astro.build/\&quot;&gt;&lt;u&gt;Starlight&lt;/u&gt;&lt;/a&gt;, Astro’s documentation theme, was a key factor in the decision. Its powerful &lt;a href=\&quot;https://starlight.astro.build/guides/overriding-components/\&quot;&gt;&lt;u&gt;component overrides&lt;/u&gt;&lt;/a&gt; and &lt;a href=\&quot;https://starlight.astro.build/resources/plugins/\&quot;&gt;&lt;u&gt;plugins&lt;/u&gt;&lt;/a&gt; system allowed us to leverage built-in components and base styling.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h3 id=\&quot;how-we-migrated-to-astro\&quot;&gt;How we migrated to Astro&lt;/h3&gt;\n            &lt;a href=\&quot;#how-we-migrated-to-astro\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n        &lt;p&gt;Content needed to be migrated quickly. With dozens of pull requests opened and merged each day, entering a code freeze for a week simply wasn’t feasible. This is where the nature of &lt;a href=\&quot;https://en.wikipedia.org/wiki/Abstract_syntax_tree\&quot;&gt;&lt;u&gt;abstract syntax trees&lt;/u&gt;&lt;/a&gt; (ASTs) came into play, only parsing the structure of a Markdown document rather than details like whitespace or indentation that would make a &lt;a href=\&quot;https://en.wikipedia.org/wiki/Regular_expression\&quot;&gt;&lt;u&gt;regular expression&lt;/u&gt;&lt;/a&gt; approach tricky.&lt;/p&gt;&lt;p&gt;With Hugo in 2021, we configured code block functionality like titles or line highlights with front matter inside the code block.&lt;/p&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;---\ntitle: index.js\nhighlight: 1\n---\nconst foo = &amp;quot;bar&amp;quot;;\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;Starlight uses &lt;a href=\&quot;https://expressive-code.com/\&quot;&gt;&lt;u&gt;Expressive Code&lt;/u&gt;&lt;/a&gt; for code blocks, and these options are now on the opening code fence.&lt;/p&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;js title=&amp;quot;index.js&amp;quot; {1}\nconst foo = &amp;quot;bar&amp;quot;;\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;With &lt;a href=\&quot;https://www.npmjs.com/package/astray\&quot;&gt;&lt;u&gt;astray&lt;/u&gt;&lt;/a&gt;, this is a simple as visiting the `code` nodes and:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;Parsing `node.value` with &lt;a href=\&quot;https://www.npmjs.com/package/front-matter\&quot;&gt;&lt;u&gt;front-matter&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Assigning the attributes from `front-matter` to `node.meta`.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Replacing `node.value` with the rest of the code block.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;import { fromMarkdown } from &amp;quot;mdast-util-from-markdown&amp;quot;;\nimport { toMarkdown } from &amp;quot;mdast-util-to-markdown&amp;quot;;\n \nimport * as astray from &amp;quot;astray&amp;quot;;\nimport type * as MDAST from &amp;quot;mdast&amp;quot;;\nimport fm from &amp;quot;front-matter&amp;quot;;\n \nconst markdown = await Bun.file(&amp;quot;example.md&amp;quot;).text();\n \nconst AST = fromMarkdown(markdown);\n \nastray.walk&amp;lt;MDAST.Root, void, any&amp;gt;(AST, {\n    code(node: MDAST.Code) {\n        const { attributes, body } = fm(node.value);\n        const { title, highlight } = attributes;\n \n        if (title) {\n            node.meta = `title=&amp;quot;${title}&amp;quot;`;\n        }\n \n        if (highlight) {\n            node.meta += ` {${highlight}}`;\n        }\n \n        node.value = body;\n \n        return;\n    }\n})\n&lt;/pre&gt;&lt;/code&gt;\n            \n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;the-migration-in-numbers\&quot;&gt;The migration in numbers&lt;/h2&gt;\n            &lt;a href=\&quot;#the-migration-in-numbers\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;When we &lt;a href=\&quot;https://blog.cloudflare.com/new-dev-docs/\&quot;&gt;&lt;u&gt;migrated from Gatsby to Hugo&lt;/u&gt;&lt;/a&gt; in 2021, the &lt;a href=\&quot;https://github.com/cloudflare/cloudflare-docs/pull/3609/\&quot;&gt;&lt;u&gt;pull request&lt;/u&gt;&lt;/a&gt; included 4,850 files and the migration took close to three weeks from planning to implementation. This time around, the migration was nearly twice as large, with 8,060 files changed. Our planning and migration took six weeks in total:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;10 days: Evaluate platforms, vendors, and features &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;14 days: Migrate the &lt;a href=\&quot;https://developers.cloudflare.com/style-guide/components/\&quot;&gt;&lt;u&gt;components&lt;/u&gt;&lt;/a&gt; required by the documentation site&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;5 days: Staging and user acceptance testing (UAT) &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;8 hours: Code freeze and &lt;a href=\&quot;https://github.com/cloudflare/cloudflare-docs/pull/16096\&quot;&gt;&lt;u&gt;migrate to Astro/Starlight&lt;/u&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The migration resulted in removing a net -19,624 lines of code from our maintenance burden.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3r9Hj2NwU40GPLTw5TbGYG/d292b405c097ebd577173f5d61c17d03/BLOG-2600_3.png\&quot; alt=\&quot;GitHub image of migrated PR\&quot; class=\&quot;kg-image\&quot; width=\&quot;1999\&quot; height=\&quot;276\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;While the number of files had grown substantially since our last major migration, our strategy was very similar to the 2021 migration. We used &lt;a href=\&quot;https://github.com/syntax-tree/mdast\&quot;&gt;&lt;u&gt;Markdown AST&lt;/u&gt;&lt;/a&gt; and astray, a utility to walk ASTs, created specifically for the previous migration!&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;what-we-learned\&quot;&gt;What we learned&lt;/h2&gt;\n            &lt;a href=\&quot;#what-we-learned\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;A website migration like our move to Astro/Starlight is a complex process that requires time to plan, review, and coordinate, and our preparation paid off! Including our &lt;a href=\&quot;https://community.cloudflare.com/t/2025-mvp-nominations/705496\&quot;&gt;&lt;u&gt;Cloudflare Community MVPs&lt;/u&gt;&lt;/a&gt; as part of the planning and review period proved incredibly helpful. They provided great guidance and feedback as we planned for the migration. We only needed one day of code freeze, and there were no rollbacks or major incidents. Visitors to the site never experienced downtime, and overall the migration was a major success.&lt;/p&gt;&lt;p&gt;During testing, we ran into several use cases that warranted using &lt;a href=\&quot;https://docs.astro.build/en/reference/container-reference/\&quot;&gt;&lt;u&gt;experimental Astro APIs&lt;/u&gt;&lt;/a&gt;. These APIs were always well documented, thanks to fantastic open source content from the Astro community. We were able to implement them quickly without impacting our release timeline.&lt;/p&gt;&lt;p&gt;We also ran into &lt;a href=\&quot;https://github.com/withastro/starlight/issues/2215\&quot;&gt;&lt;u&gt;an edge case&lt;/u&gt;&lt;/a&gt; with build time performance due to the number of pages on our site (4000+). The Astro team was quick to triage the problem and begin investigation for a &lt;a href=\&quot;https://github.com/withastro/starlight/pull/2252\&quot;&gt;&lt;u&gt;permanent fix&lt;/u&gt;&lt;/a&gt;. Their fast, helpful fixes made us truly grateful for the support from the Astro Discord server. A big thank you to the Astro/Starlight community!&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;contribute-to-developers-cloudflare-com\&quot;&gt;Contribute to developers.cloudflare.com!&lt;/h2&gt;\n            &lt;a href=\&quot;#contribute-to-developers-cloudflare-com\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Migrating &lt;a href=\&quot;http://developers.cloudflare.com\&quot;&gt;&lt;u&gt;developers.cloudflare.com&lt;/u&gt;&lt;/a&gt; to Astro/Starlight is just one example of the ways we prioritize world-class documentation and user experiences at Cloudflare. Our deep investment in documentation makes this a great place to work for technical writers, UX strategists, and many other content creators. Since adopting a &lt;a href=\&quot;https://blog.cloudflare.com/content-as-a-product/\&quot;&gt;&lt;u&gt;content like a product&lt;/u&gt;&lt;/a&gt; strategy in 2021, we have evolved to better serve the open source community by focusing on inclusivity and transparency, which ultimately leads to happier Cloudflare users. &lt;/p&gt;&lt;p&gt;We invite everyone to connect with us and explore these exciting new updates. Feel free to &lt;a href=\&quot;https://github.com/cloudflare/cloudflare-docs/issues\&quot;&gt;&lt;u&gt;reach out&lt;/u&gt;&lt;/a&gt; if you’d like to speak with someone on the content team or share feedback about our documentation. You can share your thoughts or submit a pull request directly on the cloudflare-docs &lt;a href=\&quot;https://github.com/cloudflare/cloudflare-docs\&quot;&gt;&lt;u&gt;repository&lt;/u&gt;&lt;/a&gt; in GitHub.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2025-01-08T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-01-08T14:00:03.578Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/39T3oFp8K80C21v3tOQxsc/2006154cf15184a17e61165cbec58b3e/BLOG-2600_1.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;7nUqeGThZ2m4zUG1xv6ffg&quot;],&quot;name&quot;:[0,&quot;Technical Writing&quot;],&quot;slug&quot;:[0,&quot;technical-writing&quot;]}],[0,{&quot;id&quot;:[0,&quot;3txfsA7N73yBL9g3VPBLL0&quot;],&quot;name&quot;:[0,&quot;Open Source&quot;],&quot;slug&quot;:[0,&quot;open-source&quot;]}],[0,{&quot;id&quot;:[0,&quot;17eVIVTZv365SSCxzaDL9o&quot;],&quot;name&quot;:[0,&quot;Developer Documentation&quot;],&quot;slug&quot;:[0,&quot;developer-documentation&quot;]}],[0,{&quot;id&quot;:[0,&quot;4HIPcb68qM0e26fIxyfzwQ&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Kim Jeske&quot;],&quot;slug&quot;:[0,&quot;kim&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1SDxpGoF91lM10f0XhL8O4/a908a8f914260396b646107c396b1de6/kim.png&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Kian Newman-Hazel&quot;],&quot;slug&quot;:[0,&quot;kian-newman-hazel&quot;],&quot;bio&quot;:[0],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/48ksPIMXauCn5H9RdlYj3H/9f672f14dcdb2555f5a32aa73efb504c/IMG_8432.jpg&quot;],&quot;location&quot;:[0,&quot;United Kingdom&quot;],&quot;website&quot;:[0],&quot;twitter&quot;:[0],&quot;facebook&quot;:[0],&quot;publiclyIndex&quot;:[0,true]}],[0,{&quot;name&quot;:[0,&quot;Kody Jackson&quot;],&quot;slug&quot;:[0,&quot;kody&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1uXVtuGTFZLmrGCd37Yog8/e54bed777ce72671e6dab85692a8ecd7/kody.jpg&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;At Cloudflare, we treat developer content like an open source product. This collaborative approach enables global contributions to enhance quality and relevance for a wide range of users. This year, we scaled our documentation site to better meet the needs of users by migrating to the Astro ecosystem.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/open-source-all-the-way-down-upgrading-our-developer-documentation&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Open source all the way down: Upgrading our developer documentation&quot;],&quot;description&quot;:[0,&quot;At Cloudflare, we treat developer content like an open source product. This collaborative approach enables global contributions to enhance quality and relevance for a wide range of users. This year, we scaled our documentation site to better meet the needs of users by migrating to the Astro ecosystem.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/unu6xNHqGPZdNnccHPWhz/b45b02ee55cd04ae92bb01324207cfce/BLOG-2600_OG.png&quot;]}],&quot;publicly_index&quot;:[0,true]}],[0,{&quot;id&quot;:[0,&quot;4Xek2BRcXVKNsI4vCa3Zuj&quot;],&quot;title&quot;:[0,&quot;Sometimes I cache: implementing lock-free probabilistic caching&quot;],&quot;slug&quot;:[0,&quot;sometimes-i-cache&quot;],&quot;excerpt&quot;:[0,&quot;If you want to know what cache revalidation is, how it works, and why it can involve rolling a die, read on. This blog post presents a lock-free probabilistic approach to cache revalidation, along \n&quot;],&quot;featured&quot;:[0,false],&quot;html&quot;:[0,&quot;&lt;p&gt;HTTP caching is conceptually simple: if the response to a request is in the cache, serve it, and if not, pull it from your origin, put it in the cache, and return it. When the response is old, you repeat the process. This is called cache revalidation. If you are worried about too many requests going to your origin at once, you protect it with a &lt;a href=\&quot;https://developers.cloudflare.com/cache/concepts/revalidation/\&quot;&gt;&lt;u&gt;cache lock&lt;/u&gt;&lt;/a&gt;: a small program, possibly distinct from your cache, that indicates if a request is already going to your origin. This is called request collapsing.&lt;/p&gt;&lt;p&gt;In this blog post, we dive into how cache revalidation works, and present a new approach based on probability. For every request going to the origin, we simulate a die roll. If it’s 6, the request can go to the origin. Otherwise, it stays stale to protect our origin from being overloaded. To see how this is built and optimised, read on.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;background\&quot;&gt;Background&lt;/h2&gt;\n            &lt;a href=\&quot;#background\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Let&amp;#39;s take the example of an online image library. When a client requests an image, the service first checks its cache to see if the resource is present. If it is, it returns it. If it is not, the image server processes the request, places the response into the cache for a day, and returns it. When the cache expires, the process is repeated.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6zdgMhKkU3cVKRk9T2CO2I/5302e6ef68cabd04b8bd65a7e416f033/BLOG-2639_2.png\&quot; alt=\&quot;BLOG-2639 2\&quot; class=\&quot;kg-image\&quot; width=\&quot;1048\&quot; height=\&quot;188\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 1: Uncached request goes to the origin&lt;/i&gt;&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4J5KIW2CocyvlLXLuVBTWH/1f6174983e1fc1de72b48a9801da160e/BLOG-2639_3.png\&quot; alt=\&quot;BLOG-2639 3\&quot; class=\&quot;kg-image\&quot; width=\&quot;1048\&quot; height=\&quot;188\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 2: Cached request stops at the cache&lt;/i&gt;&lt;/p&gt;&lt;p&gt;And this is where things get complex. The image of a cat might be quite popular. Let&amp;#39;s say it&amp;#39;s requested 10 times per second. Let’s also assume the image server cannot handle more than 1 request per second. After a day, the cache expires. 10 requests hit the service. Given there are no up-to-date items in cache, these 10 requests are going to go directly to the image server. This problem is known as &lt;a href=\&quot;https://en.wikipedia.org/wiki/Cache_stampede\&quot;&gt;&lt;u&gt;cache stampede&lt;/u&gt;&lt;/a&gt;. When the image server sees these 10 requests all happening at the same time, it gets overloaded.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3xDMJ6iloIjNHWpAbkfXWv/bee11bc4e1bb83a5b330529d8d98fbaa/BLOG-2639_4.png\&quot; alt=\&quot;BLOG-2639 4\&quot; class=\&quot;kg-image\&quot; width=\&quot;1200\&quot; height=\&quot;208\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 3: Image server overloaded upon cache expiration. This can happen to one or multiple users, across locations.&lt;/i&gt;&lt;/p&gt;&lt;p&gt;This all stops if the cache gets populated, as it can handle a lot more requests than the origin.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7LVi2SItiAUYWdEm3ll3ZH/368c6ff8e5d9017d2d3a8cc96246b73c/BLOG-2639_5.png\&quot; alt=\&quot;BLOG-2639 5\&quot; class=\&quot;kg-image\&quot; width=\&quot;1180\&quot; height=\&quot;192\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 4: Cache is populated and can handle the load. The image server is healthy again.&lt;/i&gt;&lt;/p&gt;&lt;p&gt;In the following sections, we build this image service, see how it can prevent cache stampede with a cache lock, then dive into probabilistic cache revalidation, and its optimisation.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;setup\&quot;&gt;Setup&lt;/h2&gt;\n            &lt;a href=\&quot;#setup\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Let&amp;#39;s write this image service. We need an image, a server, and a cache. For the image we&amp;#39;re going to use a picture of &lt;a href=\&quot;https://files.research.cloudflare.com/images/cat.jpg\&quot;&gt;&lt;u&gt;my cat&lt;/u&gt;&lt;/a&gt;, Cloudflare Workers for the server, and the Cloudflare Cache API for caching.&lt;/p&gt;&lt;p&gt;Note to the reader: On purpose, we aren’t using &lt;a href=\&quot;https://developers.cloudflare.com/kv/\&quot;&gt;&lt;u&gt;Cloudflare KV&lt;/u&gt;&lt;/a&gt; or &lt;a href=\&quot;https://developers.cloudflare.com/cache/\&quot;&gt;&lt;u&gt;Cloudflare CDN Cache&lt;/u&gt;&lt;/a&gt;, because they already solve our cache validation problem by using a cache lock.&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;let cache = caches.default\nconst CACHE_KEY = new Request(&amp;#039;https://cache.local/&amp;#039;)\nconst CACHE_AGE_IN_S = 86_400 // 1 day\n\nfunction cacheExpirationDate() {\n  return new Date(Date.now() + 1000*CACHE_AGE_IN_S)\n}\n\nfunction fetchAndCache(ctx) {\n  let response = await fetch(&amp;#039;https://files.research.cloudflare.com/images/cat.jpg&amp;#039;)\n  response = new Response(\n\tawait response.arrayBuffer(),\n\t{\n  \t  headers: {\n  \t    &amp;#039;Content-Type&amp;#039;: response.headers.get(&amp;#039;Content-Type&amp;#039;),\n  \t    &amp;#039;Expires&amp;#039;: cacheExpirationDate().toUTCString(),\n  \t  },\n\t},\n  )\n  ctx.waitUntil(cache.put(CACHE_KEY, response.clone()))\n  return response\n}\n\nexport default {\n  async fetch(request, env, ctx) {\n\tlet cachedResponse = await cache.match(CACHE_KEY)\n\tif (cachedResponse) {\n  \t  return cachedResponse\n\t}\n\treturn fetchAndCache(ctx)\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Codeblock 1: Image server with a non-collapsing cache&lt;/i&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;expectation-about-cache-revalidation\&quot;&gt;Expectation about cache revalidation&lt;/h2&gt;\n            &lt;a href=\&quot;#expectation-about-cache-revalidation\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;The image service is receiving 10 requests per second, and it caches images for a day. It&amp;#39;s reasonable to assume we would like to start revalidating the cache 5 minutes before it expires. The code evolves as follows:&lt;/p&gt;\n            &lt;pre class=\&quot;language-JavaScript\&quot;&gt;&lt;code class=\&quot;language-JavaScript\&quot;&gt;let cache = caches.default\nconst CACHE_KEY = new Request(&amp;#039;https://cache.local/&amp;#039;)\nconst CACHE_AGE_IN_S = 86_400 // 1 day\nconst CACHE_REVALIDATION_INTERVAL_IN_S = 300\n\nfunction cacheExpirationDate() {\n  // Date constructor in workers takes Unix time in milliseconds\n  // Date.now() returns time in milliseconds as well\n  return new Date(Date.now() + 1000*CACHE_AGE_IN_S)\n}\n\nasync function fetchAndCache(ctx) {\n  let response = await fetch(&amp;#039;https://files.research.cloudflare.com/images/cat.jpg&amp;#039;)\n  response = new Response(\n\tawait response.arrayBuffer(),\n\t{\n  \t  headers: {\n  \t    &amp;#039;Content-Type&amp;#039;: response.headers.get(&amp;#039;Content-Type&amp;#039;),\n  \t    &amp;#039;Expires&amp;#039;: cacheExpirationDate().toUTCString(),\n  \t  },\n\t},\n  )\n  ctx.waitUntil(cache.put(CACHE_KEY, response.clone()))\n  return response\n}\n\n// Revalidation function added here\n// This is were we are going to focus our effort: should the request be revalidated ?\nfunction shouldRevalidate(expirationDate) {\n  let remainingCacheTimeInS = (expirationDate.getTime() - Date.now()) / 1000\n\n  return remainingCacheTimeInS &amp;lt;= CACHE_REVALIDATION_INTERVAL_IN_S\n}\n\nexport default {\n  async fetch(request, env, ctx) {\n\tlet cachedResponse = await cache.match(CACHE_KEY)\n\tif (cachedResponse) {\n       // revalidation happens only if the request was cached. Otherwise, the resource is fetched anyway\n  \t  if (shouldRevalidate()) {\n    \t    ctx.waitUntil(fetchAndCache(ctx))\n  \t  }\n  \t  return cachedResponse\n\t}\n\treturn fetchAndCache(ctx)\n  }\n}&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Codeblock 2: Image server with early-revalidation and a non-collapsing cache&lt;/i&gt;&lt;/p&gt;&lt;p&gt;That code works, and we can now revalidate 5 minutes in advance of cache expiration. However, instead of fetching the image from the origin server at expiration time, all requests are going to be made 5 minutes in advance, and that does not solve our cache stampede problem. This happens no matter if requests are coming to a single location or not, given the code above does not collapse requests.&lt;/p&gt;&lt;p&gt;To solve our cache stampede problem, we need the revalidation process to not send too many requests at the same time. Ideally, we would like only one request to be sent between &lt;code&gt;expiration - 5min&lt;/code&gt; and &lt;code&gt;expiration&lt;/code&gt;.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;the-usual-solution-a-cache-lock\&quot;&gt;The usual solution: a cache lock&lt;/h2&gt;\n            &lt;a href=\&quot;#the-usual-solution-a-cache-lock\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;To make sure there is only one request at a time going to the origin server, the solution that&amp;#39;s usually deployed is a cache lock. The idea is that for a specific item, a cat picture in our case, requests to the origin try to obtain a lock. The request obtaining the lock can go to the origin, the others will serve stale content.&lt;/p&gt;&lt;p&gt;The lock has two methods: &lt;code&gt;try_lock&lt;/code&gt; and &lt;code&gt;unlock&lt;/code&gt;.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;try_lock&lt;/code&gt; if the lock is free, take it and return &lt;code&gt;true&lt;/code&gt;. If not, return &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;unlock&lt;/code&gt; releases the lock.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Such a lock can be implemented as a &lt;a href=\&quot;https://developers.cloudflare.com/workers/runtime-apis/rpc/\&quot;&gt;&lt;u&gt;Cloudflare RPC service&lt;/u&gt;&lt;/a&gt;:&lt;/p&gt;\n            &lt;pre class=\&quot;language-Javascript\&quot;&gt;&lt;code class=\&quot;language-Javascript\&quot;&gt;import { WorkerEntrypoint } from &amp;#039;cloudflare:workers&amp;#039;\n\nclass Lock extends WorkerEntryPoint {\n  async try_lock(key) {\n\tlet value = await this.ctx.storage.get(key)\n\tif (!value) {\n  \t  await this.ctx.storage.put(key, true)\n  \t  return true\n\t}\n\treturn false\n  }\n\n  unlock() {\n\treturn this.ctx.storage.delete(key)\n  }\n}\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Codeblock 3: Lock service implemented with a Durable Object&lt;/i&gt;&lt;/p&gt;&lt;p&gt;That service can then be used as a cache lock.&lt;/p&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;// CACHE_LOCK is an instantiation of the above binding\n// Assuming the above is deployed as a worker with name `lock`\n// It can be bound in wrangler.toml as follows\n// services = [ { binding = &amp;quot;CACHE_LOCK&amp;quot;, service = &amp;quot;lock&amp;quot; } ]\n\nconst LOCK_KEY = &amp;quot;cat_image_service&amp;quot;\n\nasync function fetchAndCache(env, ctx) {\n  let response = await fetch(&amp;#039;...&amp;#039;)\n  ctx.waitUntil(env.CACHE_LOCK.unlock(LOCK_KEY))\n  ...\n}\n\nfunction shouldRevalidate(env, expirationDate) {\n  let remainingCacheTimeInS = (expirationDate.getTime() - Date.now()) / 1000\n\n  // check if the expiry window is now, and then if the revalidation lock is available. if it is, take it\n  return remainingCacheTimeInS &amp;lt;= CACHE_REVALIDATION_INTERVAL_IN_S &amp;amp;&amp;amp; env.CACHE_LOCK.try_lock(LOCK_KEY)\n}\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Codeblock 4: Image server with early-revalidation and a cache using a cache-lock&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Now you might say &amp;quot;Et voilà. No need for probabilities and mathematics. Peak engineering has triumphed.&amp;quot; And you might be right, in most cases. That&amp;#39;s why cache locks are so &lt;a href=\&quot;https://developers.cloudflare.com/cache/concepts/revalidation/\&quot;&gt;&lt;u&gt;predominant&lt;/u&gt;&lt;/a&gt;: they are conceptually simple, deterministic for the same key, and scale well with predictable resource usage.&lt;/p&gt;&lt;p&gt;On the other hand, cache locks add latency and fallibility. To take ownership of a lock, cache revalidation has to contact the lock service. This service is shared across different processes, possibly different machines in different locations. Requests therefore take time. In addition, this service might be unavailable. Probabilistic cache revalidation does not suffer from these, given it does not reach out to an external service but rolls a die with the local randomness generator. It does so at the cost of not guaranteeing the number of requests going to the origin server: maybe zero for an extended period, maybe more than one. On average, this is going to be fine. But there can be border cases, similar to how one can roll a die 10 times and get 10 sixes. It’s unlikely, but not unrealistic, and certain services need that certainty. In the following sections, we dissect this approach.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;first-dive-into-probabilities-given-a-stable-request-rate\&quot;&gt;First dive into probabilities given a stable request rate&lt;/h2&gt;\n            &lt;a href=\&quot;#first-dive-into-probabilities-given-a-stable-request-rate\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;A first approach is to reduce the number of requests going to the origin server. Instead of always sending a request to revalidate, we are going to send 1 out of 10. This means that instead of sending 10 requests per second when the cache is invalidated, we send 1 per second.&lt;/p&gt;&lt;p&gt;Because we don&amp;#39;t have a lock, we do that with probabilities. We set the probability of sending a request to the origin to be $p=\\frac{1}{10}$. With a rate $r$ of 10 requests per second, after 1 second, the expectancy of a request being sent to the origin is $1-(1-p)^{10}=65\\%$. We draw the evolution of the function $E(r, t)=1-(1-p)^{r \\times t}$ representing the expectancy of a request being sent to the server over time.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/78UvqHlQ6Se6cifbla3ozw/111decceed55ba1387b78a75e28f04cc/BLOG-2639_6.jpg\&quot; alt=\&quot;BLOG-2639 6\&quot; class=\&quot;kg-image\&quot; width=\&quot;1000\&quot; height=\&quot;600\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 5: Revalidation time $E(t)$ with $r=10$ and $p=\\frac{1}{10}$. At time $t$, $E(t)$ is the probability that an early revalidation occurred.&lt;/i&gt;&lt;/p&gt;&lt;p&gt;The graph moves very quickly towards $1$. This means we might still have space to reduce the number of requests going to our origin server. We can set a lower probability, such as $p_2=\\frac{1}{500}$ (1 request every 5 seconds on average). The graph looks as follows:&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/TtLqU9nyKqtYxIz5oJefX/fba679de0599854ba344f19bd0b97939/BLOG-2639_7.jpg\&quot; alt=\&quot;BLOG-2639 7\&quot; class=\&quot;kg-image\&quot; width=\&quot;1000\&quot; height=\&quot;600\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 6: Revalidation time $E(t)$ with $r=10$ and $p=\\frac{1}{500}$.&lt;/i&gt;&lt;/p&gt;&lt;p&gt;This looks great. Let&amp;#39;s implement it.&lt;/p&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;const CACHE_REVALIDATION_INTERVAL_IN_S = 300\nconst CACHE_REVALIDATION_PROBABILITY = 1/500\n\nfunction shouldRevalidate(expirationDate) {\n  let remainingCacheTimeInS = (expirationDate.getTime() - Date.now()) / 1000\n\n  if (remainingCacheTimeInS &amp;gt; CACHE_REVALIDATION_INTERVAL_IN_S) {\n\treturn false\n  }\n  if (remainingCacheTimeInS &amp;lt;= 0) {\n\treturn true\n  }\n  return Math.random() &amp;lt; CACHE_REVALIDATION_PROBABILITY\n}\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Codeblock 5: Image server with early-revalidation and a probabilistic cache using uniform distribution&lt;/i&gt;&lt;/p&gt;&lt;p&gt;That&amp;#39;s it. If the cache is not close to expiration, we don&amp;#39;t revalidate. If the cache is expired, we revalidate. Otherwise, we revalidate based on a probability.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;adaptive-cache-revalidation\&quot;&gt;Adaptive cache revalidation&lt;/h2&gt;\n            &lt;a href=\&quot;#adaptive-cache-revalidation\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;Until now, we assumed the picture of the cat received a stable request rate. However, for a real service, this does not necessarily hold. For instance, if instead of 10 requests per second, imagine the service receives only 1. The expectancy function does not look as good. After 5 minutes (300s), $E(r=1, t=300)=45\\%$. On the other hand, if the image service is receiving 10,000 requests per second, $E(r=10000, t = 300) \\approx 100\\%$, but our server receives on average $10000 \\times \\frac{1}{500} = 20$ requests per second. It would be ideal to design a probability function that would adapt to the request rate.&lt;/p&gt;&lt;p&gt;That function would return a low probability when expiration time is far in the future, and increase over time such that the cache is revalidated before it expires. It would cap the request rate going to the origin server.&lt;/p&gt;&lt;p&gt;Let’s design the variation of probability $p$ over 5 minutes. When far from the expiration, the probability to revalidate should be low. This should help match the high request rate. For example, with a request rate of 10k requests per second, we would like the revalidation probability $p$ to be $\\frac{1}{100000}$. This ensures the request rates seen by our server are going to be low on average, at about 1 request every 10 seconds. As time passes, we increase this probability to allow for revalidation even at a lower request rate.&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Time to expiration $t$ (in s)&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Revalidation probability $p$&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;b&gt;Target request rate $r$ (in rps)&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;300&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1/100000&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;10000&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;240&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1/10000&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1000&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;180&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1/1000&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;100&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;120&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1/100&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;10&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;60&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1/10&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;0&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;-&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;&lt;i&gt;Table 1: Variation of revalidation probability over time&lt;/i&gt;&lt;/p&gt;&lt;p&gt;For each of these intervals, there is a high likelihood that a request rate &lt;code&gt;$r$&lt;/code&gt; will trigger a cache revalidation, and low likelihood that a lower request rate will trigger it. If it does, it&amp;#39;s ok.&lt;/p&gt;&lt;p&gt;We can update our revalidation function as follows:&lt;/p&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;const CACHE_REVALIDATION_INTERVAL_IN_S = 300\nconst CACHE_REVALIDATION_PROBABILITY_PER_MIN = [1/100_000, 1/10_000, 1/1000, 1/100, 1/10, 1]\n\nfunction shouldRevalidate(expirationDate) {\n  let remainingCacheTimeInS = (expirationDate.getTime() - Date.now()) / 1000\n\n  if (remainingCacheTimeInS &amp;gt; CACHE_REVALIDATION_INTERVAL_IN_S) {\n\treturn false\n  }\n  if (remainingCacheTimeInS &amp;lt;= 0) {\n\treturn true\n  }\n  let currentMinute = Math.floor(remainingCacheTimeInS/60)\n  return Math.random() &amp;lt; CACHE_REVALIDATION_PROBABILITY_PER_MIN[currentMinute]\n}\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Codeblock 6: Image server with early-revalidation and a probabilistic cache using piecewise uniform distribution&lt;/i&gt;&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;optimal-cache-stampede-solution\&quot;&gt;Optimal cache stampede solution&lt;/h2&gt;\n            &lt;a href=\&quot;#optimal-cache-stampede-solution\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;There seems to be a lot of decisions going on here. To solve this, we can reference an academic paper written by A Vattani, T Chierichetti, and K Lowenstein in 2015 called &lt;a href=\&quot;https://cseweb.ucsd.edu/~avattani/papers/cache_stampede.pdf\&quot;&gt;&lt;u&gt;Optimal Probabilistic Cache Stampede Prevention&lt;/u&gt;&lt;/a&gt;. If you read it, you&amp;#39;ll recognise that what we have been discussing until now is close to what the paper presents. For instance, both the cache revalidation algorithm structure and the early revalidation function look similar.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1MLwwNsci3XxhK0uAvWcFu/62a17cc9056d6b12832160acc9e40fb9/BLOG-2639_8.png\&quot; alt=\&quot;BLOG-2639 8\&quot; class=\&quot;kg-image\&quot; width=\&quot;850\&quot; height=\&quot;445\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 7: Probabilistic early expiration of a cache item as defined by Figure 2 of Optimal Probabilistic Cache Stampede Prevention paper. In our case, $\\mathcal{D}=300$&lt;/i&gt;&lt;/p&gt;&lt;p&gt;One takeaway from the paper is that instead of discretization, with a probability from 0 to 60s, then from 60s to 120s, …, the probability function can be continuous. Instead of a fixed $p$, there is a function $p(t)$ of time $t$.&lt;/p&gt;&lt;p&gt;$p(t)=e^{-\\lambda (expiry-t)}, \\text{ with } expiry=300, \\text{ and } t \\in [0, 300]$&lt;/p&gt;&lt;p&gt;We call $\\lambda$ the steepness parameter, and set it to $\\frac{1}{300}$, $300$ being our early expiration gap.&lt;/p&gt;&lt;p&gt;The expectancy over time is $E(r, t)=1-e^{-rλt}$. This leads to the expectancy below for various request rates. You can note that when $r=1$, there is not a $100%$ chance that the request will be revalidated before expiry.&lt;/p&gt;\n          &lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;\n          &lt;Image src=\&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3lHElc96ZDNbcMfXVQ9pUm/e70e98b4be158dcde11b95366a736742/BLOG-2639_9.jpg\&quot; alt=\&quot;BLOG-2639 9\&quot; class=\&quot;kg-image\&quot; width=\&quot;1000\&quot; height=\&quot;600\&quot; loading=\&quot;lazy\&quot;/&gt;\n          &lt;/figure&gt;&lt;p&gt;&lt;i&gt;Figure 8: Revalidation time $E(t)$ for multiple $r$ with an exponential distribution.&lt;/i&gt;&lt;/p&gt;&lt;p&gt;This leads to the final code snippet:&lt;/p&gt;\n            &lt;pre class=\&quot;language-javascript\&quot;&gt;&lt;code class=\&quot;language-javascript\&quot;&gt;const CACHE_REVALIDATION_INTERVAL_IN_S = 300\nconst REVALIDATION_STEEPNESS = 1/300\n\nfunction shouldRevalidate(expirationDate) {\n  let remainingCacheTimeInS = (expirationDate.getTime() - Date.now()) / 1000\n\n  if (remainingCacheTimeInS &amp;gt; CACHE_REVALIDATION_INTERVAL_IN_S) {\n\treturn false\n  }\n  if (remainingCacheTimeInS &amp;lt;= 0) {\n\treturn true\n  }\n// p(t) is evaluated here\n  return Math.random() &amp;lt; Math.exp(-REVALIDATION_STEEPNESS*remainingCacheTimeInS)\n}\n&lt;/pre&gt;&lt;/code&gt;\n            &lt;p&gt;&lt;i&gt;Codeblock 7: Image server with early-revalidation and a probabilistic cache using exponential distribution&lt;/i&gt;&lt;/p&gt;&lt;p&gt;And that&amp;#39;s it. Given &lt;code&gt;Date.now(&lt;/code&gt;) has a granularity, and is not continuous, it would also be possible to discretise these functions, even though the gains are minimal. This is what we have done in a &lt;a href=\&quot;https://github.com/cloudflare/privacypass-issuer/blob/main/src/cache.ts#L60-L103\&quot;&gt;&lt;u&gt;production worker implementation&lt;/u&gt;&lt;/a&gt;, where the number of requests is important. It is a service that benefits from caching for performance consideration, and that cannot use built-in &lt;a href=\&quot;https://developers.cloudflare.com/workers/runtime-apis/cache/\&quot;&gt;&lt;u&gt;stale-while-revalidate&lt;/u&gt;&lt;/a&gt; from within Cloudflare workers. Probabilistic cache stampede prevention is well-suited here, as no new component has to be built, and it performs well at different request rates.&lt;/p&gt;\n          &lt;div class=\&quot;flex anchor relative\&quot;&gt;\n            &lt;h2 id=\&quot;conclusion\&quot;&gt;Conclusion&lt;/h2&gt;\n            &lt;a href=\&quot;#conclusion\&quot; aria-hidden=\&quot;true\&quot; class=\&quot;relative sm:absolute sm:-left-5\&quot;&gt;\n              &lt;svg width=\&quot;16\&quot; height=\&quot;16\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;&lt;path fill=\&quot;currentcolor\&quot; d=\&quot;m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;p&gt;We have seen how to solve cache stampede without a lock, its implementation, and why it is optimal. In the real world, you likely will not encounter this issue: either because it’s good enough to optimize your origin service to serve more requests, or because you can leverage a CDN cache. In fact, most HTTP caches provide an API that follows &lt;a href=\&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control\&quot;&gt;&lt;u&gt;Cache Control&lt;/u&gt;&lt;/a&gt;, and likely have all the tools you need. This primitive is also built into certain products, such as &lt;a href=\&quot;https://developers.cloudflare.com/kv/platform/limits/\&quot;&gt;&lt;u&gt;Cloudflare KV&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;If you have not done so, you can go and experiment with all the code snippets presented in this blog on the Cloudflare Workers Playground at &lt;a href=\&quot;https://cloudflareworkers.com\&quot;&gt;&lt;u&gt;cloudflareworkers.com&lt;/u&gt;&lt;/a&gt;.&lt;/p&gt;&quot;],&quot;published_at&quot;:[0,&quot;2024-12-26T14:00+00:00&quot;],&quot;updated_at&quot;:[0,&quot;2025-01-10T21:56:06.997Z&quot;],&quot;feature_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5JRBcwN5l6vgSUG2l3sdz/25eb0496b0b2baa30ea890dd7c1dc078/image__1_.png&quot;],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;1x7tpPmKIUCt19EDgM1Tsl&quot;],&quot;name&quot;:[0,&quot;Research&quot;],&quot;slug&quot;:[0,&quot;research&quot;]}],[0,{&quot;id&quot;:[0,&quot;5RrjSR5vIOJAfRdT8966hf&quot;],&quot;name&quot;:[0,&quot;Cache&quot;],&quot;slug&quot;:[0,&quot;cache&quot;]}],[0,{&quot;id&quot;:[0,&quot;6hbkItfupogJP3aRDAq6v8&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;]}],[0,{&quot;id&quot;:[0,&quot;3JAY3z7p7An94s6ScuSQPf&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;]}]]],&quot;relatedTags&quot;:[0],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Thibault Meunier&quot;],&quot;slug&quot;:[0,&quot;thibault&quot;],&quot;bio&quot;:[0,null],&quot;profile_image&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1CqrdcRymVgEs1zRfSE6Xr/b8182164b0a8435b162bdd1246b7e91f/thibault.png&quot;],&quot;location&quot;:[0,null],&quot;website&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@thibmeu&quot;],&quot;facebook&quot;:[0,null],&quot;publiclyIndex&quot;:[0,true]}]]],&quot;meta_description&quot;:[0,&quot;If you want to know what cache revalidation is, how it works, and why it can involve rolling a die, read on. This blog post presents a lock-free probabilistic approach to cache revalidation, along with its implementation.&quot;],&quot;primary_author&quot;:[0,{}],&quot;localeList&quot;:[0,{&quot;name&quot;:[0,&quot;blog-english-only&quot;],&quot;enUS&quot;:[0,&quot;English for Locale&quot;],&quot;zhCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhHansCN&quot;:[0,&quot;No Page for Locale&quot;],&quot;zhTW&quot;:[0,&quot;No Page for Locale&quot;],&quot;frFR&quot;:[0,&quot;No Page for Locale&quot;],&quot;deDE&quot;:[0,&quot;No Page for Locale&quot;],&quot;itIT&quot;:[0,&quot;No Page for Locale&quot;],&quot;jaJP&quot;:[0,&quot;No Page for Locale&quot;],&quot;koKR&quot;:[0,&quot;No Page for Locale&quot;],&quot;ptBR&quot;:[0,&quot;No Page for Locale&quot;],&quot;esLA&quot;:[0,&quot;No Page for Locale&quot;],&quot;esES&quot;:[0,&quot;No Page for Locale&quot;],&quot;enAU&quot;:[0,&quot;No Page for Locale&quot;],&quot;enCA&quot;:[0,&quot;No Page for Locale&quot;],&quot;enIN&quot;:[0,&quot;No Page for Locale&quot;],&quot;enGB&quot;:[0,&quot;No Page for Locale&quot;],&quot;idID&quot;:[0,&quot;No Page for Locale&quot;],&quot;ruRU&quot;:[0,&quot;No Page for Locale&quot;],&quot;svSE&quot;:[0,&quot;No Page for Locale&quot;],&quot;viVN&quot;:[0,&quot;No Page for Locale&quot;],&quot;plPL&quot;:[0,&quot;No Page for Locale&quot;],&quot;arAR&quot;:[0,&quot;No Page for Locale&quot;],&quot;nlNL&quot;:[0,&quot;No Page for Locale&quot;],&quot;thTH&quot;:[0,&quot;No Page for Locale&quot;],&quot;trTR&quot;:[0,&quot;No Page for Locale&quot;],&quot;heIL&quot;:[0,&quot;No Page for Locale&quot;],&quot;lvLV&quot;:[0,&quot;No Page for Locale&quot;],&quot;etEE&quot;:[0,&quot;No Page for Locale&quot;],&quot;ltLT&quot;:[0,&quot;No Page for Locale&quot;]}],&quot;url&quot;:[0,&quot;https://blog.cloudflare.com/sometimes-i-cache&quot;],&quot;metadata&quot;:[0,{&quot;title&quot;:[0,&quot;Sometimes I cache: implementing lock-free probabilistic caching&quot;],&quot;description&quot;:[0,&quot;If you want to know what cache revalidation is, how it works, and why it can involve rolling a die, read on. This blog post presents a lock-free probabilistic approach to cache revalidation, along with its implementation.&quot;],&quot;imgPreview&quot;:[0,&quot;https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3IAq3KKuEXijAkIY8E3rgU/b0aa6e8f62c10cd392fa858fcb849169/BLOG-2639_OGa.png&quot;]}],&quot;publicly_index&quot;:[0,true]}]]],&quot;translations&quot;:[0,{&quot;posts.by&quot;:[0,&quot;By&quot;],&quot;footer.gdpr&quot;:[0,&quot;GDPR&quot;],&quot;lang_blurb1&quot;:[0,&quot;This post is also available in {lang1}.&quot;],&quot;lang_blurb2&quot;:[0,&quot;This post is also available in {lang1} and {lang2}.&quot;],&quot;lang_blurb3&quot;:[0,&quot;This post is also available in {lang1}, {lang2} and {lang3}.&quot;],&quot;footer.press&quot;:[0,&quot;Press&quot;],&quot;header.title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;search.clear&quot;:[0,&quot;Clear&quot;],&quot;search.filter&quot;:[0,&quot;Filter&quot;],&quot;search.source&quot;:[0,&quot;Source&quot;],&quot;footer.careers&quot;:[0,&quot;Careers&quot;],&quot;footer.company&quot;:[0,&quot;Company&quot;],&quot;footer.support&quot;:[0,&quot;Support&quot;],&quot;footer.the_net&quot;:[0,&quot;theNet&quot;],&quot;search.filters&quot;:[0,&quot;Filters&quot;],&quot;footer.our_team&quot;:[0,&quot;Our team&quot;],&quot;footer.webinars&quot;:[0,&quot;Webinars&quot;],&quot;page.more_posts&quot;:[0,&quot;More posts&quot;],&quot;posts.time_read&quot;:[0,&quot;{time} min read&quot;],&quot;search.language&quot;:[0,&quot;Language&quot;],&quot;footer.community&quot;:[0,&quot;Community&quot;],&quot;footer.resources&quot;:[0,&quot;Resources&quot;],&quot;footer.solutions&quot;:[0,&quot;Solutions&quot;],&quot;footer.trademark&quot;:[0,&quot;Trademark&quot;],&quot;header.subscribe&quot;:[0,&quot;Subscribe&quot;],&quot;footer.compliance&quot;:[0,&quot;Compliance&quot;],&quot;footer.free_plans&quot;:[0,&quot;Free plans&quot;],&quot;footer.impact_ESG&quot;:[0,&quot;Impact/ESG&quot;],&quot;posts.follow_on_X&quot;:[0,&quot;Follow on X&quot;],&quot;footer.help_center&quot;:[0,&quot;Help center&quot;],&quot;footer.network_map&quot;:[0,&quot;Network Map&quot;],&quot;header.please_wait&quot;:[0,&quot;Please Wait&quot;],&quot;page.related_posts&quot;:[0,&quot;Related posts&quot;],&quot;search.result_stat&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt; for &lt;strong&gt;{search_keyword}&lt;/strong&gt;&quot;],&quot;footer.case_studies&quot;:[0,&quot;Case Studies&quot;],&quot;footer.connect_2024&quot;:[0,&quot;Connect 2024&quot;],&quot;footer.terms_of_use&quot;:[0,&quot;Terms of Use&quot;],&quot;footer.white_papers&quot;:[0,&quot;White Papers&quot;],&quot;footer.cloudflare_tv&quot;:[0,&quot;Cloudflare TV&quot;],&quot;footer.community_hub&quot;:[0,&quot;Community Hub&quot;],&quot;footer.compare_plans&quot;:[0,&quot;Compare plans&quot;],&quot;footer.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.contact_sales&quot;:[0,&quot;Contact Sales&quot;],&quot;header.email_address&quot;:[0,&quot;Email Address&quot;],&quot;page.error.not_found&quot;:[0,&quot;Page not found&quot;],&quot;footer.developer_docs&quot;:[0,&quot;Developer docs&quot;],&quot;footer.privacy_policy&quot;:[0,&quot;Privacy Policy&quot;],&quot;footer.request_a_demo&quot;:[0,&quot;Request a demo&quot;],&quot;page.continue_reading&quot;:[0,&quot;Continue reading&quot;],&quot;footer.analysts_report&quot;:[0,&quot;Analyst reports&quot;],&quot;footer.for_enterprises&quot;:[0,&quot;For enterprises&quot;],&quot;footer.getting_started&quot;:[0,&quot;Getting Started&quot;],&quot;footer.learning_center&quot;:[0,&quot;Learning Center&quot;],&quot;footer.project_galileo&quot;:[0,&quot;Project Galileo&quot;],&quot;pagination.newer_posts&quot;:[0,&quot;Newer Posts&quot;],&quot;pagination.older_posts&quot;:[0,&quot;Older Posts&quot;],&quot;posts.social_buttons.x&quot;:[0,&quot;Discuss on X&quot;],&quot;search.icon_aria_label&quot;:[0,&quot;Search&quot;],&quot;search.source_location&quot;:[0,&quot;Source/Location&quot;],&quot;footer.about_cloudflare&quot;:[0,&quot;About Cloudflare&quot;],&quot;footer.athenian_project&quot;:[0,&quot;Athenian Project&quot;],&quot;footer.become_a_partner&quot;:[0,&quot;Become a partner&quot;],&quot;footer.cloudflare_radar&quot;:[0,&quot;Cloudflare Radar&quot;],&quot;footer.network_services&quot;:[0,&quot;Network services&quot;],&quot;footer.trust_and_safety&quot;:[0,&quot;Trust &amp; Safety&quot;],&quot;header.get_started_free&quot;:[0,&quot;Get Started Free&quot;],&quot;page.search.placeholder&quot;:[0,&quot;Search Cloudflare&quot;],&quot;footer.cloudflare_status&quot;:[0,&quot;Cloudflare Status&quot;],&quot;footer.cookie_preference&quot;:[0,&quot;Cookie Preferences&quot;],&quot;header.valid_email_error&quot;:[0,&quot;Must be valid email.&quot;],&quot;search.result_stat_empty&quot;:[0,&quot;Results &lt;strong&gt;{search_range}&lt;/strong&gt; of &lt;strong&gt;{search_total}&lt;/strong&gt;&quot;],&quot;footer.connectivity_cloud&quot;:[0,&quot;Connectivity cloud&quot;],&quot;footer.developer_services&quot;:[0,&quot;Developer services&quot;],&quot;footer.investor_relations&quot;:[0,&quot;Investor relations&quot;],&quot;page.not_found.error_code&quot;:[0,&quot;Error Code: 404&quot;],&quot;search.autocomplete_title&quot;:[0,&quot;Insert a query. Press enter to send&quot;],&quot;footer.logos_and_press_kit&quot;:[0,&quot;Logos &amp; press kit&quot;],&quot;footer.application_services&quot;:[0,&quot;Application services&quot;],&quot;footer.get_a_recommendation&quot;:[0,&quot;Get a recommendation&quot;],&quot;posts.social_buttons.reddit&quot;:[0,&quot;Discuss on Reddit&quot;],&quot;footer.sse_and_sase_services&quot;:[0,&quot;SSE and SASE services&quot;],&quot;page.not_found.outdated_link&quot;:[0,&quot;You may have used an outdated link, or you may have typed the address incorrectly.&quot;],&quot;footer.report_security_issues&quot;:[0,&quot;Report Security Issues&quot;],&quot;page.error.error_message_page&quot;:[0,&quot;Sorry, we can&#39;t find the page you are looking for.&quot;],&quot;header.subscribe_notifications&quot;:[0,&quot;Subscribe to receive notifications of new posts:&quot;],&quot;footer.cloudflare_for_campaigns&quot;:[0,&quot;Cloudflare for Campaigns&quot;],&quot;header.subscription_confimation&quot;:[0,&quot;Subscription confirmed. Thank you for subscribing!&quot;],&quot;posts.social_buttons.hackernews&quot;:[0,&quot;Discuss on Hacker News&quot;],&quot;footer.diversity_equity_inclusion&quot;:[0,&quot;Diversity, equity &amp; inclusion&quot;],&quot;footer.critical_infrastructure_defense_project&quot;:[0,&quot;Critical Infrastructure Defense Project&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;MorePosts&quot;,&quot;value&quot;:true}" await-children><div class="w-100 bt-l b--gray8"><h3 data-testid="more-posts-title" class="orange fw5 f4 ph3 mt4">MORE POSTS</h3></div><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-11T14:00+00:00">April 11, 2025  2:00 PM</p><a href="/expanding-cloudflares-startup-program/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Startup Program update: empowering every stage of the startup journey</h6></a><p class="gray1 lh-copy">Cloudflare’s Startup Program offers up to $250,000 in credits for companies building on our Developer Platform across 4 tiers: $5,000, $25,000, $100,000, and $250,000.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/christopher-rotas/" class="fw5 f2 black no-underline">Christopher Rotas</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/melissa-kargiannakis/" class="fw5 f2 black no-underline">Melissa Kargiannakis</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/cloudflare-for-startups/" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare for Startups</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developers/" class="no-underline f1 fw2 blue3 underline-hover">Developers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/serverless/" class="no-underline f1 fw2 blue3 underline-hover">Serverless</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-11T14:00+00:00">April 11, 2025  2:00 PM</p><a href="/simplifying-ncmec-reporting-with-cloudflare-workflows/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">How we simplified NCMEC reporting with Cloudflare Workflows</h6></a><p class="gray1 lh-copy">We transitioned to Cloudflare Workflows to manage complex, multi-step processes more efficiently. This shift replaced our National Center for Missing &amp; Exploited Children (NCMEC) reporting system.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/mahmoud-salem/" class="fw5 f2 black no-underline">Mahmoud Salem</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/rachael-truong/" class="fw5 f2 black no-underline">Rachael Truong</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workflows/" class="no-underline f1 fw2 blue3 underline-hover">Workflows</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/csam-reporting/" class="no-underline f1 fw2 blue3 underline-hover">CSAM Reporting</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/automation/" class="no-underline f1 fw2 blue3 underline-hover">Automation</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-11T14:00+01:00">April 11, 2025  1:00 PM</p><a href="/workers-ai-improvements/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Workers AI gets a speed boost, batch workload support, more LoRAs, new models, and a refreshed dashboard</h6></a><p class="gray1 lh-copy">We just made Workers AI inference faster with speculative decoding &amp; prefix caching. Use our new batch inference for handling large request volumes seamlessly.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/michelle/" class="fw5 f2 black no-underline">Michelle Chen</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/jesse/" class="fw5 f2 black no-underline">Jesse Kipp</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developers/" class="no-underline f1 fw2 blue3 underline-hover">Developers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-10T14:00+00:00">April 10, 2025  2:00 PM</p><a href="/r2-data-catalog-public-beta/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">R2 Data Catalog: Managed Apache Iceberg tables with zero egress fees</h6></a><p class="gray1 lh-copy">R2 Data Catalog is now in public beta: a managed Apache Iceberg data catalog built directly into your R2 bucket.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/phillip/" class="fw5 f2 black no-underline">Phillip Jones</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/garvit-gupta/" class="fw5 f2 black no-underline">Garvit Gupta</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/alex-graham/" class="fw5 f2 black no-underline">Alex Graham</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/garrett-gu/" class="fw5 f2 black no-underline">Garrett Gu</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/r2/" class="no-underline f1 fw2 blue3 underline-hover">R2</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/data-catalog/" class="no-underline f1 fw2 blue3 underline-hover">Data Catalog</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/storage/" class="no-underline f1 fw2 blue3 underline-hover">Storage</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-10T14:00+00:00">April 10, 2025  2:00 PM</p><a href="/d1-read-replication-beta/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Sequential consistency without borders: how D1 implements global read replication</h6></a><p class="gray1 lh-copy">D1, Cloudflare’s managed SQL database, announces read replication beta. Here&#x27;s a deep dive of the read replication implementation and how your queries can remain consistent across all regions.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/justin-mazzola-paluska/" class="fw5 f2 black no-underline">Justin Mazzola Paluska</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/lambros-petrou/" class="fw5 f2 black no-underline">Lambros Petrou</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/d1/" class="no-underline f1 fw2 blue3 underline-hover">D1</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/deep-dive/" class="no-underline f1 fw2 blue3 underline-hover">Deep Dive</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/edge-database/" class="no-underline f1 fw2 blue3 underline-hover">Edge Database</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-10T14:00+00:00">April 10, 2025  2:00 PM</p><a href="/cloudflare-acquires-arroyo-pipelines-streaming-ingestion-beta/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Just landed: streaming ingestion on Cloudflare with Arroyo and Pipelines</h6></a><p class="gray1 lh-copy">We’ve just shipped our new streaming ingestion service, Pipelines — and we’ve acquired Arroyo, enabling us to bring new SQL-based, stateful transformations to Pipelines and R2.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/micah-wylde/" class="fw5 f2 black no-underline">Micah Wylde</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/silverlock/" class="fw5 f2 black no-underline">Matt Silverlock</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/pranshu-maheshwari/" class="fw5 f2 black no-underline">Pranshu Maheshwari</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/r2/" class="no-underline f1 fw2 blue3 underline-hover">R2</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/pipelines/" class="no-underline f1 fw2 blue3 underline-hover">Pipelines</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workers/" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-08T14:00+00:00">April 08, 2025  2:00 PM</p><a href="/how-hyperdrive-speeds-up-database-access/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Pools across the sea: how Hyperdrive speeds up access to databases and why we’re making it free</h6></a><p class="gray1 lh-copy">Hyperdrive, Cloudflare&#x27;s global connection pooler, relies on some key innovations to make your database connections work. Let&#x27;s dive deeper, in celebration of its availability for Free Plan customers.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/andrew-repp/" class="fw5 f2 black no-underline">Andrew Repp</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/matt-alonso/" class="fw5 f2 black no-underline">Matt Alonso</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/deep-dive/" class="no-underline f1 fw2 blue3 underline-hover">Deep Dive</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workers/" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/hyperdrive/" class="no-underline f1 fw2 blue3 underline-hover">Hyperdrive</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-07T14:00+00:00">April 07, 2025  2:00 PM</p><a href="/cloudflare-acquires-outerbase-database-dx/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Cloudflare acquires Outerbase to expand database and agent developer experience capabilities</h6></a><p class="gray1 lh-copy">Cloudflare has acquired Outerbase, expanding our database and agent developer experience capabilities.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/brandon-strittmatter/" class="fw5 f2 black no-underline">Brandon Strittmatter</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/silverlock/" class="fw5 f2 black no-underline">Matt Silverlock</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/d1/" class="no-underline f1 fw2 blue3 underline-hover">D1</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/durable-objects/" class="no-underline f1 fw2 blue3 underline-hover">Durable Objects</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workers/" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-07T14:00+00:00">April 07, 2025  2:00 PM</p><a href="/workflows-ga-production-ready-durable-execution/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Cloudflare Workflows is now GA: production-ready durable execution</h6></a><p class="gray1 lh-copy">Workflows — a durable execution engine built directly on top of Workers — is now Generally Available. We’ve landed new human-in-the-loop capabilities, more scale, and more metrics.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/sid/" class="fw5 f2 black no-underline">Sid Chatterjee</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/silverlock/" class="fw5 f2 black no-underline">Matt Silverlock</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workers/" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workflows/" class="no-underline f1 fw2 blue3 underline-hover">Workflows</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-07T14:00+00:00">April 07, 2025  2:00 PM</p><a href="/introducing-autorag-on-cloudflare/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Introducing AutoRAG: fully managed Retrieval-Augmented Generation on Cloudflare</h6></a><p class="gray1 lh-copy">AutoRAG is here: fully managed Retrieval-Augmented Generation (RAG) pipelines powered by Cloudflare&#x27;s global network and powerful developer ecosystem. <!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/anni/" class="fw5 f2 black no-underline">Anni Wang</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/developer-week/" class="no-underline f1 fw2 blue3 underline-hover">Developer Week</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/ai/" class="no-underline f1 fw2 blue3 underline-hover">AI</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/auto-rag/" class="no-underline f1 fw2 blue3 underline-hover">Auto Rag</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/browser-rendering/" class="no-underline f1 fw2 blue3 underline-hover">Browser Rendering</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-04-02T14:00+01:00">April 02, 2025  1:00 PM</p><a href="/yarn-test-suffers-strange-derailment/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">A steam locomotive from 1993 broke my yarn test</h6></a><p class="gray1 lh-copy">Yarn tests fail consistently at the 27-second mark. The usual suspects are swiftly eliminated. A deep dive is taken to comb through traces, only to be derailed into an unexpected crash investigation.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/yew-leong/" class="fw5 f2 black no-underline">Yew Leong</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/deep-dive/" class="no-underline f1 fw2 blue3 underline-hover">Deep Dive</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/linux/" class="no-underline f1 fw2 blue3 underline-hover">Linux</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developers/" class="no-underline f1 fw2 blue3 underline-hover">Developers</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-03-20T13:10+00:00">March 20, 2025  1:10 PM</p><a href="/introducing-ai-agent/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Introducing Cloudy, Cloudflare’s AI agent for simplifying complex configurations</h6></a><p class="gray1 lh-copy">Cloudflare’s first AI agent, Cloudy, helps make complicated configurations easy to understand for Cloudflare administrators.<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/alex-dunbrack/" class="fw5 f2 black no-underline">Alex Dunbrack</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/harsh-saxena/" class="fw5 f2 black no-underline">Harsh Saxena</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/workers-ai/" class="no-underline f1 fw2 blue3 underline-hover">Workers AI</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workers/" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developers/" class="no-underline f1 fw2 blue3 underline-hover">Developers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/llm/" class="no-underline f1 fw2 blue3 underline-hover">LLM</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-02-26T14:00+00:00">February 26, 2025  2:00 PM</p><a href="/guardrails-in-ai-gateway/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Keep AI interactions secure and risk-free with Guardrails in AI Gateway</h6></a><p class="gray1 lh-copy">Deploy AI safely with built-in Guardrails in AI Gateway. Flag and block harmful or inappropriate content, protect personal data, and ensure compliance in real-time<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/kathy/" class="fw5 f2 black no-underline">Kathy Liao</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/ai/" class="no-underline f1 fw2 blue3 underline-hover">AI</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developers/" class="no-underline f1 fw2 blue3 underline-hover">Developers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/ai-gateway/" class="no-underline f1 fw2 blue3 underline-hover">AI Gateway</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/security/" class="no-underline f1 fw2 blue3 underline-hover">Security</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2025-01-08T14:00+00:00">January 08, 2025  2:00 PM</p><a href="/open-source-all-the-way-down-upgrading-our-developer-documentation/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Open source all the way down: Upgrading our developer documentation</h6></a><p class="gray1 lh-copy">At Cloudflare, we treat developer content like an open source product. This collaborative approach enables global contributions to enhance quality and relevance for a wide range of users. This year,<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/kim/" class="fw5 f2 black no-underline">Kim Jeske</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/kian-newman-hazel/" class="fw5 f2 black no-underline">Kian Newman-Hazel</a></div></li><li class="list flex items-center"><div class="author-name-tooltip"><span class="fw5 f2 black no-underline">, </span><a href="/author/kody/" class="fw5 f2 black no-underline">Kody Jackson</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/technical-writing/" class="no-underline f1 fw2 blue3 underline-hover">Technical Writing</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/open-source/" class="no-underline f1 fw2 blue3 underline-hover">Open Source</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-documentation/" class="no-underline f1 fw2 blue3 underline-hover">Developer Documentation</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developers/" class="no-underline f1 fw2 blue3 underline-hover">Developers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div></div></article><article data-testid="more-posts-article" class="w-100 w-100-m ph3 mb4"><p class="f3 fw5 gray1" data-iso-date="2024-12-26T14:00+00:00">December 26, 2024  2:00 PM</p><a href="/sometimes-i-cache/" class="no-underline gray1 f4 fw5"><h6 class="gray1 f4 fw5 mt2">Sometimes I cache: implementing lock-free probabilistic caching</h6></a><p class="gray1 lh-copy">If you want to know what cache revalidation is, how it works, and why it can involve rolling a die, read on. This blog post presents a lock-free probabilistic approach to cache revalidation, along 
<!-- -->...</p><ul class="flex pl0 fw6 f2"><span>By<!-- --> </span><li class="list flex items-center"><div class="author-name-tooltip"><a href="/author/thibault/" class="fw5 f2 black no-underline">Thibault Meunier</a></div></li></ul><div class="flex flex-row flex-wrap"><div><a href="/tag/research/" class="no-underline f1 fw2 blue3 underline-hover">Research</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/cache/" class="no-underline f1 fw2 blue3 underline-hover">Cache</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/workers/" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a></div><div><span class="f1 fw2 blue3 no-underline underline-hover">, </span><a href="/tag/developer-platform/" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform</a></div></div></article><!--astro:end--></astro-island> <div class="pagination mw-100 center mv5 ph3 w-100 tc"><div class="center w-50-l w-100"><div class="flex items-center justify-center justify-around-m "><ul class="flex list ml3" style="padding-inline-start:inherit"><li class="gray"><a class="no-underline  underline-hover  dib-m dib-l mr1 gray3 " href="/tag/developer-platform/">1</a></li><li class=""><a class="no-underline  underline-hover  dib-m dib-l mr1 blue3" href="/tag/developer-platform/page/2/">2</a></li><li class="ml">…</li><li><a class="no-underline  underline-hover dib-m dib-l mr3 blue3" href="/tag/developer-platform/page/17/">17</a></li></ul><span><a class="no-underline blue3 underline-hover" data-testid="pagination-toggle-next" href="/tag/developer-platform/page/2/" rel="prev"><span class="underline-hover dn dib-m dib-l">Older Posts</span> →</a></span></div></div></div> </main>  <footer class="pt4 pb4 pl1 pr1 main-footer"><div class="mw8 center dn db-l ph3"><div class="flex flex-row justify-between"><div class="main-footer__menu-group"><ul id="getting-started-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="getting-started-menu">Getting Started<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/plans/free/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="free-plans" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Free plans</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/enterprise/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="enterprise" class="f1 blue3 no-underline underline-hover" rel="noreferrer">For enterprises</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/plans/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="compare-plans" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Compare plans</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/about-your-website/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="get-a-recommendation" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Get a recommendation</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/plans/enterprise/demo/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="request-a-demo" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Request a demo</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/plans/enterprise/contact/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="contact-sales" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Contact Sales</a></li></ul></div><div class="main-footer__menu-group"><ul id="company-menu" class="list pl0"><li class="pt1 pb1 f1" data-submenu="company-menu">Resources<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/learning/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="learning-center" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Learning Center</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/analysts/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="analysts-report" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Analyst reports</a></li><li class="pt1 pb1"><a href="https://radar.cloudflare.com/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare Radar</a></li><li class="pt1 pb1"><a href="https://cloudflare.tv/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="tv" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare TV</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/case-studies/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="case-studies" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Case Studies</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/resource-hub/?resourcetype=Webinar" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="webinars" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Webinars</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/resource-hub/?resourcetype=Whitepaper" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="white-papers" class="f1 blue3 no-underline underline-hover" rel="noreferrer">White Papers</a></li><li class="pt1 pb1"><a href="https://developers.cloudflare.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="developer-docs" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Developer docs</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/the-net/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="theNet" class="f1 blue3 no-underline underline-hover" rel="noreferrer">theNet</a></li></ul></div><div class="main-footer__menu-group"><ul id="sales-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="sales-menu">Solutions<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/connectivity-cloud/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="connectivity-cloud" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Connectivity cloud</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/zero-trust/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="zero-trust" class="f1 blue3 no-underline underline-hover" rel="noreferrer">SSE and SASE services</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/application-services/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="application-services" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Application services</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/network-services/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="network-services" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Network services</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/developer-platform/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="developer-services" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Developer services</a></li></ul></div><div class="main-footer__menu-group"><ul id="community-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="community-menu">Community<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://community.cloudflare.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="community_hub" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Community Hub</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/galileo/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="galileo" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Project Galileo</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/athenian/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="athenian" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Athenian Project</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/campaigns/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="cloudflare-for-campaigns" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare for Campaigns</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/partners/technology-partners/cidp/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="critical-infrastructure-defense-project" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Critical Infrastructure Defense Project</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/connect2024/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="connect-2024" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Connect 2024</a></li></ul></div><div class="main-footer__menu-group"><ul id="support-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="support-menu">Support<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://support.cloudflare.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="help-center" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Help center</a></li><li class="pt1 pb1"><a href="https://www.cloudflarestatus.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="status" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare Status</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/compliance/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="compliance" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Compliance</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/gdpr/introduction/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="gdpr" class="f1 blue3 no-underline underline-hover" rel="noreferrer">GDPR</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/trust-hub/abuse-approach/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="trust-and-safety" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Trust &amp; Safety</a></li></ul></div><div class="main-footer__menu-group"><ul id="company-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="company-menu">Company<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/about-overview/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">About Cloudflare</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/people/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="our_team" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Our team</a></li><li class="pt1 pb1"><a href="https://cloudflare.net/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="investor-relations" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Investor relations</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/press/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="press" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Press</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/careers/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="careers" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Careers</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/diversity-equity-and-inclusion/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="diversity-equity-inclusion" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Diversity, equity &amp; inclusion</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/impact/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="impact-ESG" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Impact/ESG</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/network/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="network_map" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Network Map</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/press-kit/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="press-kit" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Logos &amp; press kit</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/partners/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="partners" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Become a partner</a></li></ul></div></div></div><div class="mw8 center ph3"><div class="flex flex-row flex-wrap justify-center md:justify-between items-center pt4"><div class="flex flex-row space-x-4 items-start w-25-l pb4 pb0-l"><a target="_blank" rel="noreferrer" href="https://www.facebook.com/Cloudflare/" class="w-8"><img class="w-8" src="https://www.cloudflare.com/img/footer/facebook.svg" alt="facebook"/></a><a target=" _blank" rel="noreferrer" href="https://x.com/Cloudflare" class="w-8"><img class="w-8" src="https://www.cloudflare.com/img/footer/twitter.svg" alt="X"/></a><a target="_blank" rel="noreferrer" href="https://www.linkedin.com/company/cloudflare" class="w-8"><img class="w-8" src="https://www.cloudflare.com/img/footer/linkedin.svg" alt="linkedin"/></a><a target="_blank" rel="noreferrer" href="https://www.youtube.com/cloudflare" class="w-8"><img class="w-8" src="https://www.cloudflare.com/img/footer/youtube.svg" alt="youtube"/></a><a target="_blank" rel="noreferrer" href="https://www.instagram.com/cloudflare" class="w-8"><img class="w-8" src="https://www.cloudflare.com/img/footer/instagram.svg" alt="instagram"/></a></div><div class="w-70-l tr-l tl-ns"><div><span class="main-footer__copyright f1">© <!-- -->2025<!-- --> Cloudflare, Inc.<!-- --> </span><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/privacypolicy/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Privacy Policy<!-- --> </a><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/website-terms/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Terms of Use<!-- --> </a><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/disclosure/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Report Security Issues<!-- --> </a><span class="main-footer__copyright f1">|</span><img class="mw2 ph1" src="/images/privacy-options.svg" alt="Privacy Options"/><a href="#cookie-settings" id="ot-sdk-btn" class="ot-sdk-show-settings main-footer__copyright f1 no-underline underline-hover"><span class="brandGray5">Cookie Preferences</span> </a><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/trademark/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Trademark<!-- --> </a></div></div></div></div></footer></html>